(self.webpackChunkMapViewElements=self.webpackChunkMapViewElements||[]).push([[179],{5218:(ot,oe,ie)=>{"use strict";function Q(n){return"function"==typeof n}function F(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const U=F(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function T(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class R{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Q(i))try{i()}catch(o){e=o instanceof U?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{L(o)}catch(s){e=e??[],s instanceof U?e=[...e,...s.errors]:e.push(s)}}if(e)throw new U(e)}}add(e){var t;if(e&&e!==this)if(this.closed)L(e);else{if(e instanceof R){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&T(t,e)}remove(e){const{_finalizers:t}=this;t&&T(t,e),e instanceof R&&e._removeParent(this)}}R.EMPTY=(()=>{const n=new R;return n.closed=!0,n})();const Y=R.EMPTY;function I(n){return n instanceof R||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function L(n){Q(n)?n():n.unsubscribe()}const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout(n,e,...t){const{delegate:i}=b;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=b;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function y(n){b.setTimeout(()=>{const{onUnhandledError:e}=O;if(!e)throw n;e(n)})}function x(){}const P=z("C",void 0,void 0);function z(n,e,t){return{kind:n,value:e,error:t}}let K=null;function N(n){if(O.useDeprecatedSynchronousErrorHandling){const e=!K;if(e&&(K={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=K;if(K=null,t)throw i}}else n()}class J extends R{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,I(e)&&e.add(this)):this.destination=Re}static create(e,t,i){return new Ce(e,t,i)}next(e){this.isStopped?W(function C(n){return z("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?W(function k(n){return z("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?W(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const le=Function.prototype.bind;function de(n,e){return le.call(n,e)}class ve{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){fe(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){fe(i)}else fe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fe(t)}}}class Ce extends J{constructor(e,t,i){let r;if(super(),Q(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&O.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&de(e.next,o),error:e.error&&de(e.error,o),complete:e.complete&&de(e.complete,o)}):r=e}this.destination=new ve(r)}}function fe(n){O.useDeprecatedSynchronousErrorHandling?function ne(n){O.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=n)}(n):y(n)}function W(n,e){const{onStoppedNotification:t}=O;t&&b.setTimeout(()=>t(n,e))}const Re={closed:!0,next:x,error:function De(n){throw n},complete:x},lt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ve(n){return n}let it=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function pt(n){return n&&n instanceof J||function we(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}(n)&&I(n)}(t)?t:new Ce(t,i,r);return N(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Te(i))((r,o)=>{const s=new Ce({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[lt](){return this}pipe(...t){return function We(n){return 0===n.length?Ve:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Te(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Te(n){var e;return null!==(e=n??O.Promise)&&void 0!==e?e:Promise}const Xe=F(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pe=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new mn(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Xe}next(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Y:(this.currentObservers=null,o.push(t),new R(()=>{this.currentObservers=null,T(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new it;return t.source=this,t}}return n.create=(e,t)=>new mn(e,t),n})();class mn extends Pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Y}}function gt(n){return e=>{if(function Ln(n){return Q(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(n,e,t,i,r){return new _n(n,e,t,i,r)}class _n extends J{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function jt(n,e){return gt((t,i)=>{let r=0;t.subscribe(Dt(i,o=>{i.next(n.call(e,o,r++))}))})}function tn(n){return this instanceof tn?(this.v=n,this):new tn(n)}function Kt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){i[p]&&(r[p]=function(E){return new Promise(function(D,H){o.push([p,E,D,H])>1||a(p,E)})})}function a(p,E){try{!function l(p){p.value instanceof tn?Promise.resolve(p.value.v).then(c,h):f(o[0][2],p)}(i[p](E))}catch(D){f(o[0][3],D)}}function c(p){a("next",p)}function h(p){a("throw",p)}function f(p,E){p(E),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Oi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ge(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Ol=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Md(n){return Q(n?.then)}function Ad(n){return Q(n[lt])}function Rd(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function Vt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pd=function Em(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kd(n){return Q(n?.[Pd])}function ci(n){return Kt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield tn(t.read());if(r)return yield tn(void 0);yield yield tn(i)}}finally{t.releaseLock()}})}function Od(n){return Q(n?.getReader)}function mr(n){if(n instanceof it)return n;if(null!=n){if(Ad(n))return function Fd(n){return new it(e=>{const t=n[lt]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ol(n))return function xm(n){return new it(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Md(n))return function Cm(n){return new it(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,y)})}(n);if(Rd(n))return us(n);if(kd(n))return function Sm(n){return new it(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Od(n))return function Dm(n){return us(ci(n))}(n)}throw Vt(n)}function us(n){return new it(e=>{(function Tm(n,e){var t,i,r,o;return function G(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{c(i.next(h))}catch(f){s(f)}}function l(h){try{c(i.throw(h))}catch(f){s(f)}}function c(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Oi(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Kr(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vu(n,e,t=1/0){return Q(e)?vu((i,r)=>jt((o,s)=>e(i,o,r,s))(mr(n(i,r))),t):("number"==typeof e&&(t=e),gt((i,r)=>function Im(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,f=!1;const p=()=>{f&&!l.length&&!c&&e.complete()},E=H=>c<i?D(H):l.push(H),D=H=>{o&&e.next(H),c++;let $=!1;mr(t(H,h++)).subscribe(Dt(e,te=>{r?.(te),o?E(te):e.next(te)},()=>{$=!0},void 0,()=>{if($)try{for(c--;l.length&&c<i;){const te=l.shift();s?Kr(e,s,()=>D(te)):D(te)}p()}catch(te){e.error(te)}}))};return n.subscribe(Dt(e,E,()=>{f=!0,p()})),()=>{a?.()}}(i,r,n,t)))}function Ld(n=1/0){return vu(Ve,n)}const wu=new it(n=>n.complete());function Nd(n){return n&&Q(n.schedule)}function Fl(n){return n[n.length-1]}function Ll(n){return Nd(Fl(n))?n.pop():void 0}function za(n,e=0){return gt((t,i)=>{t.subscribe(Dt(i,r=>Kr(i,n,()=>i.next(r),e),()=>Kr(i,n,()=>i.complete(),e),r=>Kr(i,n,()=>i.error(r),e)))})}function Bd(n,e=0){return gt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Eu(n,e){if(!n)throw new Error("Iterable cannot be null");return new it(t=>{Kr(t,e,()=>{const i=n[Symbol.asyncIterator]();Kr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Nl(n,e){return e?function Gd(n,e){if(null!=n){if(Ad(n))return function zd(n,e){return mr(n).pipe(Bd(e),za(e))}(n,e);if(Ol(n))return function jd(n,e){return new it(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Md(n))return function Am(n,e){return mr(n).pipe(Bd(e),za(e))}(n,e);if(Rd(n))return Eu(n,e);if(kd(n))return function Ud(n,e){return new it(t=>{let i;return Kr(t,e,()=>{i=n[Pd](),Kr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}(n,e);if(Od(n))return function Rm(n,e){return Eu(ci(n),e)}(n,e)}throw Vt(n)}(n,e):mr(n)}function hs(...n){const e=Ll(n),t=function Mm(n,e){return"number"==typeof Fl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?mr(i[0]):Ld(t)(Nl(i,e)):wu}function ja(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ce({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function Cn(n){for(let e in n)if(n[e]===Cn)return e;throw Error("Could not find renamed property on target object.")}function xu(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(nn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Vl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Wd=Cn({__forward_ref__:Cn});function Sn(n){return n.__forward_ref__=Sn,n.toString=function(){return nn(this())},n}function St(n){return Ti(n)?n():n}function Ti(n){return"function"==typeof n&&n.hasOwnProperty(Wd)&&n.__forward_ref__===Sn}class Ye extends Error{constructor(e,t){super(function Lo(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Wt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ua(n,e){throw new Ye(-201,!1)}function tr(n,e){null==n&&function wn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function an(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bl(n){return Kd(n,zl)||Kd(n,$d)}function Kd(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ga(n){return n&&(n.hasOwnProperty(jl)||n.hasOwnProperty(Um))?n[jl]:null}const zl=Cn({\u0275prov:Cn}),jl=Cn({\u0275inj:Cn}),$d=Cn({ngInjectableDef:Cn}),Um=Cn({ngInjectorDef:Cn});var Bt=(()=>((Bt=Bt||{})[Bt.Default=0]="Default",Bt[Bt.Host=1]="Host",Bt[Bt.Self=2]="Self",Bt[Bt.SkipSelf=4]="SkipSelf",Bt[Bt.Optional=8]="Optional",Bt))();let Su;function nr(n){const e=Su;return Su=n,e}function _r(n,e,t){const i=Bl(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Bt.Optional?null:void 0!==e?e:void Ua(nn(n))}function No(n){return{toString:n}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),yr=(()=>{return(n=yr||(yr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",yr;var n})();const Pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zs={},hn=[],Gl=Cn({\u0275cmp:Cn}),Du=Cn({\u0275dir:Cn}),Tu=Cn({\u0275pipe:Cn}),qd=Cn({\u0275mod:Cn}),uo=Cn({\u0275fac:Cn}),ds=Cn({__NG_ELEMENT_ID__:Cn});let Gm=0;function Yr(n){return No(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||yr.Emulated,id:"c"+Gm++,styles:n.styles||hn,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=Jd(n.inputs,i),r.outputs=Jd(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Xd).filter(Qd):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Li).filter(Qd):null,r})}function Xd(n){return xn(n)||Fi(n)}function Qd(n){return null!==n}function jn(n){return No(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jd(n,e){if(null==n)return Zs;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}const Mt=Yr;function xn(n){return n[Gl]||null}function Fi(n){return n[Du]||null}function Li(n){return n[Tu]||null}function Wi(n){return Array.isArray(n)&&"object"==typeof n[1]}function kr(n){return Array.isArray(n)&&!0===n[1]}function Mu(n){return 0!=(8&n.flags)}function Zl(n){return 2==(2&n.flags)}function Kl(n){return 1==(1&n.flags)}function bi(n){return null!==n.template}function Km(n){return 0!=(256&n[2])}function _s(n,e){return n.hasOwnProperty(uo)?n[uo]:null}class nf{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function sr(){return rf}function rf(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xm),qm}function qm(){const n=af(this),e=n?.current;if(e){const t=n.previous;if(t===Zs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Xm(n,e,t,i){const r=af(n)||function Qm(n,e){return n[sf]=e}(n,{previous:Zs,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[t],l=s[a];o[a]=new nf(l&&l.currentValue,e,s===Zs),n[i]=e}sr.ngInherit=!0;const sf="__ngSimpleChanges__";function af(n){return n[sf]||null}function ti(n){for(;Array.isArray(n);)n=n[0];return n}function Yl(n,e){return ti(e[n])}function ar(n,e){return ti(e[n.index])}function lf(n,e){return n.data[e]}function lr(n,e){const t=e[n];return Wi(t)?t:t[0]}function $l(n){return 64==(64&n[2])}function zo(n,e){return null==e?null:n[e]}function cf(n){n[18]=0}function Ou(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const Ut={lFrame:_f(null),bindingsEnabled:!0};function hf(){return Ut.bindingsEnabled}function Ge(){return Ut.lFrame.lView}function dn(){return Ut.lFrame.tView}function fn(n){return Ut.lFrame.contextLView=n,n[8]}function pn(n){return Ut.lFrame.contextLView=null,n}function ui(){let n=df();for(;null!==n&&64===n.type;)n=n.parent;return n}function df(){return Ut.lFrame.currentTNode}function $r(n,e){const t=Ut.lFrame;t.currentTNode=n,t.isParent=e}function Fu(){return Ut.lFrame.isParent}function Lu(){Ut.lFrame.isParent=!1}function Vi(){const n=Ut.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xs(){return Ut.lFrame.bindingIndex++}function po(n){const e=Ut.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function f_(n,e){const t=Ut.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nu(e)}function Nu(n){Ut.lFrame.currentDirectiveIndex=n}function yn(){return Ut.lFrame.currentQueryIndex}function Vu(n){Ut.lFrame.currentQueryIndex=n}function g_(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function mf(n,e,t){if(t&Bt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Bt.Host||(r=g_(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ut.lFrame=ys();return i.currentTNode=e,i.lView=n,!0}function Qs(n){const e=ys(),t=n[1];Ut.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ys(){const n=Ut.lFrame,e=null===n?null:n.child;return null===e?_f(n):e}function _f(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function yf(){const n=Ut.lFrame;return Ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ql=yf;function bs(){const n=yf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mi(){return Ut.lFrame.selectedIndex}function jo(n){Ut.lFrame.selectedIndex=n}function Dn(){const n=Ut.lFrame;return lf(n.tView,n.selectedIndex)}function Ql(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(t,h)}}function Jl(n,e,t){wf(n,e,3,t)}function ec(n,e,t,i){(3&n[2])===t&&wf(n,e,t,i)}function Bu(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function wf(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(w_(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function w_(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class oi{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function tc(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];xf(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Ef(n){return 3===n||4===n||6===n}function xf(n){return 64===n.charCodeAt(0)}function nc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Cf(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Cf(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function u(n){return-1!==n}function d(n){return 32767&n}function M(n,e){let t=function g(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let S=!0;function B(n){const e=S;return S=n,e}let me=0;const Ee={};function Le(n,e){const t=Ze(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Ke(i.data,n),Ke(e,null),Ke(i.blueprint,null));const r=Qe(n,e),o=n.injectorIndex;if(u(r)){const s=d(r),a=M(r,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Ke(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ze(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Qe(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=F1(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function et(n,e,t){!function be(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ds)&&(i=t[ds]),null==i&&(i=t[ds]=me++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function qt(n,e,t){if(t&Bt.Optional||void 0!==n)return n;Ua()}function rn(n,e,t,i){if(t&Bt.Optional&&void 0===i&&(i=null),0==(t&(Bt.Self|Bt.Host))){const r=n[9],o=nr(void 0);try{return r?r.get(e,i,t&Bt.Optional):_r(e,i,t&Bt.Optional)}finally{nr(o)}}return qt(i,0,t)}function bn(n,e,t,i=Bt.Default,r){if(null!==n){if(1024&e[2]){const s=function _P(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=cn(o,s,t,i|Bt.Self,Ee);if(a!==Ee)return a;let l=o.parent;if(!l){const c=s[21];if(c){const h=c.get(t,Ee,i);if(h!==Ee)return h}l=F1(s),s=s[15]}o=l}return r}(n,e,t,i,Ee);if(s!==Ee)return s}const o=cn(n,e,t,i,Ee);if(o!==Ee)return o}return rn(e,t,i,r)}function cn(n,e,t,i,r){const o=function qr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ds)?n[ds]:void 0;return"number"==typeof e?e>=0?255&e:S_:e}(t);if("function"==typeof o){if(!mf(e,n,i))return i&Bt.Host?qt(r,0,i):rn(e,t,i,r);try{const s=o(i);if(null!=s||i&Bt.Optional)return s;Ua()}finally{ql()}}else if("number"==typeof o){let s=null,a=Ze(n,e),l=-1,c=i&Bt.Host?e[16][6]:null;for((-1===a||i&Bt.SkipSelf)&&(l=-1===a?Qe(n,e):e[a+8],-1!==l&&Ho(i,!1)?(s=e[1],a=d(l),e=M(l,e)):a=-1);-1!==a;){const h=e[1];if(Go(o,a,h.data)){const f=En(a,e,t,s,i,c);if(f!==Ee)return f}l=e[a+8],-1!==l&&Ho(i,e[1].data[a+8]===c)&&Go(o,a,e)?(s=h,a=d(l),e=M(l,e)):a=-1}}return r}function En(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],h=hi(a,s,t,null==i?Zl(a)&&S:i!=s&&0!=(3&a.type),r&Bt.Host&&o===a);return null!==h?On(e,s,h,a):Ee}function hi(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,p=r?a+h:n.directiveEnd;for(let E=i?a:a+h;E<p;E++){const D=s[E];if(E<l&&t===D||E>=l&&D.type===t)return E}if(r){const E=s[l];if(E&&bi(E)&&E.type===t)return l}return null}function On(n,e,t,i){let r=n[t];const o=e.data;if(function $a(n){return n instanceof oi}(r)){const s=r;s.resolving&&function Pm(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${n}${t}`)}(function gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Wt(n)}(o[t]));const a=B(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?nr(s.injectImpl):null;mf(n,i,Bt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function v_(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=rf(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&nr(l),B(a),s.resolving=!1,ql()}}return r}function Go(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Ho(n,e){return!(n&Bt.Self||n&Bt.Host&&e)}class go{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return bn(this._tNode,this._lView,e,i,t)}}function S_(){return new go(ui(),Ge())}function Zi(n){return No(()=>{const e=n.prototype.constructor,t=e[uo]||D_(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[uo]||D_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function D_(n){return Ti(n)?()=>{const e=D_(St(n));return e&&e()}:_s(n)}function F1(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const rc="__parameters__";function sc(n,e,t){return No(()=>{const i=function I_(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const f=l.hasOwnProperty(rc)?l[rc]:Object.defineProperty(l,rc,{value:[]})[rc];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class bt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=an({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Or(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Or(i,e)):e!==n&&e.push(i)}return e}function vs(n,e){n.forEach(t=>Array.isArray(t)?vs(t,e):e(t))}function N1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Fr(n,e,t){let i=ac(n,e);return i>=0?n[1|i]=t:(i=~i,function wP(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function A_(n,e){const t=ac(n,e);if(t>=0)return n[1|t]}function ac(n,e){return function z1(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Hu={},P_="__NG_DI_FLAG__",Tf="ngTempTokenPath",MP=/\n/gm,j1="__source";let Wu;function lc(n){const e=Wu;return Wu=n,e}function RP(n,e=Bt.Default){if(void 0===Wu)throw new Ye(-203,!1);return null===Wu?_r(n,void 0,e):Wu.get(n,e&Bt.Optional?null:void 0,e)}function Tt(n,e=Bt.Default){return(function Ul(){return Su}()||RP)(St(n),e)}function G1(n,e=Bt.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),Tt(n,e)}function k_(n){const e=[];for(let t=0;t<n.length;t++){const i=St(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Ye(900,!1);let r,o=Bt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=PP(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(Tt(r,o))}else e.push(Tt(i))}return e}function Zu(n,e){return n[P_]=e,n.prototype[P_]=e,n}function PP(n){return n[P_]}const If=Zu(sc("Optional"),8),Mf=Zu(sc("SkipSelf"),4);var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();const V_=new Map;let qP=0;const z_="__ngContext__";function Ki(n,e){Wi(e)?(n[z_]=e[20],function QP(n){V_.set(n[20],n)}(e)):n[z_]=e}function U_(n,e){return undefined(n,e)}function qu(n){const e=n[3];return kr(e)?e[3]:e}function G_(n){return cE(n[13])}function H_(n){return cE(n[4])}function cE(n){for(;null!==n&&!kr(n);)n=n[4];return n}function uc(n,e,t,i,r){if(null!=i){let o,s=!1;kr(i)?o=i:Wi(i)&&(s=!0,i=i[0]);const a=ti(i);0===n&&null!==t?null==r?gE(e,t,a):Xa(e,t,a,r||null,!0):1===n&&null!==t?Xa(e,t,a,r||null,!0):2===n?function X_(n,e,t){const i=Pf(n,e);i&&function vk(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function xk(n,e,t,i,r){const o=t[7];o!==ti(t)&&uc(e,n,i,o,r);for(let a=10;a<t.length;a++){const l=t[a];Xu(l[1],l,n,e,i,o)}}(e,n,o,t,r)}}function Z_(n,e,t){return n.createElement(e,t)}function hE(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,Ou(r,-1)),t.splice(i,1)}function K_(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&hE(r,i),e>0&&(n[t-1][4]=i[4]);const o=Sf(n,10+e);!function dk(n,e){Xu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function dE(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Xu(n,e,t,3,null,null),function gk(n){let e=n[13];if(!e)return Y_(n[1],n);for(;e;){let t=null;if(Wi(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Wi(e)&&Y_(e[1],e),e=e[3];null===e&&(e=n),Wi(e)&&Y_(e[1],e),t=e&&e[4]}e=t}}(e)}}function Y_(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function bk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof oi)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function yk(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):ti(e[s]),l=i[r=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&kr(e[3])){t!==e[3]&&hE(t,e);const i=e[19];null!==i&&i.detachView(n)}!function JP(n){V_.delete(n[20])}(e)}}function fE(n,e,t){return function pE(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===yr.None||r===yr.Emulated)return null}return ar(i,t)}(n,e.parent,t)}function Xa(n,e,t,i,r){n.insertBefore(e,t,i,r)}function gE(n,e,t){n.appendChild(e,t)}function mE(n,e,t,i,r){null!==i?Xa(n,e,t,i,r):gE(n,e,t)}function Pf(n,e){return n.parentNode(e)}function _E(n,e,t){return bE(n,e,t)}let t0,bE=function yE(n,e,t){return 40&n.type?ar(n,t):null};function kf(n,e,t,i){const r=fE(n,i,e),o=e[11],a=_E(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)mE(o,r,t[l],a,!1);else mE(o,r,t,a,!1)}function Of(n,e){if(null!==e){const t=e.type;if(3&t)return ar(e,n);if(4&t)return q_(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Of(n,i);{const r=n[e.index];return kr(r)?q_(-1,r):ti(r)}}if(32&t)return U_(e,n)()||ti(n[e.index]);{const i=wE(n,e);return null!==i?Array.isArray(i)?i[0]:Of(qu(n[16]),i):Of(n,e.next)}}return null}function wE(n,e){return null!==e?n[16][6].projection[e.projection]:null}function q_(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Of(i,r)}return e[7]}function Q_(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&Ki(ti(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)Q_(n,e,t.child,i,r,o,!1),uc(e,n,r,a,o);else if(32&l){const c=U_(t,i);let h;for(;h=c();)uc(e,n,r,h,o);uc(e,n,r,a,o)}else 16&l?EE(n,e,i,t,r,o):uc(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Xu(n,e,t,i,r,o){Q_(t,i,n.firstChild,e,r,o,!1)}function EE(n,e,t,i,r,o){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)uc(e,n,r,l[c],o);else Q_(n,e,l,s[3],r,o,!0)}function xE(n,e,t){n.setAttribute(e,"style",t)}function J_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}class IE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Js(n){return n instanceof IE?n.changingThisBreaksApplicationSecurity:n}const Vk=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function l0(n){const e=function eh(){const n=Ge();return n&&n[12]}();return e?e.sanitize(vi.URL,n)||"":function Qu(n,e){const t=function Ok(n){return n instanceof IE&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Js(n):function r0(n){return(n=String(n)).match(Vk)?n:"unsafe:"+n}(Wt(n))}const LE=new bt("ENVIRONMENT_INITIALIZER"),NE=new bt("INJECTOR",-1),VE=new bt("INJECTOR_DEF_TYPES");class BE{get(e,t=Hu){if(t===Hu){const i=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw i.name="NullInjectorError",i}return t}}function Qk(...n){return{\u0275providers:zE(0,n)}}function zE(n,...e){const t=[],i=new Set;let r;return vs(e,o=>{const s=o;c0(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&jE(r,t),t}function jE(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];vs(r,o=>{e.push(o)})}}function c0(n,e,t,i){if(!(n=St(n)))return!1;let r=null,o=Ga(n);const s=!o&&xn(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Ga(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)c0(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{vs(o.imports,h=>{c0(h,e,t,i)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&jE(c,e)}if(!a){const c=_s(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:hn},{provide:VE,useValue:r,multi:!0},{provide:LE,useValue:()=>Tt(r),multi:!0})}const l=o.providers;null==l||a||vs(l,h=>{e.push(h)})}}return r!==n&&void 0!==n.providers}const Jk=Cn({provide:String,useValue:Cn});function u0(n){return null!==n&&"object"==typeof n&&Jk in n}function Ja(n){return"function"==typeof n}const h0=new bt("Set Injector scope."),Vf={},tO={};let d0;function Bf(){return void 0===d0&&(d0=new BE),d0}class hc{}class HE extends hc{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p0(e,s=>this.processProvider(s)),this.records.set(NE,dc(void 0,this)),r.has("environment")&&this.records.set(hc,dc(void 0,this));const o=this.records.get(h0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(VE.multi,hn,Bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=lc(this),i=nr(void 0);try{return e()}finally{lc(t),nr(i)}}get(e,t=Hu,i=Bt.Default){this.assertNotDestroyed();const r=lc(this),o=nr(void 0);try{if(!(i&Bt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function sO(n){return"function"==typeof n||"object"==typeof n&&n instanceof bt}(e)&&Bl(e);a=l&&this.injectableDefInScope(l)?dc(f0(e),Vf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Bt.Self?Bf():this.parent).get(e,t=i&Bt.Optional&&t===Hu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Tf]=s[Tf]||[]).unshift(nn(e)),r)throw s;return function kP(n,e,t,i){const r=n[Tf];throw e[j1]&&r.unshift(e[j1]),n.message=function OP(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=nn(e);if(Array.isArray(e))r=e.map(nn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):nn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(MP,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Tf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{nr(o),lc(r)}}resolveInjectorInitializers(){const e=lc(this),t=nr(void 0);try{const i=this.get(LE.multi,hn,Bt.Self);for(const r of i)r()}finally{lc(e),nr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(nn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(e){let t=Ja(e=St(e))?e:St(e&&e.provide);const i=function iO(n){return u0(n)?dc(void 0,n.useValue):dc(WE(n),Vf)}(e);if(Ja(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=dc(void 0,Vf,!0),r.factory=()=>k_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Vf&&(t.value=tO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function oO(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=St(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function f0(n){const e=Bl(n),t=null!==e?e.factory:_s(n);if(null!==t)return t;if(n instanceof bt)throw new Ye(204,!1);if(n instanceof Function)return function nO(n){const e=n.length;if(e>0)throw Gu(e,"?"),new Ye(204,!1);const t=function jm(n){const e=n&&(n[zl]||n[$d]);if(e){const t=function Yd(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ye(204,!1)}function WE(n,e,t){let i;if(Ja(n)){const r=St(n);return _s(r)||f0(r)}if(u0(n))i=()=>St(n.useValue);else if(function GE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...k_(n.deps||[]));else if(function UE(n){return!(!n||!n.useExisting)}(n))i=()=>Tt(St(n.useExisting));else{const r=St(n&&(n.useClass||n.provide));if(!function rO(n){return!!n.deps}(n))return _s(r)||f0(r);i=()=>new r(...k_(n.deps))}return i}function dc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aO(n){return!!n.\u0275providers}function p0(n,e){for(const t of n)Array.isArray(t)?p0(t,e):aO(t)?p0(t.\u0275providers,e):e(t)}class ZE{}class uO{resolveComponentFactory(e){throw function cO(n){const e=Error(`No component factory found for ${nn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let fc=(()=>{class n{}return n.NULL=new uO,n})();function hO(){return pc(ui(),Ge())}function pc(n,e){return new di(ar(n,e))}let di=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=hO,n})();function dO(n){return n instanceof di?n.nativeElement:n}class th{}let Wo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function fO(){const n=Ge(),t=lr(ui().index,n);return(Wi(t)?t:n)[11]}(),n})(),pO=(()=>{class n{}return n.\u0275prov=an({token:n,providedIn:"root",factory:()=>null}),n})();class nh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gO=new nh("14.3.0"),g0={};function _0(n){return n.ngOriginalError}class gc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&_0(e);for(;t&&_0(t);)t=_0(t);return t||null}}function $E(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const qE="ng-template";function DO(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==$E(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function XE(n){return 4===n.type&&n.value!==qE}function TO(n,e,t){return e===(4!==n.type||t?n.value:qE)}function IO(n,e,t){let i=4;const r=n.attrs||[],o=function RO(n){for(let e=0;e<n.length;e++)if(Ef(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!TO(n,l,t)||""===l&&1===e.length){if(mo(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!DO(n.attrs,c,t)){if(mo(i))return!1;s=!0}continue}const f=MO(8&i?"class":l,r,XE(n),t);if(-1===f){if(mo(i))return!1;s=!0;continue}if(""!==c){let p;p=f>o?"":r[f+1].toLowerCase();const E=8&i?p:null;if(E&&-1!==$E(E,c,0)||2&i&&c!==p){if(mo(i))return!1;s=!0}}}}else{if(!s&&!mo(i)&&!mo(l))return!1;if(s&&mo(l))continue;s=!1,i=l|1&i}}return mo(i)||s}function mo(n){return 0==(1&n)}function MO(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function PO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function QE(n,e,t=!1){for(let i=0;i<e.length;i++)if(IO(n,e[i],t))return!0;return!1}function kO(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function JE(n,e){return n?":not("+e.trim()+")":e}function OO(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!mo(s)&&(e+=JE(o,r),r=""),i=s,o=o||!mo(i);t++}return""!==r&&(e+=JE(o,r)),e}const Xt={};function $e(n){ex(dn(),Ge(),Mi()+n,!1)}function ex(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Jl(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ec(e,o,0,t)}jo(t)}function rx(n,e=null,t=null,i){const r=ox(n,e,t,i);return r.resolveInjectorInitializers(),r}function ox(n,e=null,t=null,i,r=new Set){const o=[t||hn,Qk(n)];return i=i||("object"==typeof n?void 0:nn(n)),new HE(o,e||Bf(),i||null,r)}let Zo=(()=>{class n{static create(t,i){if(Array.isArray(t))return rx({name:""},i,t,"");{const r=t.name??"";return rx({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Hu,n.NULL=new BE,n.\u0275prov=an({token:n,providedIn:"any",factory:()=>Tt(NE)}),n.__NG_ELEMENT_ID__=-1,n})();function Ne(n,e=Bt.Default){const t=Ge();return null===t?Tt(n,e):bn(ui(),t,St(n),e)}function jf(n,e){return n<<17|e<<2}function _o(n){return n>>17&32767}function E0(n){return 2|n}function xs(n){return(131068&n)>>2}function x0(n,e){return-131069&n|e<<2}function C0(n){return 1|n}function Ex(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1];if(-1!==o){const s=n.data[o];Vu(r),s.contentQueries(2,e[o],o)}}}function Hf(n,e,t,i,r,o,s,a,l,c,h){const f=e.blueprint.slice();return f[0]=r,f[2]=76|i,(null!==h||n&&1024&n[2])&&(f[2]|=1024),cf(f),f[3]=f[15]=n,f[8]=t,f[10]=s||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=c||n&&n[9]||null,f[6]=o,f[20]=function XP(){return qP++}(),f[21]=h,f[16]=2==e.type?n[16]:f,f}function yc(n,e,t,i,r){let o=n.data[e];if(null===o)o=function P0(n,e,t,i,r){const o=df(),s=Fu(),l=n.data[e]=function _F(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,i,r),function d_(){return Ut.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ya(){const n=Ut.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return $r(o,!0),o}function bc(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function k0(n,e,t){Qs(e);try{const i=n.viewQuery;null!==i&&j0(1,i,t);const r=n.template;null!==r&&xx(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ex(n,e),n.staticViewQueries&&j0(2,n.viewQuery,t);const o=n.components;null!==o&&function pF(n,e){for(let t=0;t<e.length;t++)kF(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,bs()}}function Wf(n,e,t,i){const r=e[2];if(128!=(128&r)){Qs(e);try{cf(e),function pf(n){return Ut.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&xx(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Jl(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ec(e,c,0,null),Bu(e,0)}if(function RF(n){for(let e=G_(n);null!==e;e=H_(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],o=r[3];0==(512&r[2])&&Ou(o,1),r[2]|=512}}}(e),function AF(n){for(let e=G_(n);null!==e;e=H_(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];$l(i)&&Wf(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&Ex(n,e),s){const c=n.contentCheckHooks;null!==c&&Jl(e,c)}else{const c=n.contentHooks;null!==c&&ec(e,c,1),Bu(e,1)}!function dF(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)jo(~r);else{const o=r,s=t[++i],a=t[++i];f_(s,o),a(2,e[o])}}}finally{jo(-1)}}(n,e);const a=n.components;null!==a&&function fF(n,e){for(let t=0;t<e.length;t++)PF(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&j0(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Jl(e,c)}else{const c=n.viewHooks;null!==c&&ec(e,c,2),Bu(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Ou(e[3],-1))}finally{bs()}}}function xx(n,e,t,i,r){const o=Mi(),s=2&i;try{jo(-1),s&&e.length>22&&ex(n,e,22,!1),t(i,r)}finally{jo(o)}}function Cx(n,e,t){if(Mu(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function O0(n,e,t){!hf()||(function EF(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Le(t,e),Ki(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=bi(l);c&&TF(e,t,l);const h=On(e,n,a,t);Ki(h,e),null!==s&&IF(0,a-r,h,l,0,s),c&&(lr(t.index,e)[8]=h)}}(n,e,t,ar(t,e)),128==(128&t.flags)&&function xF(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function p_(){return Ut.lFrame.currentDirectiveIndex}();try{jo(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];Nu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Rx(l,c)}}finally{jo(-1),Nu(s)}}(n,e,t))}function F0(n,e,t=ar){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function Sx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=L0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function L0(n,e,t,i,r,o,s,a,l,c){const h=22+i,f=h+r,p=function gF(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Xt);return t}(h,f),E="function"==typeof c?c():c;return p[1]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1}}function Dx(n,e,t,i){const r=Lx(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Nx(n).push(i,r.length-1))}function Tx(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Ix(n,e){const i=e.directiveEnd,r=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const h=r[c],f=h.inputs,p=null===o||XE(e)?null:MF(f,o);s.push(p),a=Tx(f,c,a),l=Tx(h.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Lr(n,e,t,i,r,o,s,a){const l=ar(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(U0(n,t,h,i,r),Zl(e)&&Mx(t,e.index)):3&e.type&&(i=function yF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function Mx(n,e){const t=lr(e,n);16&t[2]||(t[2]|=32)}function N0(n,e,t,i){let r=!1;if(hf()){const o=function CF(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];QE(t,s.selectors,!1)&&(r||(r=[]),et(Le(t,e),n,s.type),bi(s)?(Px(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==o){r=!0,kx(t,n.data.length,o.length);for(let h=0;h<o.length;h++){const f=o[h];f.providersResolver&&f.providersResolver(f)}let a=!1,l=!1,c=bc(n,e,o.length,null);for(let h=0;h<o.length;h++){const f=o[h];t.mergedAttrs=nc(t.mergedAttrs,f.hostAttrs),Ox(n,t,e,c,f),DF(c,f,s),null!==f.contentQueries&&(t.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=128);const p=f.type.prototype;!a&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}Ix(n,t)}s&&function SF(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Ye(-301,!1);i.push(e[r],o)}}}(t,i,s)}return t.mergedAttrs=nc(t.mergedAttrs,t.attrs),r}function Ax(n,e,t,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function wF(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Rx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Px(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function DF(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;bi(e)&&(t[""]=n)}}function kx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ox(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=_s(r.type)),s=new oi(o,bi(r),Ne);n.blueprint[i]=s,t[i]=s,Ax(n,e,0,i,bc(n,t,r.hostVars,Xt),r)}function TF(n,e,t){const i=ar(e,n),r=Sx(t),o=n[10],s=Zf(n,Hf(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}function Ko(n,e,t,i,r,o){const s=ar(n,e);!function V0(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Wt(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[11],s,o,n.value,t,i,r)}function IF(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],h=s[l++],f=s[l++];null!==a?i.setInput(t,f,c,h):t[h]=f}}}function MF(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function Fx(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function PF(n,e){const t=lr(e,n);if($l(t)){const i=t[1];48&t[2]?Wf(i,t,i.template,t[8]):t[5]>0&&B0(t)}}function B0(n){for(let i=G_(n);null!==i;i=H_(i))for(let r=10;r<i.length;r++){const o=i[r];if($l(o))if(512&o[2]){const s=o[1];Wf(s,o,s.template,o[8])}else o[5]>0&&B0(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=lr(t[i],n);$l(r)&&r[5]>0&&B0(r)}}function kF(n,e){const t=lr(e,n),i=t[1];(function OF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),k0(i,t,t[8])}function Zf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function z0(n){for(;n;){n[2]|=32;const e=qu(n);if(Km(n)&&!e)return n;n=e}return null}function Kf(n,e,t,i=!0){const r=e[10];r.begin&&r.begin();try{Wf(n,e,n.template,t)}catch(s){throw i&&Bx(e,s),s}finally{r.end&&r.end()}}function j0(n,e,t){Vu(0),e(n,t)}function Lx(n){return n[7]||(n[7]=[])}function Nx(n){return n.cleanup||(n.cleanup=[])}function Bx(n,e){const t=n[9],i=t?t.get(gc,null):null;i&&i.handleError(e)}function U0(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Cs(n,e,t){const i=Yl(e,n);!function uE(n,e,t){n.setValue(e,t)}(n[11],i,t)}function Yf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Vl(r,a):2==o&&(i=Vl(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function $f(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(ti(o)),kr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&$f(l[1],l,c,i)}const s=t.type;if(8&s)$f(n,e,t.child,i);else if(32&s){const a=U_(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=wE(e,t);if(Array.isArray(a))i.push(...a);else{const l=qu(e[16]);$f(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class ih{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return $f(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(kr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(K_(e,i),Sf(t,i))}this._attachedToViewContainer=!1}dE(this._lView[1],this._lView)}onDestroy(e){Dx(this._lView[1],this._lView,null,e)}markForCheck(){z0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Kf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pk(n,e){Xu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=e}}class FF extends ih{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kf(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class G0 extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xn(e);return new rh(t,this.ngModule)}}function zx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class NF{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const r=this.injector.get(e,g0,i);return r!==g0||t===g0?r:this.parentInjector.get(e,t,i)}}class rh extends ZE{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function FO(n){return n.map(OO).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return zx(this.componentDef.inputs)}get outputs(){return zx(this.componentDef.outputs)}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof hc?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new NF(e,o):e,a=s.get(th,null);if(null===a)throw new Ye(407,!1);const l=s.get(pO,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function mF(n,e,t){return n.selectRootElement(e,t===yr.ShadowDom)}(c,i,this.componentDef.encapsulation):Z_(c,h,function LF(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?288:272,E=L0(0,null,null,1,0,null,null,null,null,null),D=Hf(null,E,null,p,null,null,a,c,l,s,null);let H,$;Qs(D);try{const te=function zF(n,e,t,i,r,o){const s=t[1];t[22]=n;const l=yc(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Yf(l,c,!0),null!==n&&(tc(r,n,c),null!==l.classes&&J_(r,n,l.classes),null!==l.styles&&xE(r,n,l.styles)));const h=i.createRenderer(n,e),f=Hf(t,Sx(e),null,e.onPush?32:16,t[22],l,i,h,o||null,null,null);return s.firstCreatePass&&(et(Le(l,t),s,e.type),Px(s,l),kx(l,t.length,1)),Zf(t,f),t[22]=f}(f,this.componentDef,D,a,c);if(f)if(i)tc(c,f,["ng-version",gO.full]);else{const{attrs:ae,classes:re}=function LO(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!mo(r))break;r=o}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);ae&&tc(c,f,ae),re&&re.length>0&&J_(c,f,re.join(" "))}if($=lf(E,22),void 0!==t){const ae=$.projection=[];for(let re=0;re<this.ngContentSelectors.length;re++){const pe=t[re];ae.push(null!=pe?Array.from(pe):null)}}H=function jF(n,e,t,i){const r=t[1],o=function vF(n,e,t){const i=ui();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Ox(n,i,e,bc(n,e,1,null),t),Ix(n,i));const r=On(e,n,i.directiveStart,i);Ki(r,e);const o=ar(i,e);return o&&Ki(o,e),r}(r,t,e);if(n[8]=t[8]=o,null!==i)for(const a of i)a(o,e);if(e.contentQueries){const a=ui();e.contentQueries(1,o,a.directiveStart)}const s=ui();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(jo(s.index),Ax(t[1],s,0,s.directiveStart,s.directiveEnd,e),Rx(e,o)),o}(te,this.componentDef,D,[UF]),k0(E,D,null)}finally{bs()}return new BF(this.componentType,H,pc($,D),D,$)}}class BF extends class lO{}{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new FF(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;U0(o[1],o,r,e,t),Mx(o,this._tNode.index)}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function UF(){const n=ui();Ql(Ge()[1],n)}function Mn(n){let e=function jx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(bi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ye(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=H0(n.inputs),s.declaredInputs=H0(n.declaredInputs),s.outputs=H0(n.outputs);const a=r.hostBindings;a&&ZF(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&HF(n,l),c&&WF(n,c),xu(n.inputs,r.inputs),xu(n.declaredInputs,r.declaredInputs),xu(n.outputs,r.outputs),bi(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Mn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function GF(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=nc(r.hostAttrs,t=nc(t,r.hostAttrs))}}(i)}function H0(n){return n===Zs?{}:n===hn?[]:n}function HF(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function WF(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function ZF(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let qf=null;function el(){if(!qf){const n=Pn.Symbol;if(n&&n.iterator)qf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(qf=i)}}}return qf}function oh(n){return!!W0(n)&&(Array.isArray(n)||!(n instanceof Map)&&el()in n)}function W0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yo(n,e,t){return n[e]=t}function sh(n,e){return n[e]}function Yi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function tl(n,e,t,i){const r=Yi(n,e,t);return Yi(n,e+1,i)||r}function Xr(n,e,t,i,r,o){const s=tl(n,e,t,i);return tl(n,e+2,r,o)||s}function Kn(n,e,t,i){const r=Ge();return Yi(r,Xs(),e)&&(dn(),Ko(Dn(),r,n,e,t,i)),Kn}function wc(n,e,t,i){return Yi(n,Xs(),t)?e+Wt(t)+i:Xt}function Ec(n,e,t,i,r,o){const a=tl(n,function fo(){return Ut.lFrame.bindingIndex}(),t,r);return po(2),a?e+Wt(t)+i+Wt(r)+o:Xt}function nt(n,e,t,i,r,o,s,a){const l=Ge(),c=dn(),h=n+22,f=c.firstCreatePass?function eL(n,e,t,i,r,o,s,a,l){const c=e.consts,h=yc(e,n,4,s||null,zo(c,a));N0(e,t,h,zo(c,l)),Ql(e,h);const f=h.tViews=L0(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];$r(f,!1);const p=l[11].createComment("");kf(c,l,p,f),Ki(p,l),Zf(l,l[h]=Fx(p,l,p,f)),Kl(f)&&O0(c,l,f),null!=s&&F0(l,f,a)}function $o(n){return function qs(n,e){return n[e]}(function h_(){return Ut.lFrame.contextLView}(),22+n)}function Ue(n,e,t){const i=Ge();return Yi(i,Xs(),e)&&Lr(dn(),Dn(),i,n,e,i[11],t,!1),Ue}function Z0(n,e,t,i,r){const s=r?"class":"style";U0(n,t,e.inputs[s],s,i)}function mt(n,e,t,i){const r=Ge(),o=dn(),s=22+n,a=r[11],l=r[s]=Z_(a,e,function b_(){return Ut.lFrame.currentNamespace}()),c=o.firstCreatePass?function nL(n,e,t,i,r,o,s){const a=e.consts,c=yc(e,n,2,r,zo(a,o));return N0(e,t,c,zo(a,s)),null!==c.attrs&&Yf(c,c.attrs,!1),null!==c.mergedAttrs&&Yf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,t,i):o.data[s];$r(c,!0);const h=c.mergedAttrs;null!==h&&tc(a,l,h);const f=c.classes;null!==f&&J_(a,l,f);const p=c.styles;return null!==p&&xE(a,l,p),64!=(64&c.flags)&&kf(o,r,l,c),0===function s_(){return Ut.lFrame.elementDepthCount}()&&Ki(l,r),function a_(){Ut.lFrame.elementDepthCount++}(),Kl(c)&&(O0(o,r,c),Cx(o,c,r)),null!==i&&F0(r,c),mt}function _t(){let n=ui();Fu()?Lu():(n=n.parent,$r(n,!1));const e=n;!function l_(){Ut.lFrame.elementDepthCount--}();const t=dn();return t.firstCreatePass&&(Ql(t,n),Mu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function x_(n){return 0!=(16&n.flags)}(e)&&Z0(t,e,Ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C_(n){return 0!=(32&n.flags)}(e)&&Z0(t,e,Ge(),e.stylesWithoutHost,!1),_t}function Cr(n,e,t,i){return mt(n,e,t,i),_t(),Cr}function Ai(n,e,t){const i=Ge(),r=dn(),o=n+22,s=r.firstCreatePass?function iL(n,e,t,i,r){const o=e.consts,s=zo(o,i),a=yc(e,n,8,"ng-container",s);return null!==s&&Yf(a,s,!0),N0(e,t,a,zo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];$r(s,!0);const a=i[o]=i[11].createComment("");return kf(r,i,a,s),Ki(a,i),Kl(s)&&(O0(r,i,s),Cx(r,s,i)),null!=t&&F0(i,s),Ai}function Ri(){let n=ui();const e=dn();return Fu()?Lu():(n=n.parent,$r(n,!1)),e.firstCreatePass&&(Ql(e,n),Mu(n)&&e.queries.elementEnd(n)),Ri}function Xn(n,e,t){return Ai(n,e,t),Ri(),Xn}function Bi(){return Ge()}function Qf(n){return!!n&&"function"==typeof n.then}const Qx=function Xx(n){return!!n&&"function"==typeof n.subscribe};function en(n,e,t,i){const r=Ge(),o=dn(),s=ui();return function eC(n,e,t,i,r,o,s,a){const l=Kl(i),h=n.firstCreatePass&&Nx(n),f=e[8],p=Lx(e);let E=!0;if(3&i.type||a){const $=ar(i,e),te=a?a($):$,ae=p.length,re=a?_e=>a(ti(_e[i.index])):i.index;let pe=null;if(!a&&l&&(pe=function rL(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=o,pe.__ngLastListenerFn__=o,E=!1;else{o=nC(i,e,f,o,!1);const _e=t.listen(te,r,o);p.push(o,_e),h&&h.push(r,re,ae,ae+1)}}else o=nC(i,e,f,o,!1);const D=i.outputs;let H;if(E&&null!==D&&(H=D[r])){const $=H.length;if($)for(let te=0;te<$;te+=2){const Ie=e[H[te]][H[te+1]].subscribe(o),Ae=p.length;p.push(o,Ie),h&&h.push(r,i.index,Ae,-(Ae+1))}}}(o,r,r[11],s,n,e,0,i),en}function tC(n,e,t,i){try{return!1!==t(i)}catch(r){return Bx(n,r),!1}}function nC(n,e,t,i,r){return function o(s){if(s===Function)return i;z0(2&n.flags?lr(n.index,e):e);let l=tC(e,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=tC(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Je(n=1){return function bf(n){return(Ut.lFrame.contextLView=function vf(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ut.lFrame.contextLView))[8]}(n)}function oL(n,e){let t=null;const i=function AO(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?QE(n,o,!0):kO(i,o))return r}else t=r}return t}function Mc(n){const e=Ge()[16][6];if(!e.projection){const i=e.projection=Gu(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?oL(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function na(n,e=0,t){const i=Ge(),r=dn(),o=yc(r,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Lu(),64!=(64&o.flags)&&function Ek(n,e,t){EE(e[11],0,e,t,fE(n,t,e),_E(t.parent||e[6],t,e))}(r,i,o)}function Ac(n,e,t){return K0(n,"",e,"",t),Ac}function K0(n,e,t,i,r){const o=Ge(),s=wc(o,e,t,i);return s!==Xt&&Lr(dn(),Dn(),o,n,s,o[11],r,!1),K0}function hC(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?_o(o):xs(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];lL(n[a],e)&&(l=!0,n[a+1]=i?C0(h):E0(h)),a=i?_o(h):xs(h)}l&&(n[t+1]=i?E0(o):C0(o))}function lL(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ac(n,e)>=0}const Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dC(n){return n.substring(Ci.key,Ci.keyEnd)}function cL(n){return n.substring(Ci.value,Ci.valueEnd)}function fC(n,e){const t=Ci.textEnd;return t===e?-1:(e=Ci.keyEnd=function dL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ci.key=e,t),Rc(n,e,t))}function pC(n,e){const t=Ci.textEnd;let i=Ci.key=Rc(n,e,t);return t===i?-1:(i=Ci.keyEnd=function fL(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=mC(n,i,t),i=Ci.value=Rc(n,i,t),i=Ci.valueEnd=function pL(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){const l=n.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=_C(n,l,s,t):e===s-4&&85===o&&82===r&&76===i&&40===l?a=s=_C(n,41,s,t):l>32&&(a=s),o=r,r=i,i=-33&l}return a}(n,i,t),mC(n,i,t))}function gC(n){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=n.length}function Rc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function mC(n,e,t,i){return(e=Rc(n,e,t))<t&&e++,e}function _C(n,e,t,i){let r=-1,o=t;for(;o<i;){const s=n.charCodeAt(o++);if(s==e&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Jf(n,e,t){return yo(n,e,t,!1),Jf}function nl(n,e){return yo(n,e,null,!0),nl}function Nr(n){bo(vC,gL,n,!1)}function gL(n,e){for(let t=function hL(n){return gC(n),pC(n,Rc(n,0,Ci.textEnd))}(e);t>=0;t=pC(e,t))vC(n,dC(e),cL(e))}function qo(n){bo(Fr,Xo,n,!0)}function Xo(n,e){for(let t=function uL(n){return gC(n),fC(n,Rc(n,0,Ci.textEnd))}(e);t>=0;t=fC(e,t))Fr(n,dC(e),!0)}function yo(n,e,t,i){const r=Ge(),o=dn(),s=po(2);o.firstUpdatePass&&bC(o,n,s,i),e!==Xt&&Yi(r,s,e)&&wC(o,o.data[Mi()],r,r[11],n,r[s+1]=function EL(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=nn(Js(n)))),n}(e,t),i,s)}function bo(n,e,t,i){const r=dn(),o=po(2);r.firstUpdatePass&&bC(r,null,o,i);const s=Ge();if(t!==Xt&&Yi(s,o,t)){const a=r.data[Mi()];if(xC(a,i)&&!yC(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Vl(l,t||"")),Z0(r,a,s,t,i)}else!function wL(n,e,t,i,r,o,s,a){r===Xt&&(r=hn);let l=0,c=0,h=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==h||null!==f;){const p=l<r.length?r[l+1]:void 0,E=c<o.length?o[c+1]:void 0;let H,D=null;h===f?(l+=2,c+=2,p!==E&&(D=f,H=E)):null===f||null!==h&&h<f?(l+=2,D=h):(c+=2,D=f,H=E),null!==D&&wC(n,e,t,i,D,H,s,a),h=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function vL(n,e,t){if(null==t||""===t)return hn;const i=[],r=Js(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function yC(n,e){return e>=n.expandoStartIndex}function bC(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Mi()],s=yC(n,t);xC(o,i)&&null===e&&!s&&(e=!1),e=function mL(n,e,t,i){const r=function Nn(n){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=ah(t=Y0(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Y0(r,n,e,t,i),null===o){let l=function _L(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==xs(i))return n[_o(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Y0(null,n,e,l[1],i),l=ah(l,e.attrs,i),function yL(n,e,t,i){n[_o(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function bL(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ah(i,n[o].hostAttrs,t);return ah(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function sL(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=_o(s),l=xs(s);n[i]=t;let h,c=!1;if(Array.isArray(t)){const f=t;h=f[1],(null===h||ac(f,h)>0)&&(c=!0)}else h=t;if(r)if(0!==l){const p=_o(n[a+1]);n[i+1]=jf(p,a),0!==p&&(n[p+1]=x0(n[p+1],i)),n[a+1]=function nF(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=jf(a,0),0!==a&&(n[a+1]=x0(n[a+1],i)),a=i;else n[i+1]=jf(l,0),0===a?a=i:n[l+1]=x0(n[l+1],i),l=i;c&&(n[i+1]=E0(n[i+1])),hC(n,h,i,!0),hC(n,h,i,!1),function aL(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ac(o,e)>=0&&(t[i+1]=C0(t[i+1]))}(e,h,n,i,o),s=jf(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function Y0(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=ah(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function ah(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fr(n,s,!!t||e[++o]))}return void 0===n?null:n}function vC(n,e,t){Fr(n,e,Js(t))}function wC(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ep(function px(n){return 1==(1&n)}(c)?EC(l,e,t,r,xs(c),s):void 0)||(ep(o)||function fx(n){return 2==(2&n)}(c)&&(o=EC(l,null,t,r,a,s)),function Ck(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:xr.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=xr.Important),n.setStyle(t,i,r,o))}}(i,s,Yl(Mi(),t),r,o))}function EC(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,f=null===h;let p=t[r+1];p===Xt&&(p=f?hn:void 0);let E=f?A_(p,i):h===i?p:void 0;if(c&&!ep(E)&&(E=A_(l,i)),ep(E)&&(a=E,s))return a;const D=n[r+1];r=s?_o(D):xs(D)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=A_(l,i))}return a}function ep(n){return void 0!==n}function xC(n,e){return 0!=(n.flags&(e?16:32))}function $i(n,e=""){const t=Ge(),i=dn(),r=n+22,o=i.firstCreatePass?yc(i,r,1,e,null):i.data[r],s=t[r]=function W_(n,e){return n.createText(e)}(t[11],e);kf(i,t,s,o),$r(o,!1)}function Vr(n){return Pc("",n,""),Vr}function Pc(n,e,t){const i=Ge(),r=wc(i,n,e,t);return r!==Xt&&Cs(i,Mi(),r),Pc}function $0(n,e,t,i,r){const o=Ge(),s=Ec(o,n,e,t,i,r);return s!==Xt&&Cs(o,Mi(),s),$0}const Oc="en-US";let HC=Oc;function Q0(n,e,t,i,r){if(n=St(n),Array.isArray(n))for(let o=0;o<n.length;o++)Q0(n[o],e,t,i,r);else{const o=dn(),s=Ge();let a=Ja(n)?n:St(n.provide),l=WE(n);const c=ui(),h=1048575&c.providerIndexes,f=c.directiveStart,p=c.providerIndexes>>20;if(Ja(n)||!n.multi){const E=new oi(l,r,Ne),D=ey(a,e,r?h:h+p,f);-1===D?(et(Le(c,s),o,a),J0(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(E),s.push(E)):(t[D]=E,s[D]=E)}else{const E=ey(a,e,h+p,f),D=ey(a,e,h,h+p),H=E>=0&&t[E],$=D>=0&&t[D];if(r&&!$||!r&&!H){et(Le(c,s),o,a);const te=function zN(n,e,t,i,r){const o=new oi(n,t,Ne);return o.multi=[],o.index=e,o.componentProviders=0,gS(o,r,i&&!t),o}(r?BN:VN,t.length,r,i,l);!r&&$&&(t[D].providerFactory=te),J0(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(te),s.push(te)}else J0(o,n,E>-1?E:D,gS(t[r?D:E],l,!r&&i));!r&&i&&$&&t[D].componentProviders++}}}function J0(n,e,t,i){const r=Ja(e),o=function eO(n){return!!n.useClass}(e);if(r||o){const l=(o?St(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function gS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ey(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function VN(n,e,t,i){return ty(this.multi,[])}function BN(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=On(t,t[1],this.providerFactory.index,i);o=a.slice(0,s),ty(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ty(r,o);return o}function ty(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Vn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function NN(n,e,t){const i=dn();if(i.firstCreatePass){const r=bi(n);Q0(t,i.data,i.blueprint,r,!0),Q0(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Fc{}class mS extends Fc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new G0(this);const i=function rr(n,e){const t=n[qd]||null;if(!t&&!0===e)throw new Error(`Type ${nn(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Es(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=ox(e,t,[{provide:Fc,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ny extends class jN{}{constructor(e){super(),this.moduleType=e}create(e){return new mS(this.moduleType,e)}}function Lc(n,e,t){const i=Vi()+n,r=Ge();return r[i]===Xt?Yo(r,i,t?e.call(t):e()):sh(r,i)}function fi(n,e,t,i){return function DS(n,e,t,i,r,o){const s=e+t;return Yi(n,s,r)?Yo(n,s+1,o?i.call(o,r):i(r)):fh(n,s+1)}(Ge(),Vi(),n,e,t,i)}function Br(n,e,t,i,r){return function TS(n,e,t,i,r,o,s){const a=e+t;return tl(n,a,r,o)?Yo(n,a+2,s?i.call(s,r,o):i(r,o)):fh(n,a+2)}(Ge(),Vi(),n,e,t,i,r)}function op(n,e,t,i,r,o,s){return function MS(n,e,t,i,r,o,s,a,l){const c=e+t;return Xr(n,c,r,o,s,a)?Yo(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):fh(n,c+4)}(Ge(),Vi(),n,e,t,i,r,o,s)}function SS(n,e,t,i){return function AS(n,e,t,i,r,o){let s=e+t,a=!1;for(let l=0;l<r.length;l++)Yi(n,s++,r[l])&&(a=!0);return a?Yo(n,s,i.apply(o,r)):fh(n,s)}(Ge(),Vi(),n,e,t,i)}function fh(n,e){const t=n[e];return t===Xt?void 0:t}function ry(n){return e=>{setTimeout(n,void 0,e)}}const Pt=class h5 extends Pe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=ry(o),r&&(r=ry(r)),s&&(s=ry(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof R&&e.add(a),a}};function d5(){return this._results[el()]()}class oy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=el(),i=oy.prototype;i[t]||(i[t]=d5)}get changes(){return this._changes||(this._changes=new Pt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Or(e);(this._changesDetected=!function bP(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qo=(()=>{class n{}return n.__NG_ELEMENT_ID__=g5,n})();const f5=Qo,p5=class extends f5{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=Hf(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),k0(i,r,e),new ih(r)}};function g5(){return sp(ui(),Ge())}function sp(n,e){return 4&n.type?new p5(e,n,pc(n,e)):null}let vo=(()=>{class n{}return n.__NG_ELEMENT_ID__=m5,n})();function m5(){return kS(ui(),Ge())}const _5=vo,RS=class extends _5{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qe(this._hostTNode,this._hostLView);if(u(e)){const t=M(e,this._hostLView),i=d(e);return new go(t[1].data[i+8],t)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=PS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function Uu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const f=t||{};a=f.index,i=f.injector,r=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}const l=s?e:new rh(xn(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const p=(s?c:this.parentInjector).get(hc,null);p&&(o=p)}const h=l.create(c,r,void 0,o);return this.insert(h.hostView,a),h}insert(e,t){const i=e._lView,r=i[1];if(function o_(n){return kr(n[3])}(i)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const f=i[3],p=new RS(f,f[6],f[3]);p.detach(p.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function mk(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],N1(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function _k(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,s,o);const a=q_(o,s),l=i[11],c=Pf(l,s[7]);return null!==c&&function fk(n,e,t,i,r,o){i[0]=r,i[6]=e,Xu(n,i,t,1,r,o)}(r,s[6],l,i,c,a),e.attachToViewContainerRef(),N1(sy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=PS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=K_(this._lContainer,t);i&&(Sf(sy(this._lContainer),t),dE(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=K_(this._lContainer,t);return i&&null!=Sf(sy(this._lContainer),t)?new ih(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function PS(n){return n[8]}function sy(n){return n[8]||(n[8]=[])}function kS(n,e){let t;const i=e[n.index];if(kr(i))t=i;else{let r;if(8&n.type)r=ti(i);else{const o=e[11];r=o.createComment("");const s=ar(n,e);Xa(o,Pf(o,s),r,function wk(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=Fx(i,e,r,n),Zf(e,t)}return new RS(t,n,e)}class ay{constructor(e){this.queryList=e,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new ly(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==VS(e,t).matches&&this.queries[t].setDirty()}}class OS{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class cy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new cy(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class uy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new uy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,v5(t,o)),this.matchTNodeWithReadOption(e,t,hi(t,e,o,!1,!1))}else i===Qo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hi(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===di||r===vo||r===Qo&&4&t.type)this.addMatch(t.index,-2);else{const o=hi(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function v5(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function E5(n,e,t,i){return-1===t?function w5(n,e){return 11&n.type?pc(n,e):4&n.type?sp(n,e):null}(e,n):-2===t?function x5(n,e,t){return t===di?pc(e,n):t===Qo?sp(e,n):t===vo?kS(e,n):void 0}(n,e,i):On(n,n[1],t,e)}function FS(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:E5(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function hy(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=FS(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let f=10;f<h.length;f++){const p=h[f];p[17]===p[3]&&hy(p[1],p,c,i)}if(null!==h[9]){const f=h[9];for(let p=0;p<f.length;p++){const E=f[p];hy(E[1],E,c,i)}}}}}return i}function Gn(n){const e=Ge(),t=dn(),i=yn();Vu(i+1);const r=VS(t,i);if(n.dirty&&function r_(n){return 4==(4&n[2])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?hy(t,e,i,[]):FS(t,e,r,i);n.reset(o,dO),n.notifyOnChanges()}return!0}return!1}function zi(n,e,t){const i=dn();i.firstCreatePass&&(NS(i,new OS(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),LS(i,Ge(),e)}function Jo(n,e,t,i){const r=dn();if(r.firstCreatePass){const o=ui();NS(r,new OS(e,t,i),o.index),function S5(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}LS(r,Ge(),t)}function Hn(){return function C5(n,e){return n[19].queries[e].queryList}(Ge(),yn())}function LS(n,e,t){const i=new oy(4==(4&t));Dx(n,e,i,i.destroy),null===e[19]&&(e[19]=new ly),e[19].queries.push(new ay(i))}function NS(n,e,t){null===n.queries&&(n.queries=new cy),n.queries.track(new uy(e,t))}function VS(n,e){return n.queries.getByIndex(e)}function ia(n,e){return sp(n,e)}function lp(...n){}const iD=new bt("Application Initializer");let cp=(()=>{class n{constructor(t){this.appInits=t,this.resolve=lp,this.reject=lp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Qf(o))t.push(o);else if(Qx(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Tt(iD,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mh=new bt("AppId",{providedIn:"root",factory:function rD(){return`${my()}${my()}${my()}`}});function my(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oD=new bt("Platform Initializer"),_y=new bt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W5=new bt("appBootstrapListener"),sD=new bt("AnimationModuleType"),Ss=new bt("LocaleId",{providedIn:"root",factory:()=>G1(Ss,Bt.Optional|Bt.SkipSelf)||function Z5(){return typeof $localize<"u"&&$localize.locale||Oc}()}),X5=(()=>Promise.resolve(0))();function yy(n){typeof Zone>"u"?X5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class An{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Q5(){let n=Pn.requestAnimationFrame,e=Pn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function t3(n){const e=()=>{!function e3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vy(n),n.isCheckStableRunning=!0,by(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return cD(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),uD(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return cD(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),uD(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,vy(n),by(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!An.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(An.isInAngularZone())throw new Ye(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,J5,lp,lp);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const J5={};function by(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uD(n){n._nesting--,by(n)}class n3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const hD=new bt(""),up=new bt("");let xy,wy=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xy||(function r3(n){xy=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{An.assertNotInAngularZone(),yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Tt(An),Tt(Ey),Tt(up))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),Ey=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return xy?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ra=null;const dD=new bt("AllowMultipleToken"),Cy=new bt("PlatformDestroyListeners");function pD(n,e,t=[]){const i=`Platform: ${e}`,r=new bt(i);return(o=[])=>{let s=Sy();if(!s||s.injector.get(dD,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function a3(n){if(ra&&!ra.get(dD,!1))throw new Ye(400,!1);ra=n;const e=n.get(mD);(function fD(n){const e=n.get(oD,null);e&&e.forEach(t=>t())})(n)}(function gD(n=[],e){return Zo.create({name:e,providers:[{provide:h0,useValue:"platform"},{provide:Cy,useValue:new Set([()=>ra=null])},...n]})}(a,i))}return function c3(n){const e=Sy();if(!e)throw new Ye(401,!1);return e}()}}function Sy(){return ra?.get(mD)??null}let mD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function yD(n,e){let t;return t="noop"===n?new n3:("zone.js"===n?void 0:n)||new An(e),t}(i?.ngZone,function _D(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:An,useValue:r}];return r.run(()=>{const s=Zo.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(gc,null);if(!l)throw new Ye(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:h=>{l.handleError(h)}});a.onDestroy(()=>{hp(this._modules,a),c.unsubscribe()})}),function bD(n,e,t){try{const i=t();return Qf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(cp);return c.runInitializers(),c.donePromise.then(()=>(function WC(n){tr(n,"Expected localeId to be defined"),"string"==typeof n&&(HC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ss,Oc)||Oc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=vD({},i);return function o3(n,e,t){const i=new ny(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(_h);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Ye(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Cy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Tt(Zo))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vD(n,e){return Array.isArray(e)?e.reduce(vD,n):{...n,...e}}let _h=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new it(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new it(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{An.assertNotInAngularZone(),yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{An.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=hs(o,s.pipe(function Hd(n={}){const{connector:e=(()=>new Pe),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,f=!1;const p=()=>{a?.unsubscribe(),a=void 0},E=()=>{p(),s=l=void 0,h=f=!1},D=()=>{const H=s;E(),H?.unsubscribe()};return gt((H,$)=>{c++,!f&&!h&&p();const te=l=l??e();$.add(()=>{c--,0===c&&!f&&!h&&(a=ja(D,r))}),te.subscribe($),!s&&c>0&&(s=new Ce({next:ae=>te.next(ae),error:ae=>{f=!0,p(),a=ja(E,t,ae),te.error(ae)},complete:()=>{h=!0,p(),a=ja(E,i),te.complete()}}),mr(H).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof ZE;if(!this._injector.get(cp).done)throw!r&&function Ha(n){const e=xn(n)||Fi(n)||Li(n);return null!==e&&e.standalone}(t),new Ye(405,false);let s;s=r?t:this._injector.get(fc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function s3(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Fc),c=s.create(Zo.NULL,[],i||s.selector,a),h=c.location.nativeElement,f=c.injector.get(hD,null);return f?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),hp(this.components,c),f?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;hp(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(W5,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ye(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Tt(An),Tt(hc),Tt(gc))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ED=!0,oa=(()=>{class n{}return n.__NG_ELEMENT_ID__=d3,n})();function d3(n){return function f3(n,e,t){if(Zl(n)&&!t){const i=lr(n.index,e);return new ih(i,i)}return 47&n.type?new ih(e[16],e):null}(ui(),Ge(),16==(16&n))}class TD{constructor(){}supports(e){return oh(e)}create(e){return new b3(e)}}const y3=(n,e)=>e;class b3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||y3}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<MD(i,r,o)?t:i,a=MD(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let p=0;p<c;p++){const E=p<o.length?o[p]:o[p]=0,D=E+p;h<=D&&D<c&&(o[p]=E+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!oh(e))throw new Ye(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function XF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[el()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new v3(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ID),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ID),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class v3{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class w3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ID{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new w3,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MD(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class AD{constructor(){}supports(e){return e instanceof Map||W0(e)}create(){return new E3}}class E3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||W0(e)))throw new Ye(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new x3(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class x3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RD(){return new pp([new TD])}let pp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||RD()),deps:[[n,new Mf,new If]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Ye(901,!1)}}return n.\u0275prov=an({token:n,providedIn:"root",factory:RD}),n})();function PD(){return new yh([new AD])}let yh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||PD()),deps:[[n,new Mf,new If]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Ye(901,!1)}}return n.\u0275prov=an({token:n,providedIn:"root",factory:PD}),n})();const D3=pD(null,"core",[]);let T3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Tt(_h))},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({}),n})();let gp=null;function sl(){return gp}const ji=new bt("DocumentToken");let al=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(oh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${nn(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(Ne(pp),Ne(yh),Ne(di),Ne(Wo))},n.\u0275dir=Mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _8{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sp=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _8(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),HD(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{HD(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ne(vo),Ne(Qo),Ne(pp))},n.\u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function HD(n,e){n.context.$implicit=e.item}let ll=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new b8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ne(vo),Ne(Qo))},n.\u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class b8{constructor(){this.$implicit=null,this.ngIf=null}}function WD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${nn(e)}'.`)}let cl=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:xr.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(yh),Ne(Wo))},n.\u0275dir=Mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Bc=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(Ne(vo))},n.\u0275dir=Mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[sr]}),n})(),eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({}),n})();const YD="browser";class Zy extends class EV extends class A3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M3(n){gp||(gp=n)}(new Zy)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xV(){return Eh=Eh||document.querySelector("base"),Eh?Eh.getAttribute("href"):null}();return null==t?null:function CV(n){Ip=Ip||document.createElement("a"),Ip.setAttribute("href",n);const e=Ip.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Eh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function g8(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Ip,Eh=null;const eT=new bt("TRANSITION_ID"),DV=[{provide:iD,useFactory:function SV(n,e,t){return()=>{t.get(cp).donePromise.then(()=>{const i=sl(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[eT,ji,Zo],multi:!0}];let IV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const Mp=new bt("EventManagerPlugins");let Ap=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Tt(Mp),Tt(An))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class tT{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=sl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let nT=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),xh=(()=>{class n extends nT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(iT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(iT))}}return n.\u0275fac=function(t){return new(t||n)(Tt(ji))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();function iT(n){sl().remove(n)}const Ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yy=/%COMP%/g;function Rp(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Rp(n,r,t):(r=r.replace(Yy,n),t.push(r))}return t}function sT(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pp=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new $y(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case yr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new OV(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case yr.ShadowDom:return new FV(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Rp(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Tt(Ap),Tt(xh),Tt(mh))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class $y{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ky[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(lT(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(lT(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ky[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ky[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(xr.DashCase|xr.Important)?e.style.setProperty(t,i,r&xr.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sT(i)):this.eventManager.addEventListener(e,t,sT(i))}}function lT(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class OV extends $y{constructor(e,t,i,r){super(e),this.component=i;const o=Rp(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function RV(n){return"_ngcontent-%COMP%".replace(Yy,n)}(r+"-"+i.id),this.hostAttr=function PV(n){return"_nghost-%COMP%".replace(Yy,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class FV extends $y{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Rp(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let LV=(()=>{class n extends tT{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Tt(ji))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const cT=["alt","control","meta","shift"],NV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let BV=(()=>{class n extends tT{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sl().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),cT.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=NV[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cT.forEach(s=>{s!==r&&(0,VV[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Tt(ji))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const GV=pD(D3,"browser",[{provide:_y,useValue:YD},{provide:oD,useValue:function zV(){Zy.makeCurrent()},multi:!0},{provide:ji,useFactory:function UV(){return function Ik(n){t0=n}(document),document},deps:[]}]),dT=new bt(""),fT=[{provide:up,useClass:class TV{addToWindow(e){Pn.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Pn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pn.getAllAngularRootElements=()=>e.getAllRootElements(),Pn.frameworkStabilizers||(Pn.frameworkStabilizers=[]),Pn.frameworkStabilizers.push(i=>{const r=Pn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?sl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:hD,useClass:wy,deps:[An,Ey,up]},{provide:wy,useClass:wy,deps:[An,Ey,up]}],pT=[{provide:h0,useValue:"root"},{provide:gc,useFactory:function jV(){return new gc},deps:[]},{provide:Mp,useClass:LV,multi:!0,deps:[ji,An,_y]},{provide:Mp,useClass:BV,multi:!0,deps:[ji]},{provide:Pp,useClass:Pp,deps:[Ap,xh,mh]},{provide:th,useExisting:Pp},{provide:nT,useExisting:xh},{provide:xh,useClass:xh,deps:[ji]},{provide:Ap,useClass:Ap,deps:[Mp,An]},{provide:class $8{},useClass:IV,deps:[]},[]];let gT=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mh,useValue:t.appId},{provide:eT,useExisting:mh},DV]}}}return n.\u0275fac=function(t){return new(t||n)(Tt(dT,12))},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({providers:[...pT,...fT],imports:[eo,T3]}),n})();typeof window<"u"&&window;class yT{}const Is="*";function bT(n,e){return{type:7,name:n,definitions:e,options:{}}}function kp(n,e=null){return{type:4,styles:e,timings:n}}function vT(n,e=null){return{type:2,steps:n,options:e}}function zc(n){return{type:6,styles:n,offset:null}}function Op(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wT(n,e=null){return{type:8,animation:n,options:e}}function ET(n,e=null){return{type:10,animation:n,options:e}}function xT(n){Promise.resolve().then(n)}class Ch{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class CT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?xT(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ST(n){return new Ye(3e3,!1)}function OB(){return typeof window<"u"&&typeof window.document<"u"}function Jy(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function aa(n){switch(n.length){case 0:return new Ch;case 1:return n[0];default:return new CT(n)}}function DT(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(h=>{const f=h.get("offset"),p=f==l,E=p&&c||new Map;h.forEach((D,H)=>{let $=H,te=D;if("offset"!==H)switch($=e.normalizePropertyName($,s),te){case"!":te=r.get(H);break;case Is:te=o.get(H);break;default:te=e.normalizeStyleValue(H,$,te,s)}E.set($,te)}),p||a.push(E),c=E,l=f}),s.length)throw function EB(n){return new Ye(3502,!1)}();return a}function eb(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&tb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&tb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&tb(t,"destroy",n)))}}function tb(n,e,t){const o=nb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function nb(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function zr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function TT(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ib=(n,e)=>!1,IT=(n,e,t)=>[],MT=null;function rb(n){const e=n.parentNode||n.host;return e===MT?null:e}(Jy()||typeof Element<"u")&&(OB()?(MT=(()=>document.documentElement)(),ib=(n,e)=>{for(;e;){if(e===n)return!0;e=rb(e)}return!1}):ib=(n,e)=>n.contains(e),IT=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ul=null,AT=!1;const RT=ib,PT=IT;let kT=(()=>{class n{validateStyleProperty(t){return function LB(n){ul||(ul=function NB(){return typeof document<"u"?document.body:null}()||{},AT=!!ul.style&&"WebkitAppearance"in ul.style);let e=!0;return ul.style&&!function FB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ul.style,!e&&AT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ul.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return RT(t,i)}getParentElement(t){return rb(t)}query(t,i,r){return PT(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Ch(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),ob=(()=>{class n{}return n.NOOP=new kT,n})();const sb="ng-enter",Fp="ng-leave",Lp="ng-trigger",Np=".ng-trigger",FT="ng-animating",ab=".ng-animating";function Ms(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lb(parseFloat(e[1]),e[2])}function lb(n,e){return"s"===e?1e3*n:n}function Vp(n,e,t){return n.hasOwnProperty("duration")?n:function zB(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(ST()),{duration:0,delay:0,easing:""};r=lb(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=lb(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function eB(){return new Ye(3100,!1)}()),a=!0),o<0&&(e.push(function tB(){return new Ye(3101,!1)}()),a=!0),a&&e.splice(l,0,ST())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Sh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function LT(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function la(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function VT(n,e,t){return t?e+":"+t+";":""}function BT(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=VT(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=VT(0,HB(t),n.style[t]));n.setAttribute("style",e)}function es(n,e,t){n.style&&(e.forEach((i,r)=>{const o=ub(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),Jy()&&BT(n))}function hl(n,e){n.style&&(e.forEach((t,i)=>{const r=ub(i);n.style[r]=""}),Jy()&&BT(n))}function Dh(n){return Array.isArray(n)?1==n.length?n[0]:vT(n):n}const cb=new RegExp("{{\\s*(.+?)\\s*}}","g");function zT(n){let e=[];if("string"==typeof n){let t;for(;t=cb.exec(n);)e.push(t[1]);cb.lastIndex=0}return e}function Th(n,e,t){const i=n.toString(),r=i.replace(cb,(o,s)=>{let a=e[s];return null==a&&(t.push(function iB(n){return new Ye(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Bp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const GB=/-+([a-z0-9])/g;function ub(n){return n.replace(GB,(...e)=>e[1].toUpperCase())}function HB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rB(n){return new Ye(3004,!1)}()}}function jT(n,e){return window.getComputedStyle(n)[e]}function qB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function XB(n,e,t){if(":"==n[0]){const l=function QB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function yB(n){return new Ye(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function _B(n){return new Ye(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(UT(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(UT(s,r))}(i,t,e)):t.push(n),t}const Gp=new Set(["true","1"]),Hp=new Set(["false","0"]);function UT(n,e){const t=Gp.has(n)||Hp.has(n),i=Gp.has(e)||Hp.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Gp.has(n):Hp.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Gp.has(e):Hp.has(e)),s&&a}}const JB=new RegExp("s*:selfs*,?","g");function hb(n,e,t,i){return new e4(n).build(e,t,i)}class e4{constructor(e){this._driver=e}build(e,t,i){const r=new i4(t);return this._resetContextStyleTimingState(r),jr(this,Dh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function sB(){return new Ye(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function aB(){return new Ye(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{zT(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Bp(o.values()),t.errors.push(function lB(n,e){return new Ye(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=jr(this,Dh(e.animation),t);return{type:1,matchers:qB(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:dl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>jr(this,i,t)),options:dl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=jr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:dl(e.options)}}visitAnimate(e,t){const i=function o4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return db(Vp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=db(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Vp(t,e);return db(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:zc({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=zc(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Is?i.push(a):t.errors.push(new Ye(3002,!1)):i.push(LT(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let f=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function uB(n,e,t,i,r){return new Ye(3010,!1)}()),f=!1),o=h.startTime),f&&c.set(l,{startTime:o,endTime:r}),t.options&&function UB(n,e,t){const i=e.params||{},r=zT(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function nB(n){return new Ye(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hB(){return new Ye(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(te=>{const ae=this._makeStyleAst(te,t);let re=null!=ae.offset?ae.offset:function r4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ae.styles),pe=0;return null!=re&&(o++,pe=ae.offset=re),l=l||pe<0||pe>1,a=a||pe<c,c=pe,s.push(pe),ae});l&&t.errors.push(function dB(){return new Ye(3012,!1)}()),a&&t.errors.push(function fB(){return new Ye(3200,!1)}());const f=e.steps.length;let p=0;o>0&&o<f?t.errors.push(function pB(){return new Ye(3202,!1)}()):0==o&&(p=1/(f-1));const E=f-1,D=t.currentTime,H=t.currentAnimateTimings,$=H.duration;return h.forEach((te,ae)=>{const re=p>0?ae==E?1:p*ae:s[ae],pe=re*$;t.currentTime=D+H.delay+pe,H.duration=pe,this._validateStyleAst(te,t),te.offset=re,i.styles.push(te)}),i}visitReference(e,t){return{type:8,animation:jr(this,Dh(e.animation),t),options:dl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function t4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(JB,"")),n=n.replace(/@\*/g,Np).replace(/@\w+/g,t=>Np+"-"+t.slice(1)).replace(/:animating/g,ab),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,zr(t.collectedStyles,t.currentQuerySelector,new Map);const a=jr(this,Dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:dl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gB(){return new Ye(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Vp(e.timings,t.errors,!0);return{type:12,animation:jr(this,Dh(e.animation),t),timings:i,options:null}}}class i4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dl(n){return n?(n=Sh(n)).params&&(n.params=function n4(n){return n?Sh(n):null}(n.params)):n={},n}function db(n,e,t){return{duration:n,delay:e,easing:t}}function fb(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Wp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const l4=new RegExp(":enter","g"),u4=new RegExp(":leave","g");function pb(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new h4).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class h4{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new Wp;const f=new gb(e,t,c,r,o,h,[]);f.options=l;const p=l.delay?Ms(l.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,l),jr(this,i,f);const E=f.timelines.filter(D=>D.containsAnimation());if(E.length&&a.size){let D;for(let H=E.length-1;H>=0;H--){const $=E[H];if($.element===t){D=$;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([a],null,f.errors,l)}return E.length?E.map(D=>D.buildKeyframes()):[fb(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ms(Th(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ms(i.duration):null,a=null!=i.delay?Ms(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),jr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zp);const s=Ms(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>jr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ms(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),jr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Vp(t.params?Th(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ms(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zp);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const f=t.createSubContext(e.options,c);o&&f.delayNextStep(o),c===t.element&&(l=f.currentTimeline),jr(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const f=h.currentTime;jr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const Zp={};class gb{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Kp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ms(i.duration)),null!=i.delay&&(r.delay=Ms(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Th(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new gb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Zp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new d4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(l4,"."+this._enterClassName)).replace(u4,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function mB(n){return new Ye(3014,!1)}()),a}}class Kp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Kp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Is),this._currentKeyframe.set(t,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function f4(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Is)}else la(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Th(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Is),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=la(a,new Map,this._backFill);c.forEach((h,f)=>{"!"===h?e.add(f):h===Is&&t.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?Bp(e.values()):[],s=t.size?Bp(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fb(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class d4 extends Kp{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=la(e[0]);l.set("offset",0),o.push(l);const c=la(e[0]);c.set("offset",WT(a)),o.push(c);const h=e.length-1;for(let f=1;f<=h;f++){let p=la(e[f]);const E=p.get("offset");p.set("offset",WT((t+E*i)/s)),o.push(p)}i=s,t=0,r="",e=o}return fb(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function WT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mb{}const p4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class g4 extends mb{normalizePropertyName(e,t){return ub(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(p4.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function oB(n,e){return new Ye(3005,!1)}())}return s+o}}function ZT(n,e,t,i,r,o,s,a,l,c,h,f,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:f,errors:p}}const _b={};class KT{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function m4(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const f=[],p=this.ast.options&&this.ast.options.params||_b,D=this.buildStyles(i,a&&a.params||_b,f),H=l&&l.params||_b,$=this.buildStyles(r,H,f),te=new Set,ae=new Map,re=new Map,pe="void"===r,_e={params:_4(H,p),delay:this.ast.options?.delay},Ie=h?[]:pb(e,t,this.ast.animation,o,s,D,$,_e,c,f);let Ae=0;if(Ie.forEach(at=>{Ae=Math.max(at.duration+at.delay,Ae)}),f.length)return ZT(t,this._triggerName,i,r,pe,D,$,[],[],ae,re,Ae,f);Ie.forEach(at=>{const ht=at.element,Gt=zr(ae,ht,new Set);at.preStyleProps.forEach(Ct=>Gt.add(Ct));const Ot=zr(re,ht,new Set);at.postStyleProps.forEach(Ct=>Ot.add(Ct)),ht!==t&&te.add(ht)});const je=Bp(te.values());return ZT(t,this._triggerName,i,r,pe,D,$,Ie,je,ae,re,Ae)}}function _4(n,e){const t=Sh(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class y4{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Sh(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Th(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(l,s)})}),i}}class v4{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new y4(r.style,r.options&&r.options.params||{},i))}),YT(this.states,"true","1"),YT(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new KT(e,r,this.states))}),this.fallbackTransition=function w4(n,e,t){return new KT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function YT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const E4=new Wp;class x4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=hb(this._driver,t,i,[]);if(i.length)throw function xB(n){return new Ye(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=DT(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=pb(this._driver,t,o,sb,Fp,new Map,new Map,i,E4,r),s.forEach(h=>{const f=zr(a,h.element,new Map);h.postStyleProps.forEach(p=>f.set(p,null))})):(r.push(function CB(){return new Ye(3300,!1)}()),s=[]),r.length)throw function SB(n){return new Ye(3504,!1)}();a.forEach((h,f)=>{h.forEach((p,E)=>{h.set(E,this._driver.computeStyle(f,E,Is))})});const c=aa(s.map(h=>{const f=a.get(h.element);return this._buildPlayer(h,new Map,f)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function DB(n){return new Ye(3301,!1)}();return t}listen(e,t,i,r){const o=nb(t,"","","");return eb(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const $T="ng-animate-queued",yb="ng-animate-disabled",I4=[],qT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},to="__ng_removed";class bb{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function k4(n){return n??null}(i?e.value:e),i){const o=Sh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Ih="void",vb=new bb(Ih);class A4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,no(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function TB(n,e){return new Ye(3302,!1)}();if(null==i||0==i.length)throw function IB(n){return new Ye(3303,!1)}();if(!function O4(n){return"start"==n||"done"==n}(i))throw function MB(n,e){return new Ye(3400,!1)}();const o=zr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=zr(this._engine.statesByElement,e,new Map);return a.has(t)||(no(e,Lp),no(e,Lp+"-"+t),a.set(t,vb)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function AB(n){return new Ye(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new wb(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(no(e,Lp),no(e,Lp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new bb(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=vb),c.value!==Ih&&l.value===c.value){if(!function N4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const H=[],$=o.matchStyles(l.value,l.params,H),te=o.matchStyles(c.value,c.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{hl(e,$),es(e,te)})}return}const p=zr(this._engine.playersByElement,e,[]);p.forEach(H=>{H.namespaceId==this.id&&H.triggerName==t&&H.queued&&H.destroy()});let E=o.matchTransition(l.value,c.value,e,c.params),D=!1;if(!E){if(!r)return;E=o.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:l,toState:c,player:s,isFallbackTransition:D}),D||(no(e,$T),s.onStart(()=>{jc(e,$T)})),s.onDone(()=>{let H=this.players.indexOf(s);H>=0&&this.players.splice(H,1);const $=this._engine.playersByElement.get(e);if($){let te=$.indexOf(s);te>=0&&$.splice(te,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Np,!0);i.forEach(r=>{if(r[to])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,Ih,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&aa(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||vb,h=new bb(Ih),f=new wb(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[to];(!o||o===qT)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){no(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=nb(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,eb(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class R4{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new A4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Yp(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Yp(t))return;const o=t[to];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),no(e,yb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jc(e,yb))}removeNode(e,t,i,r){if(Yp(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[to]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Yp(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Np,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ab,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return aa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[to];if(t&&t.setForRemoval){if(e[to]=qT,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(yb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)no(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?aa(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function RB(n){return new Ye(3402,!1)}()}_flushAnimations(e,t){const i=new Wp,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Fe=>{h.add(Fe);const Be=this.driver.query(Fe,".ng-animate-queued",!0);for(let He=0;He<Be.length;He++)h.add(Be[He])});const f=this.bodyNode,p=Array.from(this.statesByElement.keys()),E=JT(p,this.collectedEnterElements),D=new Map;let H=0;E.forEach((Fe,Be)=>{const He=sb+H++;D.set(Be,He),Fe.forEach(ft=>no(ft,He))});const $=[],te=new Set,ae=new Set;for(let Fe=0;Fe<this.collectedLeaveElements.length;Fe++){const Be=this.collectedLeaveElements[Fe],He=Be[to];He&&He.setForRemoval&&($.push(Be),te.add(Be),He.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(ft=>te.add(ft)):ae.add(Be))}const re=new Map,pe=JT(p,Array.from(te));pe.forEach((Fe,Be)=>{const He=Fp+H++;re.set(Be,He),Fe.forEach(ft=>no(ft,He))}),e.push(()=>{E.forEach((Fe,Be)=>{const He=D.get(Be);Fe.forEach(ft=>jc(ft,He))}),pe.forEach((Fe,Be)=>{const He=re.get(Be);Fe.forEach(ft=>jc(ft,He))}),$.forEach(Fe=>{this.processLeaveNode(Fe)})});const _e=[],Ie=[];for(let Fe=this._namespaceList.length-1;Fe>=0;Fe--)this._namespaceList[Fe].drainQueuedTransitions(t).forEach(He=>{const ft=He.player,zt=He.element;if(_e.push(ft),this.collectedEnterElements.length){const zn=zt[to];if(zn&&zn.setForMove){if(zn.previousTriggersValues&&zn.previousTriggersValues.has(He.triggerName)){const Yn=zn.previousTriggersValues.get(He.triggerName),li=this.statesByElement.get(He.element);if(li&&li.has(He.triggerName)){const ko=li.get(He.triggerName);ko.value=Yn,li.set(He.triggerName,ko)}}return void ft.destroy()}}const Rn=!f||!this.driver.containsElement(f,zt),qe=re.get(zt),ai=D.get(zt),It=this._buildInstruction(He,i,ai,qe,Rn);if(It.errors&&It.errors.length)return void Ie.push(It);if(Rn)return ft.onStart(()=>hl(zt,It.fromStyles)),ft.onDestroy(()=>es(zt,It.toStyles)),void r.push(ft);if(He.isFallbackTransition)return ft.onStart(()=>hl(zt,It.fromStyles)),ft.onDestroy(()=>es(zt,It.toStyles)),void r.push(ft);const In=[];It.timelines.forEach(zn=>{zn.stretchStartingKeyframe=!0,this.disabledNodes.has(zn.element)||In.push(zn)}),It.timelines=In,i.append(zt,It.timelines),s.push({instruction:It,player:ft,element:zt}),It.queriedElements.forEach(zn=>zr(a,zn,[]).push(ft)),It.preStyleProps.forEach((zn,Yn)=>{if(zn.size){let li=l.get(Yn);li||l.set(Yn,li=new Set),zn.forEach((ko,Oa)=>li.add(Oa))}}),It.postStyleProps.forEach((zn,Yn)=>{let li=c.get(Yn);li||c.set(Yn,li=new Set),zn.forEach((ko,Oa)=>li.add(Oa))})});if(Ie.length){const Fe=[];Ie.forEach(Be=>{Fe.push(function PB(n,e){return new Ye(3505,!1)}())}),_e.forEach(Be=>Be.destroy()),this.reportError(Fe)}const Ae=new Map,je=new Map;s.forEach(Fe=>{const Be=Fe.element;i.has(Be)&&(je.set(Be,Be),this._beforeAnimationBuild(Fe.player.namespaceId,Fe.instruction,Ae))}),r.forEach(Fe=>{const Be=Fe.element;this._getPreviousPlayers(Be,!1,Fe.namespaceId,Fe.triggerName,null).forEach(ft=>{zr(Ae,Be,[]).push(ft),ft.destroy()})});const at=$.filter(Fe=>tI(Fe,l,c)),ht=new Map;QT(ht,this.driver,ae,c,Is).forEach(Fe=>{tI(Fe,l,c)&&at.push(Fe)});const Ot=new Map;E.forEach((Fe,Be)=>{QT(Ot,this.driver,new Set(Fe),l,"!")}),at.forEach(Fe=>{const Be=ht.get(Fe),He=Ot.get(Fe);ht.set(Fe,new Map([...Array.from(Be?.entries()??[]),...Array.from(He?.entries()??[])]))});const Ct=[],Fn=[],Ht={};s.forEach(Fe=>{const{element:Be,player:He,instruction:ft}=Fe;if(i.has(Be)){if(h.has(Be))return He.onDestroy(()=>es(Be,ft.toStyles)),He.disabled=!0,He.overrideTotalTime(ft.totalTime),void r.push(He);let zt=Ht;if(je.size>1){let qe=Be;const ai=[];for(;qe=qe.parentNode;){const It=je.get(qe);if(It){zt=It;break}ai.push(qe)}ai.forEach(It=>je.set(It,zt))}const Rn=this._buildAnimation(He.namespaceId,ft,Ae,o,Ot,ht);if(He.setRealPlayer(Rn),zt===Ht)Ct.push(He);else{const qe=this.playersByElement.get(zt);qe&&qe.length&&(He.parentPlayer=aa(qe)),r.push(He)}}else hl(Be,ft.fromStyles),He.onDestroy(()=>es(Be,ft.toStyles)),Fn.push(He),h.has(Be)&&r.push(He)}),Fn.forEach(Fe=>{const Be=o.get(Fe.element);if(Be&&Be.length){const He=aa(Be);Fe.setRealPlayer(He)}}),r.forEach(Fe=>{Fe.parentPlayer?Fe.syncPlayerEvents(Fe.parentPlayer):Fe.destroy()});for(let Fe=0;Fe<$.length;Fe++){const Be=$[Fe],He=Be[to];if(jc(Be,Fp),He&&He.hasAnimation)continue;let ft=[];if(a.size){let Rn=a.get(Be);Rn&&Rn.length&&ft.push(...Rn);let qe=this.driver.query(Be,ab,!0);for(let ai=0;ai<qe.length;ai++){let It=a.get(qe[ai]);It&&It.length&&ft.push(...It)}}const zt=ft.filter(Rn=>!Rn.destroyed);zt.length?F4(this,Be,zt):this.processLeaveNode(Be)}return $.length=0,Ct.forEach(Fe=>{this.players.push(Fe),Fe.onDone(()=>{Fe.destroy();const Be=this.players.indexOf(Fe);this.players.splice(Be,1)}),Fe.play()}),Ct}elementContainsData(e,t){let i=!1;const r=t[to];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Ih;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,f=zr(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(E=>{const D=E.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),E.destroy(),f.push(E)})}hl(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,f=new Set,p=t.timelines.map(D=>{const H=D.element;h.add(H);const $=H[to];if($&&$.removedBeforeQueried)return new Ch(D.duration,D.delay);const te=H!==l,ae=function L4(n){const e=[];return eI(n,e),e}((i.get(H)||I4).map(Ae=>Ae.getRealPlayer())).filter(Ae=>!!Ae.element&&Ae.element===H),re=o.get(H),pe=s.get(H),_e=DT(0,this._normalizer,0,D.keyframes,re,pe),Ie=this._buildPlayer(D,_e,ae);if(D.subTimeline&&r&&f.add(H),te){const Ae=new wb(e,a,H);Ae.setRealPlayer(Ie),c.push(Ae)}return Ie});c.forEach(D=>{zr(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function P4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,D.element,D))}),h.forEach(D=>no(D,FT));const E=aa(p);return E.onDestroy(()=>{h.forEach(D=>jc(D,FT)),es(l,t.toStyles)}),f.forEach(D=>{zr(r,D,[]).push(E)}),E}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ch(e.duration,e.delay)}}class wb{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ch,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>eb(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yp(n){return n&&1===n.nodeType}function XT(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QT(n,e,t,i,r){const o=[];t.forEach(l=>o.push(XT(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(f=>{const p=e.computeStyle(c,f,r);h.set(f,p),(!p||0==p.length)&&(c[to]=M4,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>XT(l,o[a++])),s}function JT(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function no(n,e){n.classList?.add(e)}function jc(n,e){n.classList?.remove(e)}function F4(n,e,t){aa(t).onDone(()=>n.processLeaveNode(e))}function eI(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof CT?eI(i.players,e):e.push(i)}}function tI(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class $p{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new R4(e,t,i),this._timelineEngine=new x4(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=hb(this._driver,o,l,[]);if(l.length)throw function wB(n,e){return new Ye(3404,!1)}();a=function b4(n,e,t){return new v4(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=TT(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=TT(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B4=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&es(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(es(this._element,this._initialStyles),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),es(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Eb(n){let e=null;return n.forEach((t,i)=>{(function z4(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class nI{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:jT(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class j4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return RT(e,t)}getParentElement(e){return rb(e)}query(e,t,i){return PT(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(E=>E instanceof nI);(function WB(n,e){return 0===n||0===e})(i,r)&&h.forEach(E=>{E.currentSnapshot.forEach((D,H)=>c.set(H,D))});let f=function jB(n){return n.length?n[0]instanceof Map?n:n.map(e=>LT(e)):[]}(t).map(E=>la(E));f=function ZB(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,jT(n,a)))}}return e}(e,f,c);const p=function V4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Eb(e[0]),e.length>1&&(i=Eb(e[e.length-1]))):e instanceof Map&&(t=Eb(e)),t||i?new B4(n,t,i):null}(e,f);return new nI(e,f,l,p)}}let U4=(()=>{class n extends yT{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:yr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?vT(t):t;return iI(this._renderer,null,i,"register",[r]),new G4(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Tt(th),Tt(ji))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class G4 extends class JV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new H4(this._id,e,t||{},this._renderer)}}class H4{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return iI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function iI(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const rI="@.disabled";let W4=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new oI("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new Z4(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Tt(th),Tt($p),Tt(An))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class oI{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==rI?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Z4 extends oI{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==rI?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function K4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Y4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const sI=[{provide:yT,useClass:U4},{provide:mb,useFactory:function q4(){return new g4}},{provide:$p,useClass:(()=>{class n extends $p{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Tt(ji),Tt(ob),Tt(mb),Tt(_h))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})()},{provide:th,useFactory:function X4(n,e,t){return new W4(n,e,t)},deps:[Pp,$p,An]}],xb=[{provide:ob,useFactory:()=>new j4},{provide:sD,useValue:"BrowserAnimations"},...sI],aI=[{provide:ob,useClass:kT},{provide:sD,useValue:"NoopAnimations"},...sI];let Q4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?aI:xb}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({providers:xb,imports:[gT]}),n})();var As=ie(3632);const Co={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ca={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Sb=class t6{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ca[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Mh=6378137,Uc=Math.PI*Mh,n6=[-Uc,-Uc,Uc,Uc],i6=[-180,-85,180,85],Xp=Mh*Math.log(Math.tan(Math.PI/2));class Gc extends Sb{constructor(e){super({code:e,units:"m",extent:n6,global:!0,worldExtent:i6,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Mh)}})}}const lI=[new Gc("EPSG:3857"),new Gc("EPSG:102100"),new Gc("EPSG:102113"),new Gc("EPSG:900913"),new Gc("http://www.opengis.net/def/crs/EPSG/0/3857"),new Gc("http://www.opengis.net/gml/srs/epsg.xml#3857")];function r6(n,e,t){const i=n.length;t=t>1?t:2,void 0===e&&(e=t>2?n.slice():new Array(i));for(let r=0;r<i;r+=t){e[r]=Uc*n[r]/180;let o=Mh*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));o>Xp?o=Xp:o<-Xp&&(o=-Xp),e[r+1]=o}return e}function o6(n,e,t){const i=n.length;t=t>1?t:2,void 0===e&&(e=t>2?n.slice():new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/Uc,e[r+1]=360*Math.atan(Math.exp(n[r+1]/Mh))/Math.PI-90;return e}const cI=[-180,-90,180,90],a6=6378137*Math.PI/180;class fl extends Sb{constructor(e,t){super({code:e,units:"degrees",extent:cI,axisOrientation:t,global:!0,metersPerUnit:a6,worldExtent:cI})}}const uI=[new fl("CRS:84"),new fl("EPSG:4326","neu"),new fl("urn:ogc:def:crs:OGC:1.3:CRS84"),new fl("urn:ogc:def:crs:OGC:2:84"),new fl("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new fl("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fl("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Qp={},So={};function Hc(n,e,t){const i=n.getCode(),r=e.getCode();i in So||(So[i]={}),So[i][r]=t}function hI(n,e){let t;return n in So&&e in So[n]&&(t=So[n][e]),t}var xe=ie(760),dt=ie(2156);function dI(n,e){const r=e[0],o=e[1],s=r[0],a=r[1],l=o[0],c=o[1],h=l-s,f=c-a,p=0===h&&0===f?0:(h*(n[0]-s)+f*(n[1]-a))/(h*h+f*f||0);let E,D;return p<=0?(E=s,D=a):p>=1?(E=l,D=c):(E=s+p*h,D=a+p*f),[E,D]}function h6(n){return function(e){return function g6(n,e){return function d6(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}(n,"{x}, {y}",e)}(e,n)}}function Do(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Db(n,e){const t=Math.cos(e),i=Math.sin(e),o=n[1]*t+n[0]*i;return n[0]=n[0]*t-n[1]*i,n[1]=o,n}function Ah(n,e){const t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function pI(n,e){return Math.sqrt(Ah(n,e))}function Tb(n,e){if(e.canWrapX()){const t=(0,xe.dz)(e.getExtent()),i=gI(n,e,t);i&&(n[0]-=i*t)}return n}function gI(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||(0,xe.dz)(i),r=Math.floor((n[0]-i[0])/t)),r}function Ib(n,e,t){t=t||6371008.8;const i=(0,dt.Yr)(n[1]),r=(0,dt.Yr)(e[1]),o=(r-i)/2,s=(0,dt.Yr)(e[0]-n[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Rh_warn=2;let tg=1;function mI(...n){tg>Rh_warn||console.warn(...n)}let Ab=!0;function Rb(n,e){if(void 0!==e)for(let t=0,i=n.length;t<i;++t)e[t]=n[t];else e=n.slice();return e}function Pb(n,e){if(void 0!==e&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function yI(n){(function c6(n,e){Qp[n]=e})(n.getCode(),n),Hc(n,n,Rb)}function vn(n){return"string"==typeof n?function l6(n){return Qp[n]||Qp[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(n):n||null}function ng(n,e,t,i){let r;const o=(n=vn(n)).getPointResolutionFunc();if(o){if(r=o(e,t),i&&i!==n.getUnits()){const s=n.getMetersPerUnit();s&&(r=r*s/ca[i])}}else{const s=n.getUnits();if("degrees"==s&&!i||"degrees"==i)r=e;else{const a=ua(n,vn("EPSG:4326"));if(a===Pb&&"degrees"!==s)r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2),r=(Ib(c.slice(0,2),c.slice(2,4))+Ib(c.slice(4,6),c.slice(6,8)))/2}const l=i?ca[i]:n.getMetersPerUnit();void 0!==l&&(r/=l)}}return r}function kb(n){(function y6(n){n.forEach(yI)})(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Hc(e,t,Rb)})})}function Ob(n,e){return n?"string"==typeof n?vn(n):n:vn(e)}function bI(n){return function(e,t,i){const r=e.length;i=void 0!==i?i:2,t=void 0!==t?t:new Array(r);for(let o=0;o<r;o+=i){const s=n(e.slice(o,o+i)),a=s.length;for(let l=0,c=i;l<c;++l)t[o+l]=l>=a?e[o+l]:s[l]}return t}}function v6(n,e,t,i){const r=vn(n),o=vn(e);Hc(r,o,bI(t)),Hc(o,r,bI(i))}function pl(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||ua(n,e)===Rb)&&t}function ua(n,e){let r=hI(n.getCode(),e.getCode());return r||(r=Pb),r}function Ph(n,e){return ua(vn(n),vn(e))}function Wc(n,e,t){return Ph(e,t)(n,void 0,n.length)}function Fb(n,e,t,i){const r=Ph(e,t);return(0,xe.Ne)(n,r,void 0,i)}let dr=null;function Rs(){return dr}function kh(n,e){return n}function Di(n,e){return Ab&&!Do(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Ab=!1,mI("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function ig(n,e){return n}function ha(n,e){return n}function vI(n,e,t){return function(i){let r,o;if(n.canWrapX()){const s=n.getExtent(),a=(0,xe.dz)(s);o=gI(i=i.slice(0),n,a),o&&(i[0]=i[0]-o*a),i[0]=(0,dt.uZ)(i[0],s[0],s[2]),i[1]=(0,dt.uZ)(i[1],s[1],s[3]),r=t(i)}else r=t(i);return o&&e.canWrapX()&&(r[0]+=o*(0,xe.dz)(e.getExtent())),r}}!function x6(){kb(lI),kb(uI),function b6(n,e,t,i){n.forEach(function(r){e.forEach(function(o){Hc(r,o,t),Hc(o,r,i)})})}(uI,lI,r6,o6)}();var Ui=ie(1345),sn=ie(1911);function wI(n,e,t){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;const l=e?0:o[0]*r,c=e?0:o[1]*r,h=a?a[0]:0,f=a?a[1]:0;let p=n[0]+l/2+h,E=n[2]-l/2+h,D=n[1]+c/2+f,H=n[3]-c/2+f;p>E&&(p=(E+p)/2,E=p),D>H&&(D=(H+D)/2,H=D);let $=(0,dt.uZ)(i[0],p,E),te=(0,dt.uZ)(i[1],D,H);if(s&&t&&r){const ae=30*r;$+=-ae*Math.log(1+Math.max(0,p-i[0])/ae)+ae*Math.log(1+Math.max(0,i[0]-E)/ae),te+=-ae*Math.log(1+Math.max(0,D-i[1])/ae)+ae*Math.log(1+Math.max(0,i[1]-H)/ae)}return[$,te]}}function C6(n){return n}var Yt=ie(2456);function Lb(n,e,t,i){const r=(0,xe.dz)(e)/t[0],o=(0,xe.Cr)(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function Nb(n,e,t){let i=Math.min(n,e);return i*=Math.log(1+50*Math.max(0,n/e-1))/50+1,t&&(i=Math.max(i,t),i/=Math.log(1+50*Math.max(0,t/n-1))/50+1),(0,dt.uZ)(i,t/2,2*e)}function EI(n,e,t,i,r){return t=void 0===t||t,function(o,s,a,l){if(void 0!==o){const c=i?Lb(n,i,a,r):n;return t&&l?Nb(o,c,e):(0,dt.uZ)(o,e,c)}}}function Vb(n){if(void 0!==n)return 0}function xI(n){if(void 0!==n)return n}function CI(n){return Math.pow(n,3)}function gl(n){return 1-CI(1-n)}function Bb(n){return 3*n*n-2*n*n*n}function M6(n){return n}var tt=ie(119),ts=ie(9996);function Pi(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Ps(n,e,t,i,r,o,s,a){const l=Math.sin(o),c=Math.cos(o);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=s*i*c-a*i*l+e,n[5]=s*r*l+a*r*c+t,n}function rg(n,e){const t=function P6(n){return n[0]*n[3]-n[1]*n[2]}(e);(0,sn.h)(0!==t,32);const i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*l-s*a)/t,n[5]=-(i*l-r*a)/t,n}let SI;function Ub(n){const e="matrix("+n.join(", ")+")";if(ts.Id)return e;const t=SI||(SI=document.createElement("div"));return t.style.transform=e,t.style.transform}function ml(n,e,t,i,r,o){o=o||[];let s=0;for(let a=e;a<t;a+=i){const l=n[a],c=n[a+1];o[s++]=r[0]*l+r[2]*c+r[4],o[s++]=r[1]*l+r[3]*c+r[5]}return o&&o.length!=s&&(o.length=s),o}function DI(n,e,t,i,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),c=o[0],h=o[1];let f=0;for(let p=e;p<t;p+=i){const E=n[p]-c,D=n[p+1]-h;s[f++]=c+E*a-D*l,s[f++]=h+E*l+D*a;for(let H=p+2;H<p+i;++H)s[f++]=n[H]}return s&&s.length!=f&&(s.length=f),s}new Array(6);const TI=[1,0,0,1,0,0],II=class F6 extends As.Z{constructor(){super(),this.extent_=(0,xe.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,Ui.qe)(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return(0,tt.O3)()}closestPointXY(e,t,i,r){return(0,tt.O3)()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return this.closestPointXY(e[0],e[1],t=t||[NaN,NaN],1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return(0,tt.O3)()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,xe.YN)(t),this.extentRevision_=this.getRevision()}return(0,xe.EO)(this.extent_,e)}rotate(e,t){(0,tt.O3)()}scale(e,t,i){(0,tt.O3)()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return(0,tt.O3)()}getType(){return(0,tt.O3)()}applyTransform(e){(0,tt.O3)()}intersectsExtent(e){return(0,tt.O3)()}translate(e,t){(0,tt.O3)()}transform(e,t){const i=vn(e),r="tile-pixels"==i.getUnits()?function(o,s,a){const l=i.getExtent(),c=i.getWorldExtent(),h=(0,xe.Cr)(c)/(0,xe.Cr)(l);return Ps(TI,c[0],c[3],h,-h,0,0,0),ml(o,0,o.length,a,TI,s),Ph(i,t)(o,s,a)}:Ph(i,t);return this.applyTransform(r),this}};function MI(n){let e;return"XY"==n?e=2:"XYZ"==n||"XYM"==n?e=3:"XYZM"==n&&(e=4),e}const _l=class L6 extends II{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return(0,xe.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return(0,tt.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=MI(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){(0,tt.O3)()}setLayout(e,t,i){let r;if(e)r=MI(e);else{for(let o=0;o<i;++o){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=function N6(n){let e;return 2==n?e="XY":3==n?e="XYZ":4==n&&(e="XYZM"),e}(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();DI(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){void 0===t&&(t=e),i||(i=(0,xe.qg)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();(function k6(n,e,t,i,r,o,s,a){a=a||[];const l=s[0],c=s[1];let h=0;for(let f=e;f<t;f+=i){const E=n[f+1]-c;a[h++]=l+r*(n[f]-l),a[h++]=c+o*E;for(let D=f+2;D<f+i;++D)a[h++]=n[D]}a&&a.length!=h&&(a.length=h)})(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function O6(n,e,t,i,r,o,s){s=s||[];let a=0;for(let l=e;l<t;l+=i){s[a++]=n[l]+r,s[a++]=n[l+1]+o;for(let c=l+2;c<l+i;++c)s[a++]=n[c]}s&&s.length!=a&&(s.length=a)})(i,0,i.length,r,e,t,i),this.changed()}}};function AI(n,e,t,i,r,o,s){const a=n[e],l=n[e+1],c=n[t]-a,h=n[t+1]-l;let f;if(0===c&&0===h)f=e;else{const p=((r-a)*c+(o-l)*h)/(c*c+h*h);if(p>1)f=t;else{if(p>0){for(let E=0;E<i;++E)s[E]=(0,dt.t7)(n[e+E],n[t+E],p);return void(s.length=i)}f=e}}for(let p=0;p<i;++p)s[p]=n[f+p];s.length=i}function Gb(n,e,t,i,r){let o=n[e],s=n[e+1];for(e+=i;e<t;e+=i){const a=n[e],l=n[e+1],c=(0,dt.bI)(o,s,a,l);c>r&&(r=c),o=a,s=l}return r}function Hb(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];r=Gb(n,e,a,i,r),e=a}return r}function Wb(n,e,t,i,r,o,s,a,l,c,h){if(e==t)return c;let f,p;if(0===r){if(p=(0,dt.bI)(s,a,n[e],n[e+1]),p<c){for(f=0;f<i;++f)l[f]=n[e+f];return l.length=i,p}return c}h=h||[NaN,NaN];let E=e+i;for(;E<t;)if(AI(n,E-i,E,i,s,a,h),p=(0,dt.bI)(s,a,h[0],h[1]),p<c){for(c=p,f=0;f<i;++f)l[f]=h[f];l.length=i,E+=i}else E+=i*Math.max((Math.sqrt(p)-Math.sqrt(c))/r|0,1);if(o&&(AI(n,t-i,e,i,s,a,h),p=(0,dt.bI)(s,a,h[0],h[1]),p<c)){for(c=p,f=0;f<i;++f)l[f]=h[f];l.length=i}return c}function Zb(n,e,t,i,r,o,s,a,l,c,h){h=h||[NaN,NaN];for(let f=0,p=t.length;f<p;++f){const E=t[f];c=Wb(n,e,E,i,r,o,s,a,l,c,h),e=E}return c}function og(n,e,t,i){for(let r=0,o=t.length;r<o;++r){const s=t[r];for(let a=0;a<i;++a)n[e++]=s[a]}return e}function Kb(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=og(n,e,t[s],i);r[o++]=l,e=l}return r.length=o,r}function sg(n,e,t,i,r,o,s){const a=(t-e)/i;if(a<3){for(;e<t;e+=i)o[s++]=n[e],o[s++]=n[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,t-i];let h=0;for(;c.length>0;){const f=c.pop(),p=c.pop();let E=0;const D=n[p],H=n[p+1],$=n[f],te=n[f+1];for(let ae=p+i;ae<f;ae+=i){const _e=(0,dt.rU)(n[ae],n[ae+1],D,H,$,te);_e>E&&(h=ae,E=_e)}E>r&&(l[(h-e)/i]=1,p+i<h&&c.push(p,h),h+i<f&&c.push(h,f))}for(let f=0;f<a;++f)l[f]&&(o[s++]=n[e+f*i],o[s++]=n[e+f*i+1]);return s}function yl(n,e){return e*Math.round(n/e)}function H6(n,e,t,i,r,o,s){if(e==t)return s;let c,h,a=yl(n[e],r),l=yl(n[e+1],r);e+=i,o[s++]=a,o[s++]=l;do{if(c=yl(n[e],r),h=yl(n[e+1],r),(e+=i)==t)return o[s++]=c,o[s++]=h,s}while(c==a&&h==l);for(;e<t;){const f=yl(n[e],r),p=yl(n[e+1],r);if(e+=i,f==c&&p==h)continue;const E=c-a,D=h-l,H=f-a,$=p-l;E*$==D*H&&(E<0&&H<E||E==H||E>0&&H>E)&&(D<0&&$<D||D==$||D>0&&$>D)?(c=f,h=p):(o[s++]=c,o[s++]=h,a=c,l=h,c=f,h=p)}return o[s++]=c,o[s++]=h,s}function PI(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){const h=t[l];s=H6(n,e,h,i,r,o,s),a.push(s),e=h}return s}function da(n,e,t,i,r){r=void 0!==r?r:[];let o=0;for(let s=e;s<t;s+=i)r[o++]=n.slice(s,s+i);return r.length=o,r}function Fh(n,e,t,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s];r[o++]=da(n,e,l,i,r[o]),e=l}return r.length=o,r}function Yb(n,e,t,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s];r[o++]=1===l.length&&l[0]===e?[]:Fh(n,e,l,i,r[o]),e=l[l.length-1]}return r.length=o,r}function kI(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){const a=n[e],l=n[e+1];r+=s*a-o*l,o=a,s=l}return r/2}function OI(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];r+=kI(n,e,a,i),e=a}return r}class ag extends _l{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new ag(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<(0,xe.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return kI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return da(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ag(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=og(this.flatCoordinates,0,e,this.stride),this.changed()}}const FI=ag;class $b extends _l{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new $b(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const o=this.flatCoordinates,s=(0,dt.bI)(e,t,o[0],o[1]);if(s<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return(0,xe.HK)(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return(0,xe.jE)(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function j6(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}(this.flatCoordinates,0,e),this.changed()}}const Zc=$b;function K6(n,e,t,i,r){return!(0,xe.H6)(r,function(s){return!bl(n,e,t,i,s[0],s[1])})}function bl(n,e,t,i,r,o){let s=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){const c=n[e],h=n[e+1];l<=o?h>o&&(c-a)*(o-l)-(r-a)*(h-l)>0&&s++:h<=o&&(c-a)*(o-l)-(r-a)*(h-l)<0&&s--,a=c,l=h}return 0!==s}function qb(n,e,t,i,r,o){if(0===t.length||!bl(n,e,t[0],i,r,o))return!1;for(let s=1,a=t.length;s<a;++s)if(bl(n,t[s-1],t[s],i,r,o))return!1;return!0}function LI(n,e,t,i,r,o,s){let a,l,c,h,f,p,E;const D=r[o+1],H=[];for(let ae=0,re=t.length;ae<re;++ae){const pe=t[ae];for(h=n[pe-i],p=n[pe-i+1],a=e;a<pe;a+=i)f=n[a],E=n[a+1],(D<=p&&E<=D||p<=D&&D<=E)&&(c=(D-p)/(E-p)*(f-h)+h,H.push(c)),h=f,p=E}let $=NaN,te=-1/0;for(H.sort(Yt.j2),h=H[0],a=1,l=H.length;a<l;++a){f=H[a];const ae=Math.abs(f-h);ae>te&&(c=(h+f)/2,qb(n,e,t,i,c,D)&&($=c,te=ae)),h=f}return isNaN($)&&($=r[o]),s?(s.push($,D,te),s):[$,D,te]}function NI(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function lg(n,e,t,i,r){const o=(0,xe.qP)((0,xe.lJ)(),n,e,t,i);return!!(0,xe.kK)(r,o)&&(!!((0,xe.r4)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3])||NI(n,e,t,i,function(s,a){return(0,xe.I7)(r,s,a)}))}function VI(n,e,t,i,r){return!!(lg(n,e,t,i,r)||bl(n,e,t,i,r[0],r[1])||bl(n,e,t,i,r[0],r[3])||bl(n,e,t,i,r[2],r[1])||bl(n,e,t,i,r[2],r[3]))}function BI(n,e,t,i,r){if(!VI(n,e,t[0],i,r))return!1;if(1===t.length)return!0;for(let o=1,s=t.length;o<s;++o)if(K6(n,t[o-1],t[o],i,r)&&!lg(n,t[o-1],t[o],i,r))return!1;return!0}function Q6(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function Xb(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){const a=n[e],l=n[e+1];r+=(a-o)*(l+s),o=a,s=l}return 0===r?void 0:r>0}function zI(n,e,t,i,r){r=void 0!==r&&r;for(let o=0,s=t.length;o<s;++o){const a=t[o],l=Xb(n,e,a,i);if(0===o){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function Qb(n,e,t,i,r){r=void 0!==r&&r;for(let o=0,s=t.length;o<s;++o){const a=t[o],l=Xb(n,e,a,i);(0===o?r&&l||!r&&!l:r&&!l||!r&&l)&&Q6(n,e,a,i),e=a}return e}function jI(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o)e=Qb(n,e,t[o],i,r);return e}class vl extends _l{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?(0,Yt.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new vl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<(0,xe.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hb(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zb(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return qb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return OI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Qb(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Fh(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=(0,xe.qg)(this.getExtent());this.flatInteriorPoint_=LI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Zc(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new FI(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let s=0,a=i.length;s<a;++s){const l=i[s],c=new FI(t.slice(o,l),e);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;zI(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Qb(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=PI(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new vl(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return BI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Kb(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const Kc=vl;function UI(n){const e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new vl(o,"XY",[o.length])}function GI(n,e,t){e=e||32;const i=n.getStride(),r=n.getLayout(),o=n.getCenter(),s=i*(e+1),a=new Array(s);for(let h=0;h<s;h+=i){a[h]=0,a[h+1]=0;for(let f=2;f<i;f++)a[h+f]=o[f]}const c=new vl(a,r,[a.length]);return function ez(n,e,t,i){const r=n.getFlatCoordinates(),o=n.getStride(),s=r.length/o-1,a=i||0;for(let l=0;l<=s;++l){const c=l*o,h=a+2*(0,dt.$W)(l,s)*Math.PI/s;r[c]=e[0]+t*Math.cos(h),r[c+1]=e[1]+t*Math.sin(h)}n.changed()}(c,o,n.getRadius(),t),c}function cg(n,e){setTimeout(function(){n(e)},0)}function ev(n,e,t,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=n[0]*o-n[1]*s,l=n[1]*o+n[0]*s;return a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,s=-s,[a*o-l*s,l*o+a*s]}const Io=class tz extends As.Z{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=Ob(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function _I(n){Ab=!(void 0===n||n)}(),e.center&&(e.center=Di(e.center)),e.extent&&(e.extent=ha(e.extent)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in Co)delete t[a];this.setProperties(t,!0);const i=function iz(n){let e,t,i,s=void 0!==n.minZoom?n.minZoom:0,a=void 0!==n.maxZoom?n.maxZoom:28;const l=void 0!==n.zoomFactor?n.zoomFactor:2,c=void 0!==n.multiWorld&&n.multiWorld,h=void 0===n.smoothResolutionConstraint||n.smoothResolutionConstraint,f=void 0!==n.showFullExtent&&n.showFullExtent,p=Ob(n.projection,"EPSG:3857"),E=p.getExtent();let D=n.constrainOnlyCenter,H=n.extent;if(!c&&!H&&p.isGlobal()&&(D=!1,H=E),void 0!==n.resolutions){const $=n.resolutions;t=$[s],i=void 0!==$[a]?$[a]:$[$.length-1],e=n.constrainResolution?function S6(n,e,t,i){return e=void 0===e||e,function(r,o,s,a){if(void 0!==r){const l=n[0],c=n[n.length-1],h=t?Lb(l,t,s,i):l;if(a)return e?Nb(r,h,c):(0,dt.uZ)(r,c,h);const f=Math.min(h,r),p=Math.floor((0,Yt.h7)(n,f,o));return n[p]>h&&p<n.length-1?n[p+1]:n[p]}}}($,h,!D&&H,f):EI(t,i,h,!D&&H,f)}else{const te=(E?Math.max((0,xe.dz)(E),(0,xe.Cr)(E)):360*ca.degrees/p.getMetersPerUnit())/256/Math.pow(2,0),ae=te/Math.pow(2,28);t=n.maxResolution,void 0!==t?s=0:t=te/Math.pow(l,s),i=n.minResolution,void 0===i&&(i=void 0!==n.maxZoom?void 0!==n.maxResolution?t/Math.pow(l,a):te/Math.pow(l,a):ae),a=s+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-s),e=n.constrainResolution?function D6(n,e,t,i,r,o){return i=void 0===i||i,t=void 0!==t?t:0,function(s,a,l,c){if(void 0!==s){const h=r?Lb(e,r,l,o):e;if(c)return i?Nb(s,h,t):(0,dt.uZ)(s,t,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(n)-f),E=-a*(.5-f)+.5,D=Math.min(h,s),H=Math.floor(Math.log(e/D)/Math.log(n)+E),$=Math.max(p,H),te=e/Math.pow(n,$);return(0,dt.uZ)(te,t,h)}}}(l,t,i,h,!D&&H,f):EI(t,i,h,!D&&H,f)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=function nz(n){if(void 0!==n.extent)return wI(n.extent,n.constrainOnlyCenter,void 0===n.smoothExtentConstraint||n.smoothExtentConstraint);const e=Ob(n.projection,"EPSG:3857");if(!0!==n.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,wI(t,!1,!1)}return C6}(e),o=i.constraint,s=function rz(n){if(void 0===n.enableRotation||n.enableRotation){const t=n.constrainRotation;return void 0===t||!0===t?function I6(n){return n=n||(0,dt.Yr)(5),function(e,t){return t?e:void 0!==e?Math.abs(e)<=n?0:e:void 0}}():!1===t?xI:"number"==typeof t?function T6(n){const e=2*Math.PI/n;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(t):xI}return Vb}(e);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution();this.setCenterInternal([i[0]+o/2*(r[3]-t[3]+t[1]-r[1]),i[1]-o/2*(r[0]-t[0]+t[2]-r[2])])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Di(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Di(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let i,t=arguments.length;t>1&&"function"==typeof arguments[t-1]&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const h=arguments[r];h.center&&this.setCenterInternal(h.center),void 0!==h.zoom?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),void 0!==h.rotation&&this.setRotation(h.rotation)}if(r===t)return void(i&&cg(i,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<t;++r){const h=arguments[r],f={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Bb,callback:i};if(h.center&&(f.sourceCenter=s,f.targetCenter=h.center.slice(),s=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=a,f.targetResolution=this.getResolutionForZoom(h.zoom),a=f.targetResolution):h.resolution&&(f.sourceResolution=a,f.targetResolution=h.resolution,a=f.targetResolution),void 0!==h.rotation){f.sourceRotation=l;const p=(0,dt.$W)(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+p,l=f.targetRotation}(n=f).sourceCenter&&n.targetCenter&&!Do(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation?o+=f.duration:f.complete=!0,c.push(f)}var n;this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&cg(r[0].callback,!1),!e)for(let o=0,s=r.length;o<s;++o){const a=r[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let o=!0;for(let s=0,a=r.length;s<a;++s){const l=r[s];if(l.complete)continue;const c=e-l.start;let h=l.duration>0?c/l.duration:1;h>=1?(l.complete=!0,h=1):o=!1;const f=l.easing(h);if(l.sourceCenter){const p=l.sourceCenter[0],E=l.sourceCenter[1],D=l.targetCenter[0],H=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[p+f*(D-p),E+f*(H-E)]}if(l.sourceResolution&&l.targetResolution){const p=1===f?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);if(l.anchor){const E=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(p,0,E,!0);this.targetCenter_=this.calculateCenterZoom(D,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const p=1===f?(0,dt.$W)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);if(l.anchor){const E=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(E,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=r[0].callback;s&&cg(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return void 0!==r&&(i=[r[0]-t[0],r[1]-t[1]],Db(i,e-this.getRotation()),function u6(n,e){n[0]+=+e[0],n[1]+=+e[1]}(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),o=this.getResolution();return void 0!==r&&void 0!==o&&(i=[t[0]-e*(t[0]-r[0])/o,t[1]-e*(t[1]-r[1])/o]),i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&kh(e,this.getProjection())}getCenterInternal(){return this.get(Co.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return ig(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();(0,sn.h)(t,1);const i=this.getResolution();(0,sn.h)(void 0!==i,2);const r=this.getRotation();return(0,sn.h)(void 0!==r,3),(0,xe.p8)(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Co.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(ha(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=(0,xe.dz)(e)/t[0],r=(0,xe.Cr)(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),r=Math.log(t/this.minResolution_)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(Co.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const s=this.getViewportSizeMinusPadding_();r=ev(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let i,r,t=this.minZoom_||0;if(this.resolutions_){const o=(0,Yt.h7)(this.resolutions_,e,1);t=o,i=this.resolutions_[o],r=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=(0,dt.uZ)(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[t]/Math.pow(this.resolutions_[t]/this.resolutions_[t+1],(0,dt.uZ)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if((0,sn.h)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))(0,sn.h)(!(0,xe.xb)(e),25),i=UI(ha(e,this.getProjection()));else if("Circle"===e.getType()){const r=ha(e.getExtent(),this.getProjection());i=UI(r),i.rotate(this.getRotation(),(0,xe.qg)(r))}else{const r=Rs();i=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride();let a=1/0,l=1/0,c=-1/0,h=-1/0;for(let f=0,p=o.length;f<p;f+=s){const E=o[f]*i-o[f+1]*r,D=o[f]*r+o[f+1]*i;a=Math.min(a,E),l=Math.min(l,D),c=Math.max(c,E),h=Math.max(h,D)}return[a,l,c,h]}fitInternal(e,t){let i=(t=t||{}).size;i||(i=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],o=void 0!==t.nearest&&t.nearest;let s;s=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);const c=this.getRotation(),h=Math.sin(c),f=Math.cos(c),p=(0,xe.qg)(a);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;const H=this.getConstrainedCenter([p[0]*f-p[1]*h,p[1]*f+p[0]*h],l),$=t.callback?t.callback:Ui.Zn;void 0!==t.duration?this.animateInternal({resolution:l,center:H,duration:t.duration,easing:t.easing},$):(this.targetResolution_=l,this.targetCenter_=H,this.applyTargetState_(!1,!0),cg($,!0))}centerOn(e,t,i){this.centerOnInternal(Di(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(ev(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o;const s=this.padding_;if(s&&e){const a=this.getViewportSizeMinusPadding_(-i),l=ev(e,r,[a[0]/2+s[3],a[1]/2+s[0]],t,i);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=kh(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Di(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Di(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Di(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(Co.ROTATION)!==r&&this.set(Co.ROTATION,r),this.get(Co.RESOLUTION)!==s&&(this.set(Co.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Co.CENTER)||!Do(this.get(Co.CENTER),a))&&this.set(Co.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=void 0!==e?e:200;const r=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();i=i||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!Do(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:gl,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,t,i){i=i&&Di(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){!this.getInteracting()||(this.setHint(1,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};var Mo=ie(2815),Dr=ie(9889),HI=ie(625);const WI=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ZI=/^([a-z]*)$|^hsla?\(.*\)$/i;function KI(n){return"string"==typeof n?n:qI(n)}const sz=function(){const e={};let t=0;return function(i){let r;if(e.hasOwnProperty(i))r=e[i];else{if(t>=1024){let o=0;for(const s in e)0==(3&o++)&&(delete e[s],--t)}r=function az(n){let e,t,i,r,o;if(ZI.exec(n)&&(n=function YI(n){const e=document.createElement("div");if(e.style.color=n,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(n)),WI.exec(n)){const s=n.length-1;let a;a=s<=4?1:2;const l=4===s||8===s;e=parseInt(n.substr(1+0*a,a),16),t=parseInt(n.substr(1+1*a,a),16),i=parseInt(n.substr(1+2*a,a),16),r=l?parseInt(n.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,l&&(r=(r<<4)+r)),o=[e,t,i,r/255]}else n.startsWith("rgba(")?(o=n.slice(5,-1).split(",").map(Number),$I(o)):n.startsWith("rgb(")?(o=n.slice(4,-1).split(",").map(Number),o.push(1),$I(o)):(0,sn.h)(!1,14);return o}(i),e[i]=r,++t}return r}}();function Lh(n){return Array.isArray(n)?n:sz(n)}function $I(n){return n[0]=(0,dt.uZ)(n[0]+.5|0,0,255),n[1]=(0,dt.uZ)(n[1]+.5|0,0,255),n[2]=(0,dt.uZ)(n[2]+.5|0,0,255),n[3]=(0,dt.uZ)(n[3],0,1),n}function qI(n){let e=n[0];e!=(0|e)&&(e=e+.5|0);let t=n[1];t!=(0|t)&&(t=t+.5|0);let i=n[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+t+","+i+","+(void 0===n[3]?1:Math.round(100*n[3])/100)+")"}function XI(n,e,t){return e+":"+n+":"+(t?KI(t):"null")}const ug=new class lz{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];0==(3&e++)&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const r=XI(e,t,i);return r in this.cache_?this.cache_[r]:null}set(e,t,i,r){const o=XI(e,t,i);this.cache_[o]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};var cz=ie(5560),Lt=ie(9972),Nh=ie(2683);var vt=ie(1729);function tv(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}const hg=class uz extends cz.Z{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Nh.Z.SOURCE,this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(Nh.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,vt.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=(0,vt.oL)(e,Lt.Z.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;t=e instanceof Io?{viewState:e.getState(),extent:e.calculateExtent()}:e;const i=this.getExtent();return this.getVisible()&&tv(this.getLayerState(),t.viewState)&&(!i||(0,xe.kK)(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];let o=t(e instanceof Io?e.getViewStateAndExtent():e);return Array.isArray(o)||(o=[o]),o}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Nh.Z.MAP,e)}getMapInternal(){return this.get(Nh.Z.MAP)}setMap(e){this.mapPrecomposeKey_&&((0,vt.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,vt.bN)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,vt.oL)(e,"precompose",function(t){const r=t.frameState.layerStatesArray,o=this.getLayerState(!1);(0,sn.h)(!r.some(function(s){return s.layer===o.layer}),67),r.push(o)},this),this.mapRenderKey_=(0,vt.oL)(this,Lt.Z.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Nh.Z.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function dz(n,e){ug.expire()}const fz=class hz extends HI.Z{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){(0,tt.O3)()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Ps(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),rg(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,s,a,l){let c;const h=t.viewState;function f(pe,_e,Ie,Ae){return o.call(s,_e,pe?Ie:null,Ae)}const p=h.projection,E=Tb(e.slice(),p),D=[[0,0]];if(p.canWrapX()&&r){const pe=p.getExtent(),_e=(0,xe.dz)(pe);D.push([-_e,0],[_e,0])}const H=t.layerStatesArray,$=H.length,te=[],ae=[];for(let pe=0;pe<D.length;pe++)for(let _e=$-1;_e>=0;--_e){const Ie=H[_e],Ae=Ie.layer;if(Ae.hasRenderer()&&tv(Ie,h)&&a.call(l,Ae)){const je=Ae.getRenderer(),at=Ae.getSource();if(je&&at){const ht=at.getWrapX()?E:e,Gt=f.bind(null,Ie.managed);ae[0]=ht[0]+D[pe][0],ae[1]=ht[1]+D[pe][1],c=je.forEachFeatureAtCoordinate(ae,t,i,Gt,te)}if(c)return c}}if(0===te.length)return;const re=1/te.length;return te.forEach((pe,_e)=>pe.distanceSq+=_e*re),te.sort((pe,_e)=>pe.distanceSq-_e.distanceSq),te.some(pe=>c=pe.callback(pe.feature,pe.layer,pe.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,t,i,r,Ui.uX,this,o,s)}getMap(){return this.map_}renderFrame(e){(0,tt.O3)()}scheduleExpireIconCache(e){ug.canExpireCache()&&e.postRenderFunctions.push(dz)}};var dg=ie(4587),ks=ie(8214);const QI=class pz extends ks.ZP{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},fg="ol-hidden",pa="ol-unselectable",JI="ol-unsupported",Vh="ol-control",eM="ol-collapsed",mz=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),tM=["style","variant","weight","size","lineHeight","family"],nM=function(n){const e=n.match(mz);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=tM.length;i<r;++i){const o=e[i+1];void 0!==o&&(t[tM[i]]=o)}return t.families=t.family.split(/,\s?/),t};var ga=ie(9466),Tn=ie(1992);const iM="10px sans-serif",Os="#000",pg="round",Bh=[],Yc="round",Uh="#000",Gh="center",gg="middle",wl=[0,0,0,0],Fs=new As.Z;let nv,$c=null;const iv={},_z=function(){const e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";let o,s;function a(c,h,f){let p=!0;for(let E=0;E<i;++E){const D=t[E];if(s=mg(c+" "+h+" "+e+D,r),f!=D){const H=mg(c+" "+h+" "+e+f+","+D,r);p=p&&H!=s}}return!!p}function l(){let c=!0;const h=Fs.getKeys();for(let f=0,p=h.length;f<p;++f){const E=h[f];Fs.get(E)<100&&(a.apply(this,E.split("\n"))?((0,ga.Z)(iv),$c=null,nv=void 0,Fs.set(E,100)):(Fs.set(E,Fs.get(E)+1,!0),c=!1))}c&&(clearInterval(o),o=void 0)}return function(c){const h=nM(c);if(!h)return;const f=h.families;for(let p=0,E=f.length;p<E;++p){const D=f[p],H=h.style+"\n"+h.weight+"\n"+D;void 0===Fs.get(H)&&(Fs.set(H,100,!0),a(h.style,h.weight,D)||(Fs.set(H,0,!0),void 0===o&&(o=setInterval(l,32))))}}}(),yz=function(){let n;return function(e){let t=iv[e];if(null==t){if(ts.Id){const i=nM(e),r=rM(e,"\u017dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);iv[e]=t}return t}}();function rM(n,e){return $c||($c=(0,Tn.E4)(1,1)),n!=nv&&($c.font=n,nv=$c.font),$c.measureText(e)}function mg(n,e){return rM(n,e).width}function oM(n,e,t){if(e in t)return t[e];const i=e.split("\n").reduce((r,o)=>Math.max(r,mg(n,o)),0);return t[e]=i,i}const xz=class Ez extends fz{constructor(e){super(e),this.fontChangeListenerKey_=(0,vt.oL)(Fs,dg.Z.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=pa+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new QI(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){(0,vt.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const t=e.layerStatesArray.sort(function(s,a){return s.zIndex-a.zIndex}),i=e.viewState;this.children_.length=0;const r=[];let o=null;for(let s=0,a=t.length;s<a;++s){const l=t[s];e.layerIndex=s;const c=l.layer,h=c.getSourceState();if(!tv(l,i)||"ready"!=h&&"undefined"!=h){c.unrender();continue}const f=c.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in c&&r.push(c))}for(let s=r.length-1;s>=0;--s)r[s].renderDeclutter(e);(0,Tn.hF)(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};var Ls=ie(4973);const qc=class Cz extends ks.ZP{constructor(e,t,i){super(e),this.map=t,this.frameState=void 0!==i?i:null}},ma=class Sz extends qc{constructor(e,t,i,r,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Bn={SINGLECLICK:"singleclick",CLICK:Lt.Z.CLICK,DBLCLICK:Lt.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var rv=ie(8007);const Tz=class Dz extends rv.Z{constructor(e,t){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=(0,vt.oL)(i,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=(0,vt.oL)(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Lt.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!ts.bM&&{passive:!1})}emulateClick_(e){let t=new ma(Bn.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new ma(Bn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new ma(Bn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Bn.POINTERUP||t.type==Bn.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Bn.POINTERDOWN||t.type==Bn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new ma(Bn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(vt.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new ma(Bn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,vt.oL)(i,Bn.POINTERMOVE,this.handlePointerMove_,this),(0,vt.oL)(i,Bn.POINTERUP,this.handlePointerUp_,this),(0,vt.oL)(this.element_,Bn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push((0,vt.oL)(this.element_.getRootNode(),Bn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new ma(Bn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new ma(Bn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,vt.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Lt.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,vt.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(vt.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}};var _a=ie(7656);const _g=1/0;var ya=ie(6422);const Oz=class kz extends ya.default{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",o=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",s=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Lt.Z.CLICK,this.handleClick_.bind(this),!1);const h=this.element;h.className=t+" "+pa+" "+Vh+(this.collapsed_&&this.collapsible_?" "+eM:"")+(this.collapsible_?"":" ol-uncollapsible"),h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),i=!this.getMap().getAllLayers().some(r=>r.getSource()&&!1===r.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,Yt.fS)(t,this.renderedAttributions_)){(0,Tn.ep)(this.ulElement_);for(let r=0,o=t.length;r<o;++r){const s=document.createElement("li");s.innerHTML=t[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(eM),this.collapsed_?(0,Tn.$H)(this.collapseLabel_,this.label_):(0,Tn.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},Lz=class Fz extends ya.default{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"\u21e7",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(Lt.Z.CLICK,this.handleClick_.bind(this),!1);const l=this.element;l.className=t+" "+pa+" "+Vh,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(fg)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:gl}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(fg);o||0!==i?o&&0!==i&&this.element.classList.remove(fg):this.element.classList.add(fg)}this.label_.style.transform=r}this.rotation_=i}},Vz=class Nz extends ya.default{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",o=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",s=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",c=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(Lt.Z.CLICK,this.handleClick_.bind(this,i),!1);const f=document.createElement("button");f.className=o,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof a?document.createTextNode(a):a),f.addEventListener(Lt.Z.CLICK,this.handleClick_.bind(this,-i),!1);const E=this.element;E.className=t+" "+pa+" "+Vh,E.appendChild(h),E.appendChild(f),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(void 0!==r){const o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:gl})):i.setZoom(o)}}};function sM(n){n=n||{};const e=new Mo.Z;return(void 0===n.zoom||n.zoom)&&e.push(new Vz(n.zoomOptions)),(void 0===n.rotate||n.rotate)&&e.push(new Lz(n.rotateOptions)),(void 0===n.attribution||n.attribution)&&e.push(new Oz(n.attributionOptions)),e}function ov(n,e,t,i){const r=n.getZoom();if(void 0===r)return;const o=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:void 0!==i?i:250,easing:gl})}const El=class Bz extends As.Z{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},Uz=class jz extends El{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Bn.DBLCLICK){const i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;ov(e.map.getView(),s,o,this.duration_),i.preventDefault(),t=!0}return!t}};function sv(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}const Xc=class Gz extends El{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Bn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Bn.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Bn.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Bn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function av(n){const e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),i);++r);return i}}const Wz=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},lM=function(n){return!n.map.getTargetElement().hasAttribute("tabindex")||function(n){const e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)}(n)},cM=Ui.uX,uM=function(n){const e=n.originalEvent;return 0==e.button&&!(ts.G$&&ts.tK&&e.ctrlKey)},hM=Ui.Dv,dM=function(n){return n.type==Bn.SINGLECLICK},fM=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},lv=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},pM=function(n){const e=n.originalEvent,t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t&&!e.target.isContentEditable},cv=function(n){const e=n.originalEvent;return(0,sn.h)(void 0!==e,56),"mouse"==e.pointerType},gM=function(n){const e=n.originalEvent;return(0,sn.h)(void 0!==e,56),e.isPrimary&&0===e.button},Yz=class Kz extends Xc{constructor(e){super({stopDown:Ui.Dv}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const t=e.condition?e.condition:av(fM,gM);this.condition_=e.onFocusOnly?av(lM,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(sv(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();(function f6(n,e){n[0]*=e,n[1]*=e})(o,a.getResolution()),Db(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:gl})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},mM=class $z extends Xc{constructor(e){e=e||{},super({stopDown:Ui.Dv}),this.condition_=e.condition?e.condition:Wz,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!cv(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Vb)return;const r=t.getSize(),o=e.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}handleUpEvent(e){return!cv(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(cv(e)&&uM(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},Xz=class qz extends HI.Z{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Kc([r])}getGeometry(){return this.geometry_}};class uv extends ks.ZP{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}const Jz=class Qz extends Xc{constructor(e){super(),this.box_=new Xz((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:uM,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new uv("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new uv(t?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new uv("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},_M=class e9 extends Jz{constructor(e){super({condition:(e=e||{}).condition?e.condition:lv,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:gl})}},n9=class t9 extends El{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return fM(t)&&pM(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Lt.Z.KEYDOWN){const i=e.originalEvent,r=i.keyCode;if(this.condition_(e)&&(40==r||37==r||39==r||38==r)){const s=e.map.getView(),a=s.getResolution()*this.pixelDelta_;let l=0,c=0;40==r?c=-a:37==r?l=-a:39==r?l=a:c=a;const h=[l,c];Db(h,s.getRotation()),function zz(n,e,t){const i=n.getCenterInternal();i&&n.animateInternal({duration:void 0!==t?t:250,easing:M6,center:n.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}(s,h,this.duration_),i.preventDefault(),t=!0}}return!t}},r9=class i9 extends El{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:pM,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==Lt.Z.KEYDOWN||e.type==Lt.Z.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&("+"===r||"-"===r)){const s="+"===r?this.delta_:-this.delta_;ov(e.map.getView(),s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},l9=class a9 extends El{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:cM;this.condition_=e.onFocusOnly?av(lM,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Lt.Z.WHEEL)return!0;const i=e.map,r=e.originalEvent;let o;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==Lt.Z.WHEEL&&(o=r.deltaY,ts.V&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=ts.MP),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const a=i.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-(0,dt.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ov(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},u9=class c9 extends Xc{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Ui.Dv),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(void 0!==this.lastAngle_){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;const s=e.map,a=s.getView();a.getConstraints().rotation!==Vb&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(sv(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},d9=class h9 extends Xc{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Ui.Dv),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(sv(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function yM(n,e,t){return void 0===t&&(t=[0,0]),t[0]=n[0]+2*e,t[1]=n[1]+2*e,t}function bM(n){return n[0]>0&&n[1]>0}function vM(n,e,t){return void 0===t&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function fr(n,e){return Array.isArray(n)?n:(void 0===e?e=[n,n]:(e[0]=n,e[1]=n),e)}function wM(n){n instanceof hg?n.setMapInternal(null):n instanceof Ls.default&&n.getLayers().forEach(wM)}function EM(n,e){if(n instanceof hg)n.setMapInternal(e);else if(n instanceof Ls.default){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)EM(t[i],e)}}const m9=class p9 extends As.Z{constructor(e){super();const t=function g9(n){let e=null;void 0!==n.keyboardEventTarget&&(e="string"==typeof n.keyboardEventTarget?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&"function"==typeof n.layers.getLayers?n.layers:new Ls.default({layers:n.layers});let r,o,s;return t.layergroup=i,t.target=n.target,t.view=n.view instanceof Io?n.view:new Io,void 0!==n.controls&&(Array.isArray(n.controls)?r=new Mo.Z(n.controls.slice()):((0,sn.h)("function"==typeof n.controls.getArray,47),r=n.controls)),void 0!==n.interactions&&(Array.isArray(n.interactions)?o=new Mo.Z(n.interactions.slice()):((0,sn.h)("function"==typeof n.interactions.getArray,48),o=n.interactions)),void 0!==n.overlays?Array.isArray(n.overlays)?s=new Mo.Z(n.overlays.slice()):((0,sn.h)("function"==typeof n.overlays.getArray,49),s=n.overlays):s=new Mo.Z,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ts.MP,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||sM(),this.interactions=t.interactions||function f9(n){n=n||{};const e=new Mo.Z,t=new class o9{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===n.altShiftDragRotate||n.altShiftDragRotate)&&e.push(new mM),(void 0===n.doubleClickZoom||n.doubleClickZoom)&&e.push(new Uz({delta:n.zoomDelta,duration:n.zoomDuration})),(void 0===n.dragPan||n.dragPan)&&e.push(new Yz({onFocusOnly:n.onFocusOnly,kinetic:t})),(void 0===n.pinchRotate||n.pinchRotate)&&e.push(new u9),(void 0===n.pinchZoom||n.pinchZoom)&&e.push(new d9({duration:n.zoomDuration})),(void 0===n.keyboard||n.keyboard)&&(e.push(new n9),e.push(new r9({delta:n.zoomDelta,duration:n.zoomDuration}))),(void 0===n.mouseWheelZoom||n.mouseWheelZoom)&&e.push(new l9({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(void 0===n.shiftDragZoom||n.shiftDragZoom)&&e.push(new _M({duration:n.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new class Az extends class Iz{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,ga.Z)(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){(0,sn.h)(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=_g&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,o=t[e],s=i[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),h=c<r&&i[c]<i[l]?c:l;t[e]=t[h],i[e]=i[h],e=h}t[e]=o,i[e]=s,this.siftDown_(a,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,o=i[t],s=r[t];for(;t>e;){const a=this.getParentIndex_(t);if(!(r[a]>s))break;i[t]=i[a],r[t]=r[a],t=a}i[t]=o,r[t]=s}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const o=t.length;let s,a,l;for(a=0;a<o;++a)s=t[a],l=e(s),l==_g?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,t[r++]=s);t.length=r,i.length=r,this.heapify_()}}{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Lt.Z.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(2===i||3===i||4===i){3!==i&&t.removeEventListener(Lt.Z.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let r,o,s,i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)o=this.dequeue()[0],s=o.getKey(),r=o.getState(),0===r&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())}}(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Io)&&e.view.then(function(r){i.setView(new Io(r))}),this.controls.addEventListener(Dr.Z.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Dr.Z.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Dr.Z.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Dr.Z.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Dr.Z.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Dr.Z.REMOVE,r=>{const o=r.element.getId();void 0!==o&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){EM(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,t,null,void 0!==i.layerFilter?i.layerFilter:Ui.uX,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];return function t(i){i.forEach(function(r){r instanceof Ls.default?t(r.getLayers()):e.push(r)})}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(t=void 0!==t?t:{}).hitTolerance?t.hitTolerance:0,!1!==t.checkWrapped,void 0!==t.layerFilter?t.layerFilter:Ui.uX,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/(i.width/r[0]),(a.clientY-i.top)/(i.height/r[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return kh(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Pi(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const t=this.getLayerGroup();if(e instanceof Mo.Z)return void t.setLayers(e);const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Di(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Pi(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return function Pz(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return _g;const o=n.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){const i=new ma(t=t||e.type,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if("pointerdown"===i||i===Lt.Z.WHEEL||i===Lt.Z.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=t.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===r?r.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.getMap()===this&&s.getActive()&&this.getTargetElement()&&(!s.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){const s=e.viewHints;if(s[0]||s[1]){const a=Date.now()-e.time>8;r=a?0:8,o=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new qc(_a.Z.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new qc(_a.Z.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)(0,vt.bN)(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Lt.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Lt.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,Tn.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new xz(this)),this.mapBrowserEventHandler_=new Tz(this,this.moveTolerance_);for(const o in Bn)this.mapBrowserEventHandler_.addEventListener(Bn[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Lt.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Lt.Z.WHEEL,this.boundHandleBrowserEvent_,!!ts.bM&&{passive:!1});const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[(0,vt.oL)(i,Lt.Z.KEYDOWN,this.handleBrowserEvent,this),(0,vt.oL)(i,Lt.Z.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,vt.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,vt.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,vt.oL)(e,dg.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,vt.oL)(e,Lt.Z.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(vt.bN),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ls.GroupEvent("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,vt.oL)(e,dg.Z.PROPERTYCHANGE,this.render,this),(0,vt.oL)(e,Lt.Z.CHANGE,this.render,this),(0,vt.oL)(e,"addlayer",this.handleLayerAdd_,this),(0,vt.oL)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){wM(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let o=null;if(void 0!==t&&bM(t)&&i&&i.isDef()){const s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,xe.p8)(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:(0,tt.sq)(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=(0,xe.p8)(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!(0,xe.xb)(this.previousExtent_)&&!(0,xe.fS)(o.extent,this.previousExtent_))&&(this.dispatchEvent(new qc(_a.Z.MOVESTART,this,r)),this.previousExtent_=(0,xe.YN)(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!(0,xe.fS)(o.extent,this.previousExtent_)&&(this.dispatchEvent(new qc(_a.Z.MOVEEND,this,o)),(0,xe.d9)(o.extent,this.previousExtent_))),this.dispatchEvent(new qc(_a.Z.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(_a.Z.LOADSTART)||this.hasListener(_a.Z.LOADEND)||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ls.GroupEvent("removelayer",t)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof Io)return void this.set("view",e);this.set("view",new Io);const t=this;e.then(function(i){t.setView(new Io(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(t=[o,s],!bM(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&mI("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!(0,Yt.fS)(t,i))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}};var _9=ie(6218),y9=ie.n(_9);const v9=class b9 extends hg{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}};var xM=ie(4272);const E9=class w9 extends xM.default{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return(0,tt.O3)()}getData(e){return null}prepareFrame(e){return(0,tt.O3)()}renderFrame(e,t){return(0,tt.O3)()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(r,o)=>{const s=this.loadedTileCallback.bind(this,i,r);return e.forEachLoadedTile(t,r,o,s)}}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return 2!=t&&3!=t&&e.addEventListener(Lt.Z.CHANGE,this.boundHandleImageChange_),0==t&&(e.load(),t=e.getState()),2==t}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},CM=[];let Qc=null;const SM=class C9 extends E9{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){let r;Qc||function x9(){Qc=(0,Tn.E4)(1,1,void 0,{willReadFrequently:!0})}(),Qc.clearRect(0,0,1,1);try{Qc.drawImage(e,t,i,1,1,0,0,1,1),r=Qc.getImageData(0,0,1,1).data}catch{return Qc=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return"function"==typeof i&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let o,s;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&(0,Yt.fS)(Lh(e.style.backgroundColor),Lh(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===t?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=(0,Tn.E4)();const l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=(0,xe.rL)(i),o=(0,xe.Xv)(i),s=(0,xe.w$)(i),a=(0,xe.hC)(i);Pi(t.coordinateToPixelTransform,r),Pi(t.coordinateToPixelTransform,o),Pi(t.coordinateToPixelTransform,s),Pi(t.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Pi(l,r),Pi(l,o),Pi(l,s),Pi(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const o=new QI(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_("prerender",e,t)}postRender(e,t){this.dispatchRenderEvent_("postrender",e,t)}getRenderTransform(e,t,i,r,o,s,a){const h=r/t;return Ps(this.tempTransform,o/2,s/2,h,-h,-i,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},DM=class S9 extends rv.Z{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Lt.Z.CHANGE)}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?t=e:0==e.getState()?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){(0,tt.O3)()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else i=t,this.transitionStarts_[e]=i;const r=t-i+1e3/60;return r>=this.transition_?1:CI(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};function hv(n,e,t){const i=n;let r=!0,o=!1,s=!1;const a=[(0,vt.Vx)(i,Lt.Z.LOAD,function(){s=!0,o||e()})];return i.src&&ts.Tp?(o=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(s?e():t())})):a.push((0,vt.Vx)(i,Lt.Z.ERROR,t)),function(){r=!1,a.forEach(vt.bN)}}const TM=class D9 extends DM{constructor(e,t,i,r,o,s){super(e,t,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function T9(){const n=(0,Tn.E4)(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=hv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let dv;const Jc=[];function MM(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function fv(n,e){return Math.abs(n[4*e]-210)>2||Math.abs(n[4*e+3]-191.25)>2}function pv(n,e,t,i){const r=Wc(t,e,n);let o=ng(e,i,t);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const a=n.getMetersPerUnit();void 0!==a&&(o/=a);const l=n.getExtent();if(!l||(0,xe.b8)(l,r)){const c=ng(n,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}const gv=class F9 extends DM{constructor(e,t,i,r,o,s,a,l,c,h,f,p){super(o,0,{interpolate:!!p}),this.renderEdges_=void 0!==f&&f,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const E=r.getTileCoordExtent(this.wrappedTileCoord_),D=this.targetTileGrid_.getExtent();let H=this.sourceTileGrid_.getExtent();const $=D?(0,xe.Ed)(E,D):E;if(0===(0,xe.bg)($))return void(this.state=4);const te=e.getExtent();te&&(H=H?(0,xe.Ed)(H,te):te);const ae=r.getResolution(this.wrappedTileCoord_[0]),re=function k9(n,e,t,i){const r=(0,xe.qg)(t);let o=pv(n,e,r,i);return(!isFinite(o)||o<=0)&&(0,xe.H6)(t,function(s){return o=pv(n,e,s,i),isFinite(o)&&o>0}),o}(e,i,$,ae);if(!isFinite(re)||re<=0)return void(this.state=4);if(this.triangulation_=new class A9{constructor(e,t,i,r,o,s){this.sourceProj_=e,this.targetProj_=t;let a={};const l=Ph(this.targetProj_,this.sourceProj_);this.transformInv_=function(ae){const re=ae[0]+"/"+ae[1];return a[re]||(a[re]=l(ae)),a[re]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,xe.dz)(r)==(0,xe.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,xe.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,xe.dz)(this.targetProj_.getExtent()):null;const c=(0,xe.rL)(i),h=(0,xe.Xv)(i),f=(0,xe.w$)(i),p=(0,xe.hC)(i),E=this.transformInv_(c),D=this.transformInv_(h),H=this.transformInv_(f),$=this.transformInv_(p),te=10+(s?Math.max(0,Math.ceil(Math.log2((0,xe.bg)(i)/(s*s*256*256)))):0);if(this.addQuad_(c,h,f,p,E,D,H,$,te),this.wrapsXInSource_){let ae=1/0;this.triangles_.forEach(function(re,pe,_e){ae=Math.min(ae,re.source[0][0],re.source[1][0],re.source[2][0])}),this.triangles_.forEach(re=>{if(Math.max(re.source[0][0],re.source[1][0],re.source[2][0])-ae>this.sourceWorldWidth_/2){const pe=[[re.source[0][0],re.source[0][1]],[re.source[1][0],re.source[1][1]],[re.source[2][0],re.source[2][1]]];pe[0][0]-ae>this.sourceWorldWidth_/2&&(pe[0][0]-=this.sourceWorldWidth_),pe[1][0]-ae>this.sourceWorldWidth_/2&&(pe[1][0]-=this.sourceWorldWidth_),pe[2][0]-ae>this.sourceWorldWidth_/2&&(pe[2][0]-=this.sourceWorldWidth_);const _e=Math.min(pe[0][0],pe[1][0],pe[2][0]);Math.max(pe[0][0],pe[1][0],pe[2][0])-_e<this.sourceWorldWidth_/2&&(re.source=pe)}})}a={}}addTriangle_(e,t,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[e,t,i]})}addQuad_(e,t,i,r,o,s,a,l,c){const h=(0,xe.hI)([o,s,a,l]),f=this.sourceWorldWidth_?(0,xe.dz)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&f>.5&&f<1;let D=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const $=(0,xe.hI)([e,t,i,r]);D=(0,xe.dz)($)/this.targetWorldWidth_>.25||D}!E&&this.sourceProj_.isGlobal()&&f&&(D=f>.25||D)}if(!D&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!(0,xe.kK)(h,this.maxSourceExtent_))return;let H=0;if(!(D||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)D=!0;else if(H=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=H&&2!=H&&4!=H&&8!=H)return;if(c>0){if(!D){const te=this.transformInv_([(e[0]+i[0])/2,(e[1]+i[1])/2]);let ae;ae=E?((0,dt.$W)(o[0],p)+(0,dt.$W)(a[0],p))/2-(0,dt.$W)(te[0],p):(o[0]+a[0])/2-te[0];const re=(o[1]+a[1])/2-te[1];D=ae*ae+re*re>this.errorThresholdSquared_}if(D){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const $=[(t[0]+i[0])/2,(t[1]+i[1])/2],te=this.transformInv_($),ae=[(r[0]+e[0])/2,(r[1]+e[1])/2],re=this.transformInv_(ae);this.addQuad_(e,t,$,ae,o,s,te,re,c-1),this.addQuad_(ae,$,i,r,re,te,a,l,c-1)}else{const $=[(e[0]+t[0])/2,(e[1]+t[1])/2],te=this.transformInv_($),ae=[(i[0]+r[0])/2,(i[1]+r[1])/2],re=this.transformInv_(ae);this.addQuad_(e,$,ae,r,o,te,re,l,c-1),this.addQuad_($,t,i,ae,te,s,a,re,c-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&H)&&this.addTriangle_(e,i,r,o,a,l),0==(14&H)&&this.addTriangle_(e,i,t,o,a,s),H&&(0==(13&H)&&this.addTriangle_(t,r,e,s,l,o),0==(7&H)&&this.addTriangle_(t,r,i,s,l,a))}calculateSourceExtent(){const e=(0,xe.lJ)();return this.triangles_.forEach(function(t,i,r){const o=t.source;(0,xe.Wj)(e,o[0]),(0,xe.Wj)(e,o[1]),(0,xe.Wj)(e,o[2])}),e}getTriangles(){return this.triangles_}}(e,i,$,H,re*(void 0!==h?h:.5),ae),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=t.getZForResolution(re);let _e=this.triangulation_.calculateSourceExtent();if(H&&(e.canWrapX()?(_e[1]=(0,dt.uZ)(_e[1],H[1],H[3]),_e[3]=(0,dt.uZ)(_e[3],H[1],H[3])):_e=(0,xe.Ed)(_e,H)),(0,xe.bg)(_e)){const Ie=t.getTileRangeForExtentAndZ(_e,this.sourceZ_);for(let Ae=Ie.minX;Ae<=Ie.maxX;Ae++)for(let je=Ie.minY;je<=Ie.maxY;je++){const at=c(this.sourceZ_,Ae,je,a);at&&this.sourceTiles_.push(at)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&2==t.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function O9(n,e,t,i,r,o,s,a,l,c,h,f){const p=(0,Tn.E4)(Math.round(t*n),Math.round(t*e),Jc);if(f||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function E(pe){return Math.round(pe*t)/t}p.scale(t,t),p.globalCompositeOperation="lighter";const D=(0,xe.lJ)();l.forEach(function(pe,_e,Ie){(0,xe.l7)(D,pe.extent)});const H=(0,xe.dz)(D),$=(0,xe.Cr)(D),te=(0,Tn.E4)(Math.round(t*H/i),Math.round(t*$/i),Jc);f||(te.imageSmoothingEnabled=!1);const ae=t/i;l.forEach(function(pe,_e,Ie){const Ae=pe.extent[0]-D[0],je=-(pe.extent[3]-D[3]),at=(0,xe.dz)(pe.extent),ht=(0,xe.Cr)(pe.extent);pe.image.width>0&&pe.image.height>0&&te.drawImage(pe.image,c,c,pe.image.width-2*c,pe.image.height-2*c,Ae*ae,je*ae,at*ae,ht*ae)});const re=(0,xe.rL)(s);return a.getTriangles().forEach(function(pe,_e,Ie){const Ae=pe.source,je=pe.target;let at=Ae[0][0],ht=Ae[0][1],Gt=Ae[1][0],Ot=Ae[1][1],Ct=Ae[2][0],Fn=Ae[2][1];const Ht=E((je[0][0]-re[0])/o),Fe=E(-(je[0][1]-re[1])/o),Be=E((je[1][0]-re[0])/o),He=E(-(je[1][1]-re[1])/o),ft=E((je[2][0]-re[0])/o),zt=E(-(je[2][1]-re[1])/o),Rn=at,qe=ht;at=0,ht=0,Gt-=Rn,Ot-=qe,Ct-=Rn,Fn-=qe;const It=(0,dt.SV)([[Gt,Ot,0,0,Be-Ht],[Ct,Fn,0,0,ft-Ht],[0,0,Gt,Ot,He-Fe],[0,0,Ct,Fn,zt-Fe]]);if(It){if(p.save(),p.beginPath(),function P9(){if(void 0===dv){const n=(0,Tn.E4)(6,6,Jc);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",MM(n,4,5,4,0),MM(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;dv=fv(e,0)||fv(e,4)||fv(e,8),(0,Tn.jy)(n),Jc.push(n.canvas)}return dv}()||!f){p.moveTo(Be,He);const In=4,cs=Ht-Be,zn=Fe-He;for(let Yn=0;Yn<In;Yn++)p.lineTo(Be+E((Yn+1)*cs/In),He+E(Yn*zn/(In-1))),Yn!=In-1&&p.lineTo(Be+E((Yn+1)*cs/In),He+E((Yn+1)*zn/(In-1)));p.lineTo(ft,zt)}else p.moveTo(Be,He),p.lineTo(Ht,Fe),p.lineTo(ft,zt);p.clip(),p.transform(It[0],It[2],It[1],It[3],Ht,Fe),p.translate(D[0]-Rn,D[3]-qe),p.scale(i/t,-i/t),p.drawImage(te.canvas,0,0),p.restore()}}),(0,Tn.jy)(te),Jc.push(te.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(pe,_e,Ie){const Ae=pe.target,je=(Ae[0][0]-re[0])/o,at=-(Ae[0][1]-re[1])/o,ht=(Ae[1][0]-re[0])/o,Gt=-(Ae[1][1]-re[1])/o,Ot=(Ae[2][0]-re[0])/o,Ct=-(Ae[2][1]-re[1])/o;p.beginPath(),p.moveTo(ht,Gt),p.lineTo(je,at),p.lineTo(Ot,Ct),p.closePath(),p.stroke()}),p.restore()),p.canvas}(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(0==i||1==i){e++;const r=(0,vt.oL)(t,Lt.Z.CHANGE,function(o){const s=t.getState();(2==s||3==s||4==s)&&((0,vt.bN)(r),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,r){0==t.getState()&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(vt.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,Tn.jy)(this.canvas_.getContext("2d")),Jc.push(this.canvas_),this.canvas_=null),super.release()}};class AM{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function eu(n,e,t,i,r){return void 0!==r?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new AM(n,e,t,i)}const RM=AM,N9=class L9 extends SM{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,xe.lJ)(),this.tmpTileRange_=new RM(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),r=t.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!r}getTile(e,t,i,r){const o=r.pixelRatio,s=r.viewState.projection,a=this.getLayer();let c=a.getSource().getTile(e,t,i,o,s);return 3==c.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=Pi(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!(0,xe.b8)(o,r))return null;const s=t.pixelRatio,a=t.viewState.projection,l=t.viewState,c=i.getRenderSource(),h=c.getTileGridForProjection(l.projection),f=c.getTilePixelRatio(t.pixelRatio);for(let p=h.getZForResolution(l.resolution);p>=h.getMinZoom();--p){const E=h.getTileCoordForCoordAndZ(r,p),D=c.getTile(p,E[1],E[2],s,a);if(!(D instanceof TM||D instanceof gv)||D instanceof gv&&4===D.getState())return null;if(2!==D.getState())continue;const H=h.getOrigin(p),$=fr(h.getTileSize(p)),te=h.getResolution(p),ae=Math.floor(f*((r[0]-H[0])/te-E[1]*$[0])),re=Math.floor(f*((H[1]-r[1])/te-E[2]*$[1])),pe=Math.round(f*c.getGutterForProjection(l.projection));return this.getImageData(D.getImage(),ae+pe,re+pe)}return null}loadedTileCallback(e,t,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(e,t,i)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,s=r.resolution,a=r.center,l=r.rotation,c=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),E=f.getTileGridForProjection(o),D=E.getZForResolution(s,f.zDirection),H=E.getResolution(D);let $=e.extent;const te=e.viewState.resolution,ae=f.getTilePixelRatio(c),re=Math.round((0,xe.dz)($)/te*c),pe=Math.round((0,xe.Cr)($)/te*c),_e=i.extent&&ha(i.extent);_e&&($=(0,xe.Ed)($,ha(i.extent)));const Ie=H*re/2/ae,Ae=H*pe/2/ae,je=[a[0]-Ie,a[1]-Ae,a[0]+Ie,a[1]+Ae],at=E.getTileRangeForExtentAndZ($,D),ht={};ht[D]={};const Gt=this.createLoadedTileFinder(f,o,ht),Ot=this.tmpExtent,Ct=this.tmpTileRange_;this.newTiles_=!1;const Fn=l?(0,xe.dY)(r.center,te,l,e.size):void 0;for(let ai=at.minX;ai<=at.maxX;++ai)for(let It=at.minY;It<=at.maxY;++It){if(l&&!E.tileCoordIntersectsViewport([D,ai,It],Fn))continue;const In=this.getTile(D,ai,It,e);if(this.isDrawableTile(In)){const Yn=(0,tt.sq)(this);if(2==In.getState()){ht[D][In.tileCoord.toString()]=In;let li=In.inTransition(Yn);li&&1!==i.opacity&&(In.endTransition(Yn),li=!1),!this.newTiles_&&(li||!this.renderedTiles.includes(In))&&(this.newTiles_=!0)}if(1===In.getAlpha(Yn,e.time))continue}const cs=E.getTileCoordChildTileRange(In.tileCoord,Ct,Ot);let zn=!1;cs&&(zn=Gt(D+1,cs)),zn||E.forEachTileCoordParentTileRange(In.tileCoord,Gt,Ct,Ot)}const Ht=H/s*c/ae;Ps(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,l,-re/2,-pe/2);const Fe=Ub(this.pixelTransform);this.useContainer(t,Fe,this.getBackground(e));const Be=this.context,He=Be.canvas;rg(this.inversePixelTransform,this.pixelTransform),Ps(this.tempTransform,re/2,pe/2,Ht,Ht,0,-re/2,-pe/2),He.width!=re||He.height!=pe?(He.width=re,He.height=pe):this.containerReused||Be.clearRect(0,0,re,pe),_e&&this.clipUnrotated(Be,e,_e),f.getInterpolate()||(Be.imageSmoothingEnabled=!1),this.preRender(Be,e),this.renderedTiles.length=0;let zt,Rn,qe,ft=Object.keys(ht).map(Number);ft.sort(Yt.j2),1!==i.opacity||this.containerReused&&!f.getOpaque(e.viewState.projection)?(zt=[],Rn=[]):ft=ft.reverse();for(let ai=ft.length-1;ai>=0;--ai){const It=ft[ai],In=f.getTilePixelSize(It,c,o),zn=E.getResolution(It)/H,Yn=In[0]*zn*Ht,li=In[1]*zn*Ht,ko=E.getTileCoordForCoordAndZ((0,xe.rL)(je),It),Oa=E.getTileCoordExtent(ko),pu=Pi(this.tempTransform,[ae*(Oa[0]-je[0])/H,ae*(je[3]-Oa[3])/H]),gm=ae*f.getGutterForProjection(o),Fa=ht[It];for(const Cd in Fa){const La=Fa[Cd],mm=La.tileCoord,_m=ko[1]-mm[1],ym=Math.round(pu[0]-(_m-1)*Yn),gu=ko[2]-mm[2],Yw=Math.round(pu[1]-(gu-1)*li),Ir=Math.round(pu[0]-_m*Yn),so=Math.round(pu[1]-gu*li),Oo=ym-Ir,Us=Yw-so,mu=D===It,Al=mu&&1!==La.getAlpha((0,tt.sq)(this),e.time);let Na=!1;if(!Al)if(zt){qe=[Ir,so,Ir+Oo,so,Ir+Oo,so+Us,Ir,so+Us];for(let _u=0,bm=zt.length;_u<bm;++_u)if(D!==It&&It<Rn[_u]){const gr=zt[_u];(0,xe.kK)([Ir,so,Ir+Oo,so+Us],[gr[0],gr[3],gr[4],gr[7]])&&(Na||(Be.save(),Na=!0),Be.beginPath(),Be.moveTo(qe[0],qe[1]),Be.lineTo(qe[2],qe[3]),Be.lineTo(qe[4],qe[5]),Be.lineTo(qe[6],qe[7]),Be.moveTo(gr[6],gr[7]),Be.lineTo(gr[4],gr[5]),Be.lineTo(gr[2],gr[3]),Be.lineTo(gr[0],gr[1]),Be.clip())}zt.push(qe),Rn.push(It)}else Be.clearRect(Ir,so,Oo,Us);this.drawTileImage(La,e,Ir,so,Oo,Us,gm,mu),zt&&!Al?(Na&&Be.restore(),this.renderedTiles.unshift(La)):this.renderedTiles.push(La),this.updateUsedTiles(e.usedTiles,f,La)}}return this.renderedRevision=p,this.renderedResolution=H,this.extentChanged=!this.renderedExtent_||!(0,xe.fS)(this.renderedExtent_,je),this.renderedExtent_=je,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,f,E,c,o,$,D,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(Be,e),i.extent&&Be.restore(),Be.imageSmoothingEnabled=!0,Fe!==He.style.transform&&(He.style.transform=Fe),this.container}drawTileImage(e,t,i,r,o,s,a,l){const c=this.getTileImage(e);if(!c)return;const h=(0,tt.sq)(this),f=t.layerStatesArray[t.layerIndex],p=f.opacity*(l?e.getAlpha(h,t.time):1),E=p!==this.context.globalAlpha;E&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),E&&this.context.restore(),p!==f.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(r,o,s){const a=(0,tt.sq)(r);a in s.usedTiles&&r.expireCache(s.viewState.projection,s.usedTiles[a])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const r=(0,tt.sq)(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}manageTilePyramid(e,t,i,r,o,s,a,l,c){const h=(0,tt.sq)(t);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,E=i.getMinZoom(),D=e.viewState.rotation,H=D?(0,xe.dY)(e.viewState.center,e.viewState.resolution,D,e.size):void 0;let te,ae,re,pe,_e,Ie,$=0;for(Ie=E;Ie<=a;++Ie)for(ae=i.getTileRangeForExtentAndZ(s,Ie,ae),re=i.getResolution(Ie),pe=ae.minX;pe<=ae.maxX;++pe)for(_e=ae.minY;_e<=ae.maxY;++_e)D&&!i.tileCoordIntersectsViewport([Ie,pe,_e],H)||(a-Ie<=l?(++$,te=t.getTile(Ie,pe,_e,r,o),0==te.getState()&&(f[te.getKey()]=!0,p.isKeyQueued(te.getKey())||p.enqueue([te,h,i.getTileCoordCenter(te.tileCoord),re])),void 0!==c&&c(te)):t.useTile(Ie,pe,_e,o));t.updateCacheSize($,o)}},PM=class V9 extends v9{constructor(e){super(e)}createRenderer(){return new N9(this)}};function mv(n,e,t,i){return void 0!==i?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function Wh(n,e,t){return n+"/"+e+"/"+t}function kM(n){return Wh(n[0],n[1],n[2])}function OM(n){return(n[1]<<n[0])+n[2]}const FM=class G9 extends class B9{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return(0,sn.h)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return(0,sn.h)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let i,t=0;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let i,t=0;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){(0,sn.h)(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const i=function j9(n){return n.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(kM(r.tileCoord)),r.release())})}};function LM(n){return n?Array.isArray(n)?function(e){return n}:"function"==typeof n?n:function(e){return[n]}:null}const NM=class H9 extends As.Z{constructor(e){super(),this.projection=vn(e.projection),this.attributions_=LM(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=LM(e),this.changed()}setState(e){this.state_=e,this.changed()}},tu=[0,0,0],VM=class W9{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,(0,sn.h)((0,Yt.pT)(this.resolutions_,function(r,o){return o-r},!0),17),!e.origins)for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,(0,sn.h)(this.origins_.length==this.resolutions_.length,20));const i=e.extent;void 0!==i&&!this.origin_&&!this.origins_&&(this.origin_=(0,xe.rL)(i)),(0,sn.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,(0,sn.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:256,(0,sn.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(r,o){const s=new RM(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,o,a])}forEachTileCoordParentTileRange(e,t,i,r){let o,s,a,l=null,c=e[0]-1;for(2===this.zoomFactor_?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=eu(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const o=2*e[1],s=2*e[2];return eu(o,o+1,s,s+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],o=e[1],s=e[2];if(t===r)return eu(o,s,o,s,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(o*l),h=Math.floor(s*l);return t<r?eu(c,c,h,h,i):eu(c,Math.floor(l*(o+1))-1,h,Math.floor(l*(s+1))-1,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeExtent(e,t,i){const r=this.getOrigin(e),o=this.getResolution(e),s=fr(this.getTileSize(e),this.tmpSize_);return(0,xe.T9)(r[0]+t.minX*s[0]*o,r[1]+t.minY*s[1]*o,r[0]+(t.maxX+1)*s[0]*o,r[1]+(t.maxY+1)*s[1]*o,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,tu);const r=tu[1],o=tu[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,tu),eu(r,tu[1],o,tu[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=fr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=fr(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*r,a=i[1]-(e[2]+1)*o[1]*r;return(0,xe.T9)(s,a,s+o[0]*r,a+o[1]*r,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){const s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),c=fr(this.getTileSize(s),this.tmpSize_);let h=a*(e-l[0])/i/c[0],f=a*(l[1]-t)/i/c[1];return r?(h=(0,dt.mD)(h,5)-1,f=(0,dt.mD)(f,5)-1):(h=(0,dt.GW)(h,5),f=(0,dt.GW)(f,5)),mv(s,h,f,o)}getTileCoordForXYAndZ_(e,t,i,r,o){const s=this.getOrigin(i),a=this.getResolution(i),l=fr(this.getTileSize(i),this.tmpSize_);let c=(e-s[0])/a/l[0],h=(s[1]-t)/a/l[1];return r?(c=(0,dt.mD)(c,5)-1,h=(0,dt.mD)(h,5)-1):(c=(0,dt.GW)(c,5),h=(0,dt.GW)(h,5)),mv(i,c,h,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=(0,Yt.h7)(this.resolutions_,e,t||0);return(0,dt.uZ)(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return VI(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}};function BM(n){let e=n.getDefaultTileGrid();return e||(e=function Y9(n,e,t,i){return function K9(n,e,t,i){i=void 0!==i?i:"top-left";const r=jM(n,e,t);return new VM({extent:n,origin:(0,xe.g0)(n,i),resolutions:r,tileSize:t})}(vg(n),e,t,i)}(n),n.setDefaultTileGrid(e)),e}function zM(n){const e=n||{},t=e.extent||vn("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:jM(t,e.maxZoom,e.tileSize,e.maxResolution)};return new VM(i)}function jM(n,e,t,i){e=void 0!==e?e:42,t=fr(void 0!==t?t:256);const r=(0,xe.Cr)(n),o=(0,xe.dz)(n);i=i>0?i:Math.max(o/t[0],r/t[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function vg(n){let e=(n=vn(n)).getExtent();if(!e){const t=180*ca.degrees/n.getMetersPerUnit();e=(0,xe.T9)(-t,-t,t,t)}return e}class q9 extends ks.ZP{constructor(e,t){super(e),this.tile=t}}const X9=class $9 extends NM{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&fr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new FM(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,r){const o=this.getTileCacheForProjection(e);if(!o)return!1;let a,l,c,s=!0;for(let h=i.minX;h<=i.maxX;++h)for(let f=i.minY;f<=i.maxY;++f)l=Wh(t,h,f),c=!1,o.containsKey(l)&&(a=o.get(l),c=2===a.getState(),c&&(c=!1!==r(a))),c||(s=!1);return s}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o){return(0,tt.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:BM(e)}getTileCacheForProjection(e){const t=this.getProjection();return(0,sn.h)(null===t||pl(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=fr(r.getTileSize(e),this.tmpSize);return 1==o?s:vM(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function Z9(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),o=vg(t);if(!(0,xe.b8)(o,r)){const s=(0,xe.dz)(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,n.getTileCoordForCoordAndZ(r,i)}return e}(i,e,t)),function U9(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return!o||o.containsXY(i,r)}(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,r){}};function Q9(n,e){const t=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return n.replace(t,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(o,function(){const h=e.getFullTileRange(s[0]);return(0,sn.h)(h,55),(h.getHeight()-s[2]-1).toString()})}}function UM(n){return 1===n.length?n[0]:function(e,t,i){if(!e)return;const r=OM(e),o=(0,dt.$W)(r,n.length);return n[o](e,t,i)}}class yv extends X9{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===yv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=(0,tt.sq)(t),r=t.getState();let o;1==r?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=o&&this.dispatchEvent(new q9(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=function ej(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function J9(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Q9(n[r],e);return UM(i)}(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const r=Wh(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const tj=yv;function ij(n,e){n.getImage().src=e}const bv=class nj extends tj{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ij,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:TM,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const r in this.tileCacheForProjection){const o=this.tileCacheForProjection[r];o.expireCache(o==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!pl(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!pl(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||pl(t,e)))return this.tileGrid;const i=(0,tt.sq)(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=BM(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||pl(t,e))return this.tileCache;const i=(0,tt.sq)(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new FM(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,o,s){const a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,h=new this.tileClass(a,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(Lt.Z.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,t,i,r,o){const s=this.getProjection();if(!s||!o||pl(s,o))return this.getTileInternal(e,t,i,r,s||o);const a=this.getTileCacheForProjection(o),l=[e,t,i];let c;const h=kM(l);a.containsKey(h)&&(c=a.get(h));const f=this.getKey();if(c&&c.key==f)return c;const p=this.getTileGridForProjection(s),E=this.getTileGridForProjection(o),D=this.getTileCoordForTileUrlFunction(l,o),H=new gv(s,p,o,E,l,D,this.getTilePixelRatio(r),this.getGutter(),($,te,ae,re)=>this.getTileInternal($,te,ae,re,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return H.key=f,c?(H.interimTile=c,H.refreshInterimChain(),a.replace(h,H)):a.set(h,H),H}getTileInternal(e,t,i,r,o){let s=null;const a=Wh(e,t,i),l=this.getKey();if(this.tileCache.containsKey(a)){if(s=this.tileCache.get(a),s.key!=l){const c=s;s=this.createTile_(e,t,i,r,o,l),s.interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(e,t,i,r,o,l),this.tileCache.set(a,s);return s}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=vn(e);if(i){const r=(0,tt.sq)(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},oj=class rj extends bv{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:zM({extent:vg(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},lj=class aj extends oj{constructor(e){let t;t=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX,zDirection:e.zDirection})}},wg="1.3.0";function GM(n,e){const t=[];Object.keys(e).forEach(function(r){null!=e[r]&&t.push(r+"="+encodeURIComponent(e[r]))});const i=t.join("&");return n=n.replace(/[?&]$/,""),(n+=n.includes("?")?"&":"?")+i}const hj=class uj extends bv{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!(!("TRANSPARENT"in t)||t.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,xe.lJ)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,i,r){const o=vn(i),s=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(o));const l=a.getZForResolution(t,this.zDirection),c=a.getTileCoordForCoordAndZ(e,l);if(a.getResolutions().length<=c[0])return;let h=a.getResolution(c[0]),f=a.getTileCoordExtent(c,this.tmpExtent_),p=fr(a.getTileSize(c[0]),this.tmpSize);const E=this.gutter_;0!==E&&(p=yM(p,E,this.tmpSize),f=(0,xe.f3)(f,h*E,f)),s&&s!==o&&(h=pv(s,o,e,h),f=Fb(f,o,s),e=Wc(e,o,s));const D={SERVICE:"WMS",VERSION:wg,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(D,this.params_,r);const H=Math.floor((e[0]-f[0])/h),$=Math.floor((f[3]-e[1])/h);return D[this.v13_?"I":"X"]=H,D[this.v13_?"J":"Y"]=$,this.getRequestUrl_(c,p,f,1,s||o,D)}getLegendUrl(e,t){if(void 0===this.urls[0])return;const i={SERVICE:"WMS",VERSION:wg,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){const r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;i.LAYER=r}if(void 0!==e){const r=this.getProjection()?this.getProjection().getMetersPerUnit():1;i.SCALE=e*r/28e-5}return Object.assign(i,t),GM(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,i,r,o,s){const a=this.urls;if(!a)return;if(s.WIDTH=t[0],s.HEIGHT=t[1],s[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=r)switch(this.serverType_){case"geoserver":const f=90*r+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+f:s.FORMAT_OPTIONS="dpi:"+f;break;case"mapserver":s.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":s.DPI=90*r;break;default:(0,sn.h)(!1,52)}const l=o.getAxisOrientation(),c=i;if(this.v13_&&"ne"==l.substr(0,2)){let f;f=i[0],c[0]=i[1],c[1]=f,f=i[2],c[2]=i[3],c[3]=f}let h;return s.BBOX=c.join(","),h=1==a.length?a[0]:a[(0,dt.$W)(OM(e),a.length)],GM(h,s)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const t=[];for(const i in this.params_)t[e++]=i+"-"+this.params_[i];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=function cj(n,e){const t=(""+n).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(t.length,i.length);r++){const o=parseInt(t[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}(this.params_.VERSION||wg,"1.3")>=0}tileUrlFunction(e,t,i){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),r.getResolutions().length<=e[0])return;1!=t&&(!this.hidpi_||void 0===this.serverType_)&&(t=1);const o=r.getResolution(e[0]);let s=r.getTileCoordExtent(e,this.tmpExtent_),a=fr(r.getTileSize(e[0]),this.tmpSize);const l=this.gutter_;0!==l&&(a=yM(a,l,this.tmpSize),s=(0,xe.f3)(s,o*l,s)),1!=t&&(a=vM(a,t,this.tmpSize));const c={SERVICE:"WMS",VERSION:wg,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(c,this.params_),this.getRequestUrl_(e,a,s,t,i,c)}},vv=class pj extends bv{constructor(e){const t=void 0!==e.hidpi&&e.hidpi;super({cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,opaque:!0,projection:vn("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:t?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.hidpi_=t,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,fetch("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_).then(r=>r.json()).then(r=>this.handleImageryMetadataResponse(r))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length)return void this.setState("error");const t=e.resourceSets[0].resources[0],i=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,o=vg(this.getProjection()),s=this.hidpi_?2:1,l=zM({extent:o,minZoom:t.zoomMin,maxZoom:i,tileSize:t.imageWidth==t.imageHeight?t.imageWidth/s:[t.imageWidth/s,t.imageHeight/s]});this.tileGrid=l;const c=this.culture_,h=this.hidpi_;if(this.tileUrlFunction=UM(t.imageUrlSubdomains.map(function(f){const p=[0,0,0],E=t.imageUrl.replace("{subdomain}",f).replace("{culture}",c);return function(D,H,$){if(!D)return;mv(D[0],D[1],D[2],p);let te=E;return h&&(te+="&dpi=d1&device=mobile"),te.replace("{quadkey}",function dj(n){const e=n[0],t=new Array(e);let r,o,i=1<<e-1;for(r=0;r<e;++r)o=48,n[1]&i&&(o+=1),n[2]&i&&(o+=2),t[r]=String.fromCharCode(o),i>>=1;return t.join("")}(p))}})),t.imageryProviders){const f=ua(vn("EPSG:4326"),this.getProjection());this.setAttributions(p=>{const E=[],D=p.viewState,H=this.getTileGrid(),$=H.getZForResolution(D.resolution,this.zDirection),ae=H.getTileCoordForCoordAndZ(D.center,$)[0];return t.imageryProviders.map(function(re){let pe=!1;const _e=re.coverageAreas;for(let Ie=0,Ae=_e.length;Ie<Ae;++Ie){const je=_e[Ie];if(ae>=je.zoomMin&&ae<=je.zoomMax){const at=je.bbox,Gt=(0,xe.Ne)([at[1],at[0],at[3],at[2]],f);if((0,xe.kK)(Gt,p.extent)){pe=!0;break}}}pe&&E.push(re.attribution)}),E.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),E})}this.setState("ready")}},wv="units",gj=[1,2,5],Zh=25.4/.28,_j=class mj extends ya.default{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target});const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+pa,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(wv,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(wv)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(wv,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,i=e.projection,r=this.getUnits();let s=ng(i,e.resolution,t,"degrees"==r?"degrees":"m");const a=this.minWidth_*(this.dpi_||Zh)/Zh,l=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Zh)/Zh:void 0;let c=a*s,h="";if("degrees"==r){const re=ca.degrees;c*=re,c<re/60?(h="\u2033",s*=3600):c<re?(h="\u2032",s*=60):h="\xb0"}else"imperial"==r?c<.9144?(h="in",s/=.0254):c<1609.344?(h="ft",s/=.3048):(h="mi",s/=1609.344):"nautical"==r?(s/=1852,h="NM"):"metric"==r?c<.001?(h="\u03bcm",s*=1e6):c<1?(h="mm",s*=1e3):c<1e3?h="m":(h="km",s/=1e3):"us"==r?c<.9144?(h="in",s*=39.37):c<1609.344?(h="ft",s/=.30480061):(h="mi",s/=1609.3472):(0,sn.h)(!1,33);let p,E,D,H,$,te,f=3*Math.floor(Math.log(a*s)/Math.log(10));for(;;){D=Math.floor(f/3);const re=Math.pow(10,D);if(p=gj[(f%3+3)%3]*re,E=Math.round(p/s),isNaN(E))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==l&&E>=l){p=H,E=$,D=te;break}if(E>=a)break;H=p,$=E,te=D,++f}const ae=this.scaleBar_?this.createScaleBar(E,p,h):p.toFixed(D<0?-D:0)+" "+h;this.renderedHTML_!=ae&&(this.innerElement_.innerHTML=ae,this.renderedHTML_=ae),this.renderedWidth_!=E&&(this.innerElement_.style.width=E+"px",this.renderedWidth_=E),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,a=e/s,l=[this.createMarker("absolute")];for(let h=0;h<s;++h)l.push(`<div><div class="ol-scale-singlebar ${h%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even"}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(h%2==0||2===s?this.createStepText(h,e,!1,t,i):"")+"</div>");return l.push(this.createStepText(s,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,i,r,o){const a=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+o);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${i?t+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){return ng(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||Zh)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}},HM=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function ZM(n){const e=n.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&n.fullscreenEnabled)}function KM(n){return!(!n.webkitIsFullScreen&&!n.fullscreenElement)}function YM(n){n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}const wj=class yj extends ya.default{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=void 0!==e.label?e.label:"\u2922";this.labelNode_="string"==typeof t?document.createTextNode(t):t;const i=void 0!==e.labelActive?e.labelActive:"\xd7";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Lt.Z.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${pa} ${Vh}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(ZM(t))if(KM(t))!function vj(n){n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}(t);else{let i;i=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function bj(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():YM(n)}(i):YM(i)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=KM(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,Tn.$H)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,Tn.$H)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener("target",this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener("target",this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let i=0,r=e.length;i<r;++i)(0,vt.bN)(e[i]);e.length=0;const t=this.getMap();if(t){const i=t.getOwnerDocument();ZM(i)?this.element.classList.remove(JI):this.element.classList.add(JI);for(let r=0,o=HM.length;r<o;++r)e.push((0,vt.oL)(i,HM[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}},xj=class Ej extends ya.default{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=0,this.heightLimit_=0,this.widthLimit_=0,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==e.duration?e.duration:200;const t=void 0!==e.className?e.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=t+"-thumb "+pa;const r=this.element;r.className=t+" "+pa+" "+Vh,r.appendChild(i),r.addEventListener("pointerdown",this.handleDraggerStart_.bind(this),!1),r.addEventListener("pointermove",this.handleDraggerDrag_.bind(this),!1),r.addEventListener("pointerup",this.handleDraggerEnd_.bind(this),!1),r.addEventListener(Lt.Z.CLICK,this.handleContainerClick_.bind(this),!1),i.addEventListener(Lt.Z.CLICK,ks.UW,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){const e=this.element;let t=e.offsetWidth,i=e.offsetHeight;if(0===t&&0===i)return this.sliderInitialized_=!1;const r=getComputedStyle(e);t-=parseFloat(r.paddingRight)+parseFloat(r.paddingLeft),i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom);const o=e.firstElementChild,s=getComputedStyle(o),a=o.offsetWidth+parseFloat(s.marginRight)+parseFloat(s.marginLeft),l=o.offsetHeight+parseFloat(s.marginTop)+parseFloat(s.marginBottom);return this.thumbSize_=[a,l],t>i?(this.direction_=1,this.widthLimit_=t-a):(this.direction_=0,this.heightLimit_=i-l),this.sliderInitialized_=!0}handleContainerClick_(e){const t=this.getMap().getView(),i=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i),o=t.getConstrainedZoom(t.getZoomForResolution(r));t.animateInternal({zoom:o,duration:this.duration_,easing:gl})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){const t=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(t.style.left),this.startY_=e.clientY-parseFloat(t.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){const i=this.handleDraggerDrag_,r=this.handleDraggerEnd_,o=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,vt.oL)(o,"pointermove",i,this),(0,vt.oL)(o,"pointerup",r,this))}}}handleDraggerDrag_(e){if(this.dragging_){const r=this.getRelativePosition_(e.clientX-this.startX_,e.clientY-this.startY_);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(vt.bN),this.dragListenerKeys_.length=0)}setThumbPosition_(e){const t=this.getPositionForResolution_(e),i=this.element.firstElementChild;1==this.direction_?i.style.left=this.widthLimit_*t+"px":i.style.top=this.heightLimit_*t+"px"}getRelativePosition_(e,t){let i;return i=1===this.direction_?e/this.widthLimit_:t/this.heightLimit_,(0,dt.uZ)(i,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){const t=this.getMap().getView().getValueForResolutionFunction();return(0,dt.uZ)(1-t(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;const t=e.frameState.viewState.resolution;this.currentResolution_=t,this.setThumbPosition_(t)}},Ev="projection",$M="coordinateFormat",Sj=class Cj extends ya.default{constructor(e){e=e||{};const t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.addChangeListener(Ev,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get($M)}getProjection(){return this.get(Ev)}handleMouseMove(e){const t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const t=e.getViewport();this.listenerKeys.push((0,vt.oL)(t,"pointermove",this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,vt.oL)(t,"pointerout",this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set($M,e)}setProjection(e){this.set(Ev,vn(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const o=this.getProjection();this.transform_=o?ua(this.mapProjection_,o):Pb}const r=this.getMap().getCoordinateFromPixelInternal(e);if(r){const o=Rs();o&&(this.transform_=ua(this.mapProjection_,o)),this.transform_(r,r),this.wrapX_&&Tb(r,o||this.getProjection()||this.mapProjection_);const s=this.getCoordinateFormat();t=s?s(r):r.toString()}}(!this.renderedHTML_||t!==this.renderedHTML_)&&(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}};function Yh(n){return null!=n&&"false"!=`${n}`}function qM(n,e=0){return function Dj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Tr(n){return n instanceof di?n.nativeElement:n}const{isArray:Mj}=Array;function XM(n){return jt(e=>function Aj(n,e){return Mj(e)?n(...e):n(e)}(n,e))}const Rj=["addListener","removeListener"],Pj=["addEventListener","removeEventListener"],kj=["on","off"];function xv(n,e,t,i){if(Q(t)&&(i=t,t=void 0),i)return xv(n,e,t).pipe(XM(i));const[r,o]=function Lj(n){return Q(n.addEventListener)&&Q(n.removeEventListener)}(n)?Pj.map(s=>a=>n[s](e,a,t)):function Oj(n){return Q(n.addListener)&&Q(n.removeListener)}(n)?Rj.map(QM(n,e)):function Fj(n){return Q(n.on)&&Q(n.off)}(n)?kj.map(QM(n,e)):[];if(!r&&Ol(n))return vu(s=>xv(s,e,t))(mr(n));if(!r)throw new TypeError("Invalid event target");return new it(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function QM(n,e){return t=>i=>n[t](e,i)}class Nj extends R{constructor(e,t){super()}schedule(e,t=0){return this}}const Eg={setInterval(n,e,...t){const{delegate:i}=Eg;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Eg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Cv extends Nj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Eg.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Eg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,T(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const $h={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=$h;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new R(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=$h;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$h;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Sv={now:()=>(Sv.delegate||Date).now(),delegate:void 0};class qh{constructor(e,t=qh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}qh.now=Sv.now;class Dv extends qh{constructor(e,t=qh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const JM=new class Bj extends Dv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Vj extends Cv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$h.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&($h.cancelAnimationFrame(t),e._scheduled=void 0)}});let Tv,zj=1;const xg={};function eA(n){return n in xg&&(delete xg[n],!0)}const jj={setImmediate(n){const e=zj++;return xg[e]=!0,Tv||(Tv=Promise.resolve()),Tv.then(()=>eA(e)&&n()),e},clearImmediate(n){eA(n)}},{setImmediate:Uj,clearImmediate:Gj}=jj,Cg={setImmediate(...n){const{delegate:e}=Cg;return(e?.setImmediate||Uj)(...n)},clearImmediate(n){const{delegate:e}=Cg;return(e?.clearImmediate||Gj)(n)},delegate:void 0},Iv=(new class Wj extends Dv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Hj extends Cv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Cg.clearImmediate(t),e._scheduled=void 0)}}),new Dv(Cv)),Kj=Iv;function tA(n=0,e,t=Kj){let i=-1;return null!=e&&(Nd(e)?t=e:i=e),new it(r=>{let o=function $j(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function nA(n,e=Iv){return function Yj(n){return gt((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Dt(t,c=>{i=!0,r=c,o||mr(n(c)).subscribe(o=Dt(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>tA(n,e))}let Mv;try{Mv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mv=!1}let Xh,Av,iA=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function K8(n){return n===YD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Tt(_y))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qh(n){return function Xj(){if(null==Xh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xh=!0}))}finally{Xh=Xh||!1}return Xh}()?n:!!n.capture}function oA(n){if(function Qj(){if(null==Av){const n=typeof document<"u"?document.head:null;Av=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Av}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Dg(n){return n.composedPath?n.composedPath()[0]:n.target}let eU=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new it(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(nA(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):function Ij(...n){return Nl(n,Ll(n))}()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(function qj(n,e){return gt((t,i)=>{let r=0;t.subscribe(Dt(i,o=>n.call(e,o,r++)&&i.next(o)))})}(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Tr(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(Tt(An),Tt(iA),Tt(ji,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nU=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Pe,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(nA(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Tt(iA),Tt(An),Tt(ji,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({}),n})();function Tg(n){return gt((e,t)=>{mr(n).subscribe(Dt(t,()=>t.complete(),x)),!t.closed&&e.subscribe(t)})}function cA(...n){return function vU(){return Ld(1)}()(Nl(n,Ll(n)))}function Rv(...n){const e=Ll(n);return gt((t,i)=>{(e?cA(n,t,e):cA(n,t)).subscribe(i)})}function uA(n){return n<=0?()=>wu:gt((e,t)=>{let i=0;e.subscribe(Dt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function hA(n,e){return gt((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(Dt(i,l=>{r?.unsubscribe();let c=0;const h=o++;mr(n(l,h)).subscribe(r=Dt(i,f=>i.next(e?e(l,f,h,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}const EU=new bt("cdk-dir-doc",{providedIn:"root",factory:function xU(){return G1(ji)}}),CU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dA=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Pt,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function SU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?CU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Tt(EU,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pv(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function iu(n,e){const t=e?"":"none";Pv(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function fA(n,e,t){Pv(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Ig(n,e){return e&&"none"!=e?n+" "+e:n}function pA(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function kv(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function Ov(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Fv(n,e,t){const{top:i,bottom:r,left:o,right:s}=n;return t>=i&&t<=r&&e>=o&&e<=s}function Jh(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function gA(n,e,t,i){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=n,h=l*e,f=c*e;return i>r-f&&i<s+f&&t>a-h&&t<o+h}class mA{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ov(t)})})}handleScroll(e){const t=Dg(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let o,s;if(t===this._document){const c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=t.scrollTop,s=t.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((c,h)=>{c.clientRect&&t!==h&&t.contains(h)&&Jh(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function _A(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?vA(n,e):("input"===i||"select"===i||"textarea"===i)&&bA(n,e),yA("canvas",n,e,vA),yA("input, textarea, select",n,e,bA),e}function yA(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let TU=0;function bA(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${TU++}`)}function vA(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const wA=Qh({passive:!0}),Mg=Qh({passive:!1}),Lv=new Set(["position"]);class MU{constructor(e,t,i,r,o,s){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Pe,this._pointerMoveSubscription=R.EMPTY,this._pointerUpSubscription=R.EMPTY,this._scrollSubscription=R.EMPTY,this._resizeSubscription=R.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Pe,this.started=new Pe,this.released=new Pe,this.ended=new Pe,this.entered=new Pe,this.exited=new Pe,this.dropped=new Pe,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const E=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),D=this._dropContainer;if(!E)return void this._endDragSequence(a);(!D||!D.isDragging()&&!D.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const h=this._activeTransform;h.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,h.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new mA(i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Yh(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>iu(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Tr(i)),this._handles.forEach(i=>iu(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Tr(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Mg),t.addEventListener("touchstart",this._pointerDown,wA),t.addEventListener("dragstart",this._nativeDragStart,Mg)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Tr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),iu(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),iu(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ed(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),fA(i,!1,Lv),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=ed(t),o=!r&&0!==t.button,s=this._rootElement,a=Dg(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function _U(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function mU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||l||c)return;if(this._handles.length){const p=s.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=Ov(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){fA(this._rootElement,!0,Lv),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const o=e.matchSize?this._rootElement.getBoundingClientRect():null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=xA(s,this._document),this._previewRef=s,e.matchSize?CA(r,o):r.style.transform=Ag(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;r=_A(o),CA(r,o.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return Pv(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Lv),iu(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function DU(n){const e=getComputedStyle(n),t=kv(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=t.indexOf(i),o=kv(e,"transition-duration"),s=kv(e,"transition-delay");return pA(o[r])+pA(s[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||Dg(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=xA(this._placeholderRef,this._document)):i=_A(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():i,s=ed(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition();return{x:o.left-i.left+(s.pageX-o.left-a.left),y:o.top-i.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=ed(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:s}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+s,f=a.bottom-(c-s);i=EA(i,a.left+o,a.right-(l-o)),r=EA(r,h,f)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,iu(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Mg),e.removeEventListener("touchstart",this._pointerDown,wA),e.removeEventListener("dragstart",this._nativeDragStart,Mg)}_applyRootElementTransform(e,t){const i=Ag(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Ig(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Ag(e,t);this._preview.style.transform=Ig(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:ed(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=Dg(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Jh(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=oA(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Tr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Ag(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function EA(n,e,t){return Math.max(e,Math.min(t,n))}function ed(n){return"t"===n.type[0]}function xA(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function CA(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Ag(e.left,e.top)}function SA(n,e,t){const i=td(e,n.length-1),r=td(t,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function td(n,e){return Math.max(0,Math.min(e,n))}class AU{constructor(e,t,i,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Pe,this.entered=new Pe,this.exited=new Pe,this.dropped=new Pe,this.sorted=new Pe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=R.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Pe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function bU(n=0,e=Iv){return n<0&&(n=0),tA(n,n,e)}(0,JM).pipe(Tg(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=Tr(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new mA(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){let o;this._draggingStarted(),null==r?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,i))):o=r;const s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement();let c=s[o];if(c===e&&(c=s[o+1]),!c&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const h=c.getRootElement();h.parentElement.insertBefore(l,h),s.splice(o,0,e)}else Tr(this.element).appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,o,s,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Tr(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!gA(this._clientRect,.05,t,i))return;const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===s&&o.length>0)return;const a="horizontal"===this._orientation,l=o.findIndex($=>$.drag===e),c=o[s],f=c.clientRect,p=l>s?1:-1,E=this._getItemOffsetPx(o[l].clientRect,f,p),D=this._getSiblingOffsetPx(l,o,p),H=o.slice();SA(o,l,s),this.sorted.next({previousIndex:l,currentIndex:s,container:this,item:e}),o.forEach(($,te)=>{if(H[te]===$)return;const ae=$.drag===e,re=ae?E:D,pe=ae?e.getPlaceholderElement():$.drag.getRootElement();$.offset+=re,a?(pe.style.transform=Ig(`translate3d(${Math.round($.offset)}px, 0, 0)`,$.initialTransform),Jh($.clientRect,0,re)):(pe.style.transform=Ig(`translate3d(0, ${Math.round($.offset)}px, 0)`,$.initialTransform),Jh($.clientRect,re,0))}),this._previousSwap.overlaps=Fv(f,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||gA(s.clientRect,.05,e,t)&&([r,o]=function RU(n,e,t,i){const r=IA(e,i),o=MA(e,t);let s=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(s=1):n.scrollHeight-l>n.clientHeight&&(s=2)}if(o){const l=n.scrollLeft;1===o?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,e,t),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=IA(l,t),o=MA(l,e),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Tr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Tr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Ov(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=Tr(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const i=t.getRootElement();if(i){const r=this._itemPositions.find(o=>o.drag===t)?.initialTransform;i.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this._orientation,o=t[e].clientRect,s=t[e+-1*i];let a=o[r?"width":"height"]*i;if(s){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_getItemOffsetPx(e,t,i){const r="horizontal"===this._orientation;let o=r?t.left-e.left:t.top-e.top;return-1===i&&(o+=r?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,r){const o="horizontal"===this._orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(r){const c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Fv(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Fv(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const o=Tr(this.element);return r===o||o.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:i})=>{Jh(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=oA(Tr(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function IA(n,e){const{top:t,bottom:i,height:r}=n,o=.05*r;return e>=t-o&&e<=t+o?1:e>=i-o&&e<=i+o?2:0}function MA(n,e){const{left:t,right:i,width:r}=n,o=.05*r;return e>=t-o&&e<=t+o?1:e>=i-o&&e<=i+o?2:0}const Rg=Qh({passive:!1,capture:!0});let PU=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Pe,this.pointerUp=new Pe,this.scroll=new Pe,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Rg)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Rg)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Rg}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Rg}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new it(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&r.next(a)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),hs(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(Tt(An),Tt(ji))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Nv=(()=>{class n{constructor(t,i,r,o){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(t,i=kU){return new MU(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new AU(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(Tt(ji),Tt(An),Tt(nU),Tt(PU))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AA=new bt("CDK_DRAG_PARENT"),RA=new bt("CdkDropListGroup"),PA=new bt("CDK_DRAG_CONFIG");let OU=0;const kA=new bt("CdkDropList");let FU=(()=>{class n{constructor(t,i,r,o,s,a,l){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new Pe,this.connectedTo=[],this.id="cdk-drop-list-"+OU++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Pt,this.entered=new Pt,this.exited=new Pt,this.sorted=new Pt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,h)=>this.enterPredicate(c.data,h.data),this._dropListRef.sortPredicate=(c,h,f)=>this.sortPredicate(c,h.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Yh(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Rv(this._dir.value),Tg(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function Tj(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Yh(this.sortingDisabled),t.autoScrollDisabled=Yh(this.autoScrollDisabled),t.autoScrollStep=qM(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(Nv),Ne(oa),Ne(eU),Ne(dA,8),Ne(RA,12),Ne(PA,8))},n.\u0275dir=Mt({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(Kn("id",i.id),nl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Vn([{provide:RA,useValue:void 0},{provide:kA,useExisting:n}])]}),n})();const OA=new bt("CdkDragHandle"),LU=new bt("CdkDragPlaceholder"),NU=new bt("CdkDragPreview");let BU=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,f,p){this.element=t,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=h,this._selfHandle=f,this._parentDrag=p,this._destroyed=new Pe,this.started=new Pt,this.released=new Pt,this.ended=new Pt,this.entered=new Pt,this.exited=new Pt,this.dropped=new Pt,this.moved=new it(E=>{const D=this._dragRef.moved.pipe(jt(H=>({source:this,pointerPosition:H.pointerPosition,event:H.event,delta:H.delta,distance:H.distance}))).subscribe(E);return()=>{D.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Yh(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(uA(1),Tg(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Tr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:qM(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(uA(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe(Rv(this._handles),function wU(n,e,t){const i=Q(n)||e||t?{next:n,error:e,complete:t}:n;return i?gt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Dt(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ve}(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),hA(t=>hs(...t.map(i=>i._stateChanges.pipe(Rv(i))))),Tg(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(kA,12),Ne(ji),Ne(An),Ne(vo),Ne(PA,8),Ne(dA,8),Ne(Nv),Ne(oa),Ne(OA,10),Ne(AA,12))},n.\u0275dir=Mt({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(Jo(r,NU,5),Jo(r,LU,5),Jo(r,OA,5)),2&t){let o;Gn(o=Hn())&&(i._previewTemplate=o.first),Gn(o=Hn())&&(i._placeholderTemplate=o.first),Gn(o=Hn())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&nl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Vn([{provide:AA,useExisting:n}]),sr]}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({providers:[Nv],imports:[iU]}),n})();var FA=ie(2402);const Vv=class jU{constructor(e){this.rbush_=new FA(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[(0,tt.sq)(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){const s=e[r],a=t[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[(0,tt.sq)(a)]=l}this.rbush_.load(i)}remove(e){const t=(0,tt.sq)(e),i=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(i)}update(e,t){const i=this.items_[(0,tt.sq)(t)];(0,xe.fS)([i.minX,i.minY,i.maxX,i.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){return this.rbush_.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return(0,ga.x)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return(0,xe.T9)(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}};function UU(n,e){return[[-1/0,-1/0,1/0,1/0]]}function GU(n,e){return[n]}function NA(n,e){return function(t,i,r,o,s){const a=this;!function HU(n,e,t,i,r,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof n?n(t,i,r):n,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();let h;"json"==c||"text"==c?h=a.responseText:"xml"==c?(h=a.responseXML,h||(h=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==c&&(h=a.response),h?o(e.readFeatures(h,{extent:t,featureProjection:r}),e.readProjection(h)):s()}else s()},a.onerror=s,a.send()}(n,e,t,i,r,function(l,c){a.addFeatures(l),void 0!==o&&o(l)},s||Ui.Zn)}}class va extends ks.ZP{constructor(e,t,i){super(e),this.feature=t,this.features=i}}const nd=class WU extends NM{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=Ui.Zn,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&((0,sn.h)(this.format_,7),this.loader_=NA(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:UU;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let i,r;this.featuresRtree_=t?new Vv:null,this.loadedExtentsRtree_=new Vv,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&void 0===i&&(i=new Mo.Z(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=(0,tt.sq)(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new va("addfeature",e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[(0,vt.oL)(t,Lt.Z.CHANGE,this.handleFeatureChange_,this),(0,vt.oL)(t,dg.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const r=t.getId();return void 0!==r&&(r.toString()in this.idIndex_?i=!1:this.idIndex_[r.toString()]=t),i&&((0,sn.h)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let o=0,s=e.length;o<s;o++){const a=e[o],l=(0,tt.sq)(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){const a=i[o],l=(0,tt.sq)(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const h=c.getExtent();t.push(h),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener("addfeature"))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new va("addfeature",i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener("addfeature",function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener("removefeature",function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Dr.Z.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Dr.Z.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(vt.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new va("clear");this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(r){if(r.getGeometry().intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,ga.x)(this.nullGeometryFeatures_)||(0,Yt.l7)(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=(0,xe.MV)(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let o=null;const s=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||Ui.uX,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const h=c.getGeometry(),f=a;if(a=h.closestPointXY(i,r,s,a),a<f){o=c;const p=Math.sqrt(a);l[0]=i-p,l[1]=r-p,l[2]=i+p,l[3]=r+p}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=(0,tt.sq)(t),r=t.getGeometry();if(r){const s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);const o=t.getId();if(void 0!==o){const s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new va("changefeature",t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:(0,tt.sq)(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,ga.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,a=o.length;s<a;++s){const l=o[s];r.forEachInExtent(l,function(h){return(0,xe.r4)(h.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new va("featuresloadstart")),this.loader_.call(this,l,t,i,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new va("featuresloadend",void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new va("featuresloaderror"))}),r.insert(l,{extent:l.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(r){if((0,xe.fS)(r.extent,e))return i=r,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=(0,tt.sq)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=(0,tt.sq)(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(vt.bN),delete this.featureChangeKeys_[t];const r=e.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new va("removefeature",e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){(0,sn.h)(this.format_,7),this.url_=e,this.setLoader(NA(e,this.format_))}};class Bv{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=fr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Bv({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,tt.O3)()}getImage(e){return(0,tt.O3)()}getHitDetectionImage(){return(0,tt.O3)()}getPixelRatio(e){return 1}getImageState(){return(0,tt.O3)()}getImageSize(){return(0,tt.O3)()}getOrigin(){return(0,tt.O3)()}getSize(){return(0,tt.O3)()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fr(e)}listenImageChange(e){(0,tt.O3)()}load(){(0,tt.O3)()}unlistenImageChange(e){(0,tt.O3)()}}const VA=Bv;function is(n){return Array.isArray(n)?qI(n):n}class zv extends VA{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new zv({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,r=(0,Tn.E4)(i.size*e,i.size*e);this.draw_(i,r,e),t=r.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){const Ie=r;r=o,o=Ie}const a=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),l=o*Math.sin(a),h=r-Math.sqrt(o*o-l*l),f=Math.sqrt(l*l+h*h),p=f/l;if("miter"===e&&p<=i)return p*t;const E=t/2/p,D=t/2*(h/f),$=Math.sqrt((r+E)*(r+E)+D*D)-r;if(void 0===this.radius2_||"bevel"===e)return 2*$;const te=r*Math.sin(a),re=o-Math.sqrt(r*r-te*te),_e=Math.sqrt(te*te+re*re)/te;return _e<=i?2*Math.max($,_e*t/2-o-r):2*$}createRenderOptions(){let o,e=Yc,t=0,i=null,r=0,s=0;this.stroke_&&(o=this.stroke_.getColor(),null===o&&(o=Uh),o=is(o),s=this.stroke_.getWidth(),void 0===s&&(s=1),i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=Yc),t=this.stroke_.getMiterLimit(),void 0===t&&(t=10));const a=this.calculateLineJoinSize_(e,s,t),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:o,strokeWidth:s,size:Math.ceil(2*l+a),lineDash:i,lineDashOffset:r,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();null===r&&(r=Os),t.fillStyle=is(r),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if("string"==typeof t&&(t=Lh(t)),null===t?i=1:Array.isArray(t)&&(i=4===t.length?t[3]:1),0===i){const r=(0,Tn.E4)(e.size,e.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(e,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(t*=2);const o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){const l=o+a*s,c=a%2==0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Os,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const BA=zv;class jv extends BA{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new jv({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const Uv=jv;class Gv{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null}clone(){const e=this.getColor();return new Gv({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const rs=Gv;class Hv{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Hv({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const io=Hv;class wa{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=jA,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new wa({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=jA,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let Wv=null;function KU(n,e){if(!Wv){const t=new rs({color:"rgba(255,255,255,0.4)"}),i=new io({color:"#3399CC",width:1.25});Wv=[new wa({image:new Uv({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Wv}function zA(){const n={},e=[255,255,255,1],t=[0,153,255,1];return n.Polygon=[new wa({fill:new rs({color:[255,255,255,.5]})})],n.MultiPolygon=n.Polygon,n.LineString=[new wa({stroke:new io({color:e,width:5})}),new wa({stroke:new io({color:t,width:3})})],n.MultiLineString=n.LineString,n.Circle=n.Polygon.concat(n.LineString),n.Point=[new wa({image:new Uv({radius:6,fill:new rs({color:t}),stroke:new io({color:e,width:1.5})}),zIndex:1/0})],n.MultiPoint=n.Point,n.GeometryCollection=n.Polygon.concat(n.LineString,n.Point),n}function jA(n){return n.getGeometry()}const ro=wa;let id=null;class YU extends rv.Z{constructor(e,t,i,r,o,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=o,this.size_=i,this.src_=t}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&2===this.imageState_){id||(id=(0,Tn.E4)(1,1,void 0,{willReadFrequently:!0})),id.drawImage(this.image_,0,0);try{id.getImageData(0,0,1,1),this.tainted_=!1}catch{id=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Lt.Z.CHANGE)}handleImageError_(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=(0,Tn.E4)(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(0===this.imageState_){this.image_||this.initializeImage_(),this.imageState_=1;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=hv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||2!==this.imageState_)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const r=i.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=KI(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}class Zv extends VA{constructor(e){super({opacity:void 0!==(e=e||{}).opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const s=void 0!==e.img?e.img:null;this.imgSize_=e.imgSize;let a=e.src;(0,sn.h)(!(void 0!==a&&s),4),(0,sn.h)(!s||s&&this.imgSize_,5),(void 0===a||0===a.length)&&s&&(a=s.src||(0,tt.sq)(s)),(0,sn.h)(void 0!==a&&a.length>0,6),(0,sn.h)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),69);const l=void 0!==e.src?0:2;if(this.color_=void 0!==e.color?Lh(e.color):null,this.iconImage_=function $U(n,e,t,i,r,o){let s=ug.get(e,i,o);return s||(s=new YU(n,e,t,i,r,o),ug.set(e,i,o,s)),s}(s,a,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.width_=e.width,this.height_=e.height,void 0!==this.width_||void 0!==this.height_){const c=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};c.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):c.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(void 0!==this.width_||void 0!==this.height_)&&(e=void 0),new Zv({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,t){const i=this.getImage(1);super.setScale(void 0!==e&&void 0!==t?[e/i.width,t/i.height]:void 0!==e?[e/i.width,e/i.width]:void 0!==t?[t/i.height,t/i.height]:[1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!r)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=r[0]),"fraction"==this.anchorYUnits_&&(e[1]*=r[1])}if("top-left"!=this.anchorOrigin_){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+r[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=i[0]-t[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const t=this.getImage(1);if(t){const i=Array.isArray(e)?e[0]:e;void 0!==i&&(this.width_=i*t.width);const r=Array.isArray(e)?e[1]:e;void 0!==r&&(this.height_=r*t.height)}}listenImageChange(e){this.iconImage_.addEventListener(Lt.Z.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Lt.Z.CHANGE,e)}}const Pg=Zv;class Kv{constructor(e){this.font_=(e=e||{}).font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=fr(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new rs({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new Kv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fr(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const ru=Kv;function UA(n){return new ro({fill:rd(n,""),stroke:od(n,""),text:XU(n),image:QU(n)})}function rd(n,e){const t=n[e+"fill-color"];if(t)return new rs({color:t})}function od(n,e){const t=n[e+"stroke-width"],i=n[e+"stroke-color"];if(t||i)return new io({width:t,color:i,lineCap:n[e+"stroke-line-cap"],lineJoin:n[e+"stroke-line-join"],lineDash:n[e+"stroke-line-dash"],lineDashOffset:n[e+"stroke-line-dash-offset"],miterLimit:n[e+"stroke-miter-limit"]})}function XU(n){const e=n["text-value"];return e?new ru({text:e,font:n["text-font"],maxAngle:n["text-max-angle"],offsetX:n["text-offset-x"],offsetY:n["text-offset-y"],overflow:n["text-overflow"],placement:n["text-placement"],repeat:n["text-repeat"],scale:n["text-scale"],rotateWithView:n["text-rotate-with-view"],rotation:n["text-rotation"],textAlign:n["text-align"],justify:n["text-justify"],textBaseline:n["text-baseline"],padding:n["text-padding"],fill:rd(n,"text-"),backgroundFill:rd(n,"text-background-"),stroke:od(n,"text-"),backgroundStroke:od(n,"text-background-")}):void 0}function QU(n){const e=n["icon-src"],t=n["icon-img"];if(e||t)return new Pg({src:e,img:t,imgSize:n["icon-img-size"],anchor:n["icon-anchor"],anchorOrigin:n["icon-anchor-origin"],anchorXUnits:n["icon-anchor-x-units"],anchorYUnits:n["icon-anchor-y-units"],color:n["icon-color"],crossOrigin:n["icon-cross-origin"],offset:n["icon-offset"],displacement:n["icon-displacement"],opacity:n["icon-opacity"],scale:n["icon-scale"],rotation:n["icon-rotation"],rotateWithView:n["icon-rotate-with-view"],size:n["icon-size"],declutterMode:n["icon-declutter-mode"]});const i=n["shape-points"];if(i){const o="shape-";return new BA({points:i,fill:rd(n,o),stroke:od(n,o),radius:n["shape-radius"],radius1:n["shape-radius1"],radius2:n["shape-radius2"],angle:n["shape-angle"],displacement:n["shape-displacement"],rotation:n["shape-rotation"],rotateWithView:n["shape-rotate-with-view"],scale:n["shape-scale"],declutterMode:n["shape-declutter-mode"]})}const r=n["circle-radius"];if(r){const o="circle-";return new Uv({radius:r,fill:rd(n,o),stroke:od(n,o),displacement:n["circle-displacement"],scale:n["circle-scale"],rotation:n["circle-rotation"],rotateWithView:n["circle-rotate-with-view"],declutterMode:n["circle-declutter-mode"]})}}const eG=class JU extends hg{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new FA(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set("renderOrder",e)}setStyle(e){let t;if(void 0===e)t=KU;else if(null===e)t=null;else if("function"==typeof e)t=e;else if(e instanceof ro)t=e;else if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let o=0;o<i;++o){const s=e[o];r[o]=s instanceof ro?s:UA(s)}t=r}else t=UA(e);this.style_=t,this.styleFunction_=null===e?void 0:function ZU(n){let e;if("function"==typeof n)e=n;else{let t;Array.isArray(n)?t=n:((0,sn.h)("function"==typeof n.getZIndex,41),t=[n]),e=function(){return t}}return e}(this.style_),this.changed()}},sd={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},kg=[sd.FILL],Ea=[sd.STROKE],Sl=[sd.BEGIN_PATH],HA=[sd.CLOSE_PATH],Nt=sd;var tG=ie(2401);const WA=class nG{drawCustom(e,t,i,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},ad=class iG extends WA{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let s=o.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],(0,xe.b8)(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(e,t,i,r,o,s){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();s&&(t+=r);let h=e[t],f=e[t+1];const p=this.tmpCoordinate_;let D,H,$,E=!0;for(D=t+r;D<i;D+=r)p[0]=e[D],p[1]=e[D+1],$=(0,xe.pX)(c,p),$!==H?(E&&(a[l++]=h,a[l++]=f,E=!1),a[l++]=p[0],a[l++]=p[1]):$===tG.Z.INTERSECTING?(a[l++]=p[0],a[l++]=p[1],E=!1):E=!0,h=p[0],f=p[1],H=$;return(o&&E||D===t+r)&&(a[l++]=h,a[l++]=f),l}drawCustomCoordinates_(e,t,i,r,o){for(let s=0,a=i.length;s<a;++s){const l=i[s],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);o.push(c),t=l}return t}drawCustom(e,t,i,r){this.beginGeometry(e,t);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,c,h,f,p;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),f=[];const E=e.getEndss();p=0;for(let D=0,H=E.length;D<H;++D){const $=[];p=this.drawCustomCoordinates_(l,p,E[D],s,$),f.push($)}this.instructions.push([Nt.CUSTOM,a,f,e,i,Yb]),this.hitDetectionInstructions.push([Nt.CUSTOM,a,f,e,r||i,Yb]);break;case"Polygon":case"MultiLineString":h=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(l,0,e.getEnds(),s,h),this.instructions.push([Nt.CUSTOM,a,h,e,i,Fh]),this.hitDetectionInstructions.push([Nt.CUSTOM,a,h,e,r||i,Fh]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([Nt.CUSTOM,a,c,e,i,da]),this.hitDetectionInstructions.push([Nt.CUSTOM,a,c,e,r||i,da]);break;case"MultiPoint":l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([Nt.CUSTOM,a,c,e,i,da]),this.hitDetectionInstructions.push([Nt.CUSTOM,a,c,e,r||i,da]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([Nt.CUSTOM,a,c,e,i]),this.hitDetectionInstructions.push([Nt.CUSTOM,a,c,e,r||i])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[Nt.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Nt.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const i=e.length;let r,o,s=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==Nt.END_GEOMETRY?s=t:o==Nt.BEGIN_GEOMETRY&&(r[2]=t,(0,Yt.FZ)(this.hitDetectionInstructions,s,t),s=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const r=e.getColor();i.fillStyle=is(r||Os)}else i.fillStyle=void 0;if(t){const r=t.getColor();i.strokeStyle=is(r||Uh);const o=t.getLineCap();i.lineCap=void 0!==o?o:pg;const s=t.getLineDash();i.lineDash=s?s.slice():Bh;const a=t.getLineDashOffset();i.lineDashOffset=a||0;const l=t.getLineJoin();i.lineJoin=void 0!==l?l:Yc;const c=t.getWidth();i.lineWidth=void 0!==c?c:1;const h=t.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[Nt.SET_FILL_STYLE,t];return"string"!=typeof t&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Nt.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!(0,Yt.fS)(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Nt.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,xe.d9)(this.maxExtent),this.maxLineWidth>0)&&(0,xe.f3)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_}},ZA=class lG extends ad{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const o=this.state,s=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,l=i.length;this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl);for(let c=0;c<l;++c){const h=i[c],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,t,h,r,!0,!a),E=[Nt.MOVE_TO_LINE_TO,f,p];this.instructions.push(E),this.hitDetectionInstructions.push(E),a&&(this.instructions.push(HA),this.hitDetectionInstructions.push(HA)),t=h}return s&&(this.instructions.push(kg),this.hitDetectionInstructions.push(kg)),a&&(this.instructions.push(Ea),this.hitDetectionInstructions.push(Ea)),t}drawCircle(e,t){const i=this.state;if(void 0===i.fillStyle&&void 0===i.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,Os]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[Nt.CIRCLE,l];this.instructions.push(Sl,c),this.hitDetectionInstructions.push(Sl,c),void 0!==i.fillStyle&&(this.instructions.push(kg),this.hitDetectionInstructions.push(kg)),void 0!==i.strokeStyle&&(this.instructions.push(Ea),this.hitDetectionInstructions.push(Ea)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state;if(void 0===i.fillStyle&&void 0===i.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,Os]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state;if(void 0===i.fillStyle&&void 0===i.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,Os]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let c=0;for(let h=0,f=s.length;h<f;++h)c=this.drawFlatCoordinatess_(a,c,s[h],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=yl(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function cG(n,e,t,i,r){const o=[];let s=t,a=0,l=e.slice(t,2);for(;a<n&&s+r<i;){const[c,h]=l.slice(-2),f=e[s+r],p=e[s+r+1],E=Math.sqrt((f-c)*(f-c)+(p-h)*(p-h));if(a+=E,a>=n){const D=(n-a+E)/E,H=(0,dt.t7)(c,f,D),$=(0,dt.t7)(h,p,D);l.push(H,$),o.push(l),l=[H,$],a==n&&(s+=r),a=0}else if(a<n)l.push(e[s+r],e[s+r+1]),s+=r;else{const D=E-a,H=(0,dt.t7)(c,f,D/E),$=(0,dt.t7)(h,p,D/E);l.push(H,$),o.push(l),l=[H,$],a=0,s+=r}}return a>0&&o.push(l),o}function uG(n,e,t,i,r){let h,f,p,E,D,H,$,te,ae,re,o=t,s=t,a=0,l=0,c=t;for(f=t;f<i;f+=r){const pe=e[f],_e=e[f+1];void 0!==D&&(ae=pe-D,re=_e-H,E=Math.sqrt(ae*ae+re*re),void 0!==$&&(l+=p,h=Math.acos(($*ae+te*re)/(p*E)),h>n&&(l>a&&(a=l,o=c,s=f),l=0,c=f-r)),p=E,$=ae,te=re),D=pe,H=_e}return l+=E,l>a?[c,f]:[o,s]}const ld={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},dG={Circle:ZA,Default:ad,Image:class rG extends ad{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,r);this.instructions.push([Nt.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,r);this.instructions.push([Nt.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},LineString:class sG extends ad{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[Nt.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t){const i=this.state;if(void 0===i.strokeStyle||void 0===i.lineWidth)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Bh,0],Sl);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(Ea),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state;if(void 0===i.strokeStyle||void 0===i.lineWidth)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Sl);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let c=0;for(let h=0,f=s.length;h<f;++h)c=this.drawFlatCoordinates_(a,c,s[h],l);this.hitDetectionInstructions.push(Ea),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ea),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ea),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Sl)}},Polygon:ZA,Text:class hG extends ad{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const o=this.textState_;if(""===this.text_||!o||!this.textFillState_&&!this.textStrokeState_)return;const s=this.coordinates;let a=s.length;const l=e.getType();let c=null,h=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let f=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),h=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||f.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const $=e.getFlatInteriorPoints();c=[];for(let te=0,ae=$.length;te<ae;te+=3)o.overflow||f.push($[te+2]/this.resolution),c.push($[te],$[te+1]);if(0===c.length)return;h=2}const p=this.appendFlatPointCoordinates(c,h);if(p===a)return;if(f&&(p-a)/2!=c.length/h){let $=a/2;f=f.filter((te,ae)=>{const re=s[2*($+ae)]===c[ae*h]&&s[2*($+ae)+1]===c[ae*h+1];return re||--$,re})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let E=o.padding;if(E!=wl&&(o.scale[0]<0||o.scale[1]<0)){let $=o.padding[0],te=o.padding[1],ae=o.padding[2],re=o.padding[3];o.scale[0]<0&&(te=-te,re=-re),o.scale[1]<0&&($=-$,ae=-ae),E=[$,te,ae,re]}const D=this.pixelRatio;this.instructions.push([Nt.DRAW_IMAGE,a,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,E==wl?wl:E.map(function($){return $*D}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const H=1/D;this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,a,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[H,H],NaN,void 0,this.declutterImageWithText_,E,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(t)}else{if(!(0,xe.kK)(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(c=e.getFlatCoordinates(),"LineString"==l)f=[c.length];else if("MultiLineString"==l)f=e.getEnds();else if("Polygon"==l)f=e.getEnds().slice(0,1);else if("MultiPolygon"==l){const H=e.getEndss();f=[];for(let $=0,te=H.length;$<te;++$)f.push(H[$][0])}this.beginGeometry(e,t);const p=o.repeat,E=p?void 0:o.textAlign;let D=0;for(let H=0,$=f.length;H<$;++H){let te;te=p?cG(p*this.resolution,c,D,f[H],h):[c.slice(D,f[H])];for(let ae=0,re=te.length;ae<re;++ae){const pe=te[ae];let _e=0,Ie=pe.length;if(null==E){const je=uG(o.maxAngle,pe,0,pe.length,2);_e=je[0],Ie=je[1]}for(let je=_e;je<Ie;je+=h)s.push(pe[je],pe[je+1]);const Ae=s.length;D=f[H],this.drawChars_(a,Ae),a=Ae}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Gh,justify:t.justify,textBaseline:t.textBaseline||gg,scale:t.scale});const s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=ld[r.textBaseline],h=this.textOffsetY_*l,f=this.text_,p=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Nt.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,h,o,p*l,f,s,1]),this.hitDetectionInstructions.push([Nt.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,1,h,o,p,f,s,1/l])}setTextStyle(e,t){let i,r,o;if(e){const s=e.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=is(s.getColor()||Os)):(r=null,this.textFillState_=r);const a=e.getStroke();if(a){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const D=a.getLineDash(),H=a.getLineDashOffset(),$=a.getWidth(),te=a.getMiterLimit();o.lineCap=a.getLineCap()||pg,o.lineDash=D?D.slice():Bh,o.lineDashOffset=void 0===H?0:H,o.lineJoin=a.getLineJoin()||Yc,o.lineWidth=void 0===$?1:$,o.miterLimit=void 0===te?10:te,o.strokeStyle=is(a.getColor()||Uh)}else o=null,this.textStrokeState_=o;i=this.textState_;const l=e.getFont()||iM;_z(l);const c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||gg,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||wl,i.scale=void 0===c?[1,1]:c;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),E=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===E?0:E,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:(0,tt.sq)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,tt.sq)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}},KA=class fG{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){const i=void 0!==e?e.toString():"0";let r=this.buildersByZIndex_[i];void 0===r&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];return void 0===o&&(o=new(0,dG[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o),o}};function pG(n,e,t,i,r,o,s,a,l,c,h,f){let p=n[e],E=n[e+1],D=0,H=0,$=0,te=0;function ae(){D=p,H=E,p=n[e+=i],E=n[e+1],te+=$,$=Math.sqrt((p-D)*(p-D)+(E-H)*(E-H))}do{ae()}while(e<t-i&&te+$<o);let re=0===$?0:(o-te)/$;const pe=(0,dt.t7)(D,p,re),_e=(0,dt.t7)(H,E,re),Ie=e-i,Ae=te,je=o+a*l(c,r,h);for(;e<t-i&&te+$<je;)ae();re=0===$?0:(je-te)/$;const at=(0,dt.t7)(D,p,re),ht=(0,dt.t7)(H,E,re);let Gt;if(f){const Fe=[pe,_e,at,ht];DI(Fe,0,4,2,f,Fe,Fe),Gt=Fe[0]>Fe[2]}else Gt=pe>at;const Ot=Math.PI,Ct=[],Fn=Ie+i===e;let Ht;if($=0,te=Ae,p=n[e=Ie],E=n[e+1],Fn)return ae(),Ht=Math.atan2(E-H,p-D),Gt&&(Ht+=Ht>0?-Ot:Ot),Ct[0]=[(at+pe)/2,(ht+_e)/2,(je-o)/2,Ht,r],Ct;for(let Fe=0,Be=(r=r.replace(/\n/g," ")).length;Fe<Be;){ae();let He=Math.atan2(E-H,p-D);if(Gt&&(He+=He>0?-Ot:Ot),void 0!==Ht){let It=He-Ht;if(It+=It>Ot?-2*Ot:It<-Ot?2*Ot:0,Math.abs(It)>s)return null}Ht=He;const ft=Fe;let zt=0;for(;Fe<Be;++Fe){const In=a*l(c,r[Gt?Be-Fe-1:Fe],h);if(e+i<t&&te+$<o+zt+In/2)break;zt+=In}if(Fe===ft)continue;const Rn=Gt?r.substring(Be-ft,Be-Fe):r.substring(ft,Fe);re=0===$?0:(o+zt/2-te)/$;const qe=(0,dt.t7)(D,p,re),ai=(0,dt.t7)(H,E,re);Ct.push([qe,ai,zt/2,He,Rn]),o+=zt}return Ct}function Yv(n,e,t,i){let r=n[e],o=n[e+1],s=0;for(let a=e+i;a<t;a+=i){const l=n[a],c=n[a+1];s+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return s}const ou=(0,xe.lJ)(),xa=[],Ns=[],Vs=[],Ca=[];function YA(n){return n[3].declutterBox}const gG=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function $A(n,e){return("start"===e||"end"===e)&&!gG.test(n)&&(e="start"===e?"left":"right"),ld[e]}function mG(n,e,t){return t>0&&n.push("\n",""),n.push(e,""),n}const yG=class _G{constructor(e,t,i,r){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,r){const o=e+t+i+r;if(this.labels_[o])return this.labels_[o];const s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,h=[l.scale[0]*c,l.scale[1]*c],f=Array.isArray(e),p=l.justify?ld[l.justify]:$A(Array.isArray(e)?e[0]:e,l.textAlign||Gh),E=r&&s.lineWidth?s.lineWidth:0,D=f?e:e.split("\n").reduce(mG,[]),{width:H,height:$,widths:te,heights:ae,lineWidths:re}=function bz(n,e){const t=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let c=0,h=e.length;c<=h;c+=2){const f=e[c];if("\n"===f||c===h){o=Math.max(o,s),r.push(s),s=0,a+=l;continue}const p=e[c+1]||n.font,E=mg(p,f);t.push(E),s+=E;const D=yz(p);i.push(D),l=Math.max(l,D)}return{width:o,height:a,widths:t,heights:i,lineWidths:r}}(l,D),pe=H+E,_e=[],Ie=(pe+2)*h[0],Ae=($+E)*h[1],je={width:Ie<0?Math.floor(Ie):Math.ceil(Ie),height:Ae<0?Math.floor(Ae):Math.ceil(Ae),contextInstructions:_e};(1!=h[0]||1!=h[1])&&_e.push("scale",h),r&&(_e.push("strokeStyle",s.strokeStyle),_e.push("lineWidth",E),_e.push("lineCap",s.lineCap),_e.push("lineJoin",s.lineJoin),_e.push("miterLimit",s.miterLimit),_e.push("setLineDash",[s.lineDash]),_e.push("lineDashOffset",s.lineDashOffset)),i&&_e.push("fillStyle",a.fillStyle),_e.push("textBaseline","middle"),_e.push("textAlign","center");const at=.5-p;let ht=p*pe+at*E;const Gt=[],Ot=[];let Be,Ct=0,Fn=0,Ht=0,Fe=0;for(let He=0,ft=D.length;He<ft;He+=2){const zt=D[He];if("\n"===zt){Fn+=Ct,Ct=0,ht=p*pe+at*E,++Fe;continue}const Rn=D[He+1]||l.font;Rn!==Be&&(r&&Gt.push("font",Rn),i&&Ot.push("font",Rn),Be=Rn),Ct=Math.max(Ct,ae[Ht]);const qe=[zt,ht+at*te[Ht]+p*(te[Ht]-re[Fe]),.5*(E+Ct)+Fn];ht+=te[Ht],r&&Gt.push("strokeText",qe),i&&Ot.push("fillText",qe),++Ht}return Array.prototype.push.apply(_e,Gt),Array.prototype.push.apply(_e,Ot),this.labels_[o]=je,je}replayTextBackground_(e,t,i,r,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,s,a,l,c,h,f,p,E,D,H,$){let te=i-(a*=p[0]),ae=r-(l*=p[1]);const re=o+c>e?e-c:o,pe=s+h>t?t-h:s,_e=D[3]+re*p[0]+D[1],Ie=D[0]+pe*p[1]+D[2],Ae=te-D[3],je=ae-D[0];let at;return(H||0!==f)&&(xa[0]=Ae,Ca[0]=Ae,xa[1]=je,Ns[1]=je,Ns[0]=Ae+_e,Vs[0]=Ns[0],Vs[1]=je+Ie,Ca[1]=Vs[1]),0!==f?(at=Ps([1,0,0,1,0,0],i,r,1,1,f,-i,-r),Pi(at,xa),Pi(at,Ns),Pi(at,Vs),Pi(at,Ca),(0,xe.T9)(Math.min(xa[0],Ns[0],Vs[0],Ca[0]),Math.min(xa[1],Ns[1],Vs[1],Ca[1]),Math.max(xa[0],Ns[0],Vs[0],Ca[0]),Math.max(xa[1],Ns[1],Vs[1],Ca[1]),ou)):(0,xe.T9)(Math.min(Ae,Ae+_e),Math.min(je,je+Ie),Math.max(Ae,Ae+_e),Math.max(je,je+Ie),ou),E&&(te=Math.round(te),ae=Math.round(ae)),{drawImageX:te,drawImageY:ae,drawImageW:re,drawImageH:pe,originX:c,originY:h,declutterBox:{minX:ou[0],minY:ou[1],maxX:ou[2],maxY:ou[3],value:$},canvasTransform:at,scale:p}}replayImageOrLabel_(e,t,i,r,o,s,a){const c=r.declutterBox,h=e.canvas,f=a?a[2]*r.scale[0]/2:0;return c.minX-f<=h.width/t&&c.maxX+f>=0&&c.minY-f<=h.height/t&&c.maxY+f>=0&&(!(!s&&!a)&&this.replayTextBackground_(e,xa,Ns,Vs,Ca,s,a),function vz(n,e,t,i,r,o,s,a,l,c,h){n.save(),1!==t&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(h[0],h[1]),function wz(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}(i,n)):h[0]<0||h[1]<0?(n.translate(l,c),n.scale(h[0],h[1]),n.drawImage(i,r,o,s,a,0,0,s,a)):n.drawImage(i,r,o,s,a,l,c,s*h[0],a*h[1]),n.restore()}(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){if(this.alignFill_){const t=Pi(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){const o=this.textStates[t],s=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=$A(Array.isArray(e)?e[0]:e,o.textAlign||Gh),h=ld[o.textBaseline||gg],f=a&&a.lineWidth?a.lineWidth:0;return{label:s,anchorX:c*(s.width/l-2*o.scale[0])+2*(.5-c)*f,anchorY:h*s.height/l+2*(.5-h)*f}}execute_(e,t,i,r,o,s,a,l){let c;this.pixelCoordinates_&&(0,Yt.fS)(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=ml(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),function A6(n,e){n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]}(this.renderedTransform_,i));let h=0;const f=r.length;let E,D,H,$,te,ae,re,pe,_e,Ie,Ae,je,p=0,at=0,ht=0,Gt=null,Ot=null;const Ct=this.coordinateCache_,Fn=this.viewRotation_,Ht=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,Fe={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Fn},Be=this.instructions!=r||this.overlaps?0:200;let He,ft,zt,Rn;for(;h<f;){const qe=r[h];switch(qe[0]){case Nt.BEGIN_GEOMETRY:He=qe[1],Rn=qe[3],He.getGeometry()?void 0===a||(0,xe.kK)(a,Rn.getExtent())?++h:h=qe[2]+1:h=qe[2];break;case Nt.BEGIN_PATH:at>Be&&(this.fill_(e),at=0),ht>Be&&(e.stroke(),ht=0),!at&&!ht&&(e.beginPath(),$=NaN,te=NaN),++h;break;case Nt.CIRCLE:p=qe[1];const It=c[p],In=c[p+1],Yn=c[p+2]-It,li=c[p+3]-In,ko=Math.sqrt(Yn*Yn+li*li);e.moveTo(It+ko,In),e.arc(It,In,ko,0,2*Math.PI,!0),++h;break;case Nt.CLOSE_PATH:e.closePath(),++h;break;case Nt.CUSTOM:p=qe[1],E=qe[2];const pu=qe[4],gm=6==qe.length?qe[5]:void 0;Fe.geometry=qe[3],Fe.feature=He,h in Ct||(Ct[h]=[]);const Fa=Ct[h];gm?gm(c,p,E,2,Fa):(Fa[0]=c[p],Fa[1]=c[p+1],Fa.length=2),pu(Fa,Fe),++h;break;case Nt.DRAW_IMAGE:p=qe[1],E=qe[2],pe=qe[3],D=qe[4],H=qe[5];let Cd=qe[6];const La=qe[7],mm=qe[8],_m=qe[9],ym=qe[10];let gu=qe[11];const Yw=qe[12];let Ir=qe[13];const so=qe[14],Oo=qe[15];if(!pe&&qe.length>=20){_e=qe[19],Ie=qe[20],Ae=qe[21],je=qe[22];const Hr=this.drawLabelWithPointPlacement_(_e,Ie,Ae,je);pe=Hr.label,qe[3]=pe,D=(Hr.anchorX-qe[23])*this.pixelRatio,qe[4]=D,H=(Hr.anchorY-qe[24])*this.pixelRatio,qe[5]=H,Cd=pe.height,qe[6]=Cd,Ir=pe.width,qe[13]=Ir}let Us,mu,Al,Na;qe.length>25&&(Us=qe[25]),qe.length>17?(mu=qe[16],Al=qe[17],Na=qe[18]):(mu=wl,Al=!1,Na=!1),ym&&Ht?gu+=Fn:!ym&&!Ht&&(gu-=Fn);let _u=0;for(;p<E;p+=2){if(Us&&Us[_u++]<Ir/this.pixelRatio)continue;const Hr=this.calculateImageOrLabelDimensions_(pe.width,pe.height,c[p],c[p+1],Ir,Cd,D,H,mm,_m,gu,Yw,o,mu,Al||Na,He),yu=[e,t,pe,Hr,La,Al?Gt:null,Na?Ot:null];if(l){if("none"===so)continue;if("obstacle"===so){l.insert(Hr.declutterBox);continue}{let ao,Gs;if(Oo){const Wr=E-p;if(!Oo[Wr]){Oo[Wr]=yu;continue}if(ao=Oo[Wr],delete Oo[Wr],Gs=YA(ao),l.collides(Gs))continue}if(l.collides(Hr.declutterBox))continue;ao&&(l.insert(Gs),this.replayImageOrLabel_.apply(this,ao)),l.insert(Hr.declutterBox)}}this.replayImageOrLabel_.apply(this,yu)}++h;break;case Nt.DRAW_CHARS:const bm=qe[1],gr=qe[2],$w=qe[3],wq=qe[4];je=qe[5];const Eq=qe[6],dP=qe[7],fP=qe[8];Ae=qe[9];const qw=qe[10];_e=qe[11],Ie=qe[12];const pP=[qe[13],qe[13]],Xw=this.textStates[Ie],Sd=Xw.font,Dd=[Xw.scale[0]*dP,Xw.scale[1]*dP];let Td;Sd in this.widths_?Td=this.widths_[Sd]:(Td={},this.widths_[Sd]=Td);const gP=Yv(c,bm,gr,2),mP=Math.abs(Dd[0])*oM(Sd,_e,Td);if(wq||mP<=gP){const ao=pG(c,bm,gr,2,_e,(gP-mP)*ld[this.textStates[Ie].textAlign],Eq,Math.abs(Dd[0]),oM,Sd,Td,Ht?0:this.viewRotation_);e:if(ao){const Gs=[];let Wr,vm,wm,Mr,lo;if(Ae)for(Wr=0,vm=ao.length;Wr<vm;++Wr){lo=ao[Wr],wm=lo[4],Mr=this.createLabel(wm,Ie,"",Ae),D=lo[2]+(Dd[0]<0?-qw:qw),H=$w*Mr.height+2*(.5-$w)*qw*Dd[1]/Dd[0]-fP;const Hs=this.calculateImageOrLabelDimensions_(Mr.width,Mr.height,lo[0],lo[1],Mr.width,Mr.height,D,H,0,0,lo[3],pP,!1,wl,!1,He);if(l&&l.collides(Hs.declutterBox))break e;Gs.push([e,t,Mr,Hs,1,null,null])}if(je)for(Wr=0,vm=ao.length;Wr<vm;++Wr){lo=ao[Wr],wm=lo[4],Mr=this.createLabel(wm,Ie,je,""),D=lo[2],H=$w*Mr.height-fP;const Hs=this.calculateImageOrLabelDimensions_(Mr.width,Mr.height,lo[0],lo[1],Mr.width,Mr.height,D,H,0,0,lo[3],pP,!1,wl,!1,He);if(l&&l.collides(Hs.declutterBox))break e;Gs.push([e,t,Mr,Hs,1,null,null])}l&&l.load(Gs.map(YA));for(let Hs=0,xq=Gs.length;Hs<xq;++Hs)this.replayImageOrLabel_.apply(this,Gs[Hs])}}++h;break;case Nt.END_GEOMETRY:if(void 0!==s){He=qe[1];const Hr=s(He,Rn);if(Hr)return Hr}++h;break;case Nt.FILL:Be?at++:this.fill_(e),++h;break;case Nt.MOVE_TO_LINE_TO:for(p=qe[1],E=qe[2],ft=c[p],zt=c[p+1],ae=ft+.5|0,re=zt+.5|0,(ae!==$||re!==te)&&(e.moveTo(ft,zt),$=ae,te=re),p+=2;p<E;p+=2)ft=c[p],zt=c[p+1],ae=ft+.5|0,re=zt+.5|0,(p==E-2||ae!==$||re!==te)&&(e.lineTo(ft,zt),$=ae,te=re);++h;break;case Nt.SET_FILL_STYLE:Gt=qe,this.alignFill_=qe[2],at&&(this.fill_(e),at=0,ht&&(e.stroke(),ht=0)),e.fillStyle=qe[1],++h;break;case Nt.SET_STROKE_STYLE:Ot=qe,ht&&(e.stroke(),ht=0),this.setStrokeStyle_(e,qe),++h;break;case Nt.STROKE:Be?ht++:e.stroke(),++h;break;default:++h}}at&&this.fill_(e),ht&&e.stroke()}execute(e,t,i,r,o,s){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,o)}},$v=["Polygon","Circle","LineString","Image","Text","Default"],qv={},qA=class bG{constructor(e,t,i,r,o,s){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];void 0===i&&(i={},this.executorsByZIndex_[t]=i);const r=e[t];for(const o in r)i[o]=new yG(this.resolution_,this.pixelRatio_,this.overlaps_,r[o])}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,s){const a=2*(r=Math.round(r))+1,l=Ps(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=(0,Tn.E4)(a,a,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;let f;h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):c||h.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(f=(0,xe.lJ)(),(0,xe.Wj)(f,e),(0,xe.f3)(f,t*(this.renderBuffer_+r),f));const p=function vG(n){if(void 0!==qv[n])return qv[n];const e=2*n+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){const a=o*o+s*s;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(4*((n+o)*e+(n+s))+3),o>0&&l.push(4*((n-o)*e+(n+s))+3),s>0&&(l.push(4*((n+o)*e+(n-s))+3),o>0&&l.push(4*((n-o)*e+(n-s))+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return qv[n]=r,r}(r);let E;function D(_e,Ie){const Ae=h.getImageData(0,0,a,a).data;for(let je=0,at=p.length;je<at;je++)if(Ae[p[je]]>0){if(!s||"Image"!==E&&"Text"!==E||s.includes(_e)){const ht=(p[je]-3)/4,Gt=r-ht%a,Ot=r-(ht/a|0),Ct=o(_e,Ie,Gt*Gt+Ot*Ot);if(Ct)return Ct}h.clearRect(0,0,a,a);break}}const H=Object.keys(this.executorsByZIndex_).map(Number);let $,te,ae,re,pe;for(H.sort(Yt.j2),$=H.length-1;$>=0;--$){const _e=H[$].toString();for(ae=this.executorsByZIndex_[_e],te=$v.length-1;te>=0;--te)if(E=$v[te],re=ae[E],void 0!==re&&(pe=re.executeHitDetection(h,l,i,D,f),pe))return pe}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],o=t[2],s=t[3],a=[i,r,i,s,o,s,o,r];return ml(a,0,8,2,e,a),a}isEmpty(){return(0,ga.x)(this.executorsByZIndex_)}execute(e,t,i,r,o,s,a){const l=Object.keys(this.executorsByZIndex_).map(Number);let c,h,f,p,E,D;for(l.sort(Yt.j2),this.maxExtent_&&(e.save(),this.clip(e,i)),s=s||$v,a&&l.reverse(),c=0,h=l.length;c<h;++c){const H=l[c].toString();for(E=this.executorsByZIndex_[H],f=0,p=s.length;f<p;++f)D=E[s[f]],void 0!==D&&D.execute(e,t,i,r,o,a)}this.maxExtent_&&e.restore()}},EG=class wG extends WA{constructor(e,t,i,r,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?(0,dt.FH)(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,i,r){if(!this.image_)return;const o=ml(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;0===this.transformRotation_&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let h=0,f=o.length;h<f;h+=2){const p=o[h]-this.imageAnchorX_,E=o[h+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const D=p+this.imageAnchorX_,H=E+this.imageAnchorY_;Ps(a,D,H,1,1,c,-D,-H),s.setTransform.apply(s,a),s.translate(D,H),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,E,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=ml(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_;let a=this.textRotation_;for(0===this.transformRotation_&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){const l=o[t]+this.textOffsetX_,c=o[t+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,o){const s=this.context_,a=ml(e,t,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),i}drawRings_(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if((0,xe.kK)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function V6(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return ml(i,0,i.length,r,e,t)}(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const i=t.getGeometryFunction()(e);!i||!(0,xe.kK)(this.extent_,i.getExtent())||(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,xe.kK)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if((0,xe.kK)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let o=0;const s=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(""!==this.text_){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,xe.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,xe.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=o.length;a<l;++a)r=this.drawRings_(i,r,o[a],s);this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),(0,Yt.fS)(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Gh;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const i=e.getColor();this.fillState_={fillStyle:is(i||Os)}}else this.fillState_=null;if(t){const i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),h=o||Bh;this.strokeState_={lineCap:void 0!==r?r:pg,lineDash:1===this.pixelRatio_?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==a?a:Yc,lineWidth:(void 0!==l?l:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:is(i||Uh)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(e){const t=e.getFill();if(t){const E=t.getColor();this.textFillState_={fillStyle:is(E||Os)}}else this.textFillState_=null;const i=e.getStroke();if(i){const E=i.getColor(),D=i.getLineCap(),H=i.getLineDash(),$=i.getLineDashOffset(),te=i.getLineJoin(),ae=i.getWidth(),re=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==D?D:pg,lineDash:H||Bh,lineDashOffset:$||0,lineJoin:void 0!==te?te:Yc,lineWidth:void 0!==ae?ae:1,miterLimit:void 0!==re?re:10,strokeStyle:is(E||Uh)}}else this.textStrokeState_=null;const r=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:void 0!==r?r:iM,textAlign:void 0!==f?f:Gh,textBaseline:void 0!==p?p:gg},this.text_=void 0!==h?Array.isArray(h)?h.reduce((E,D,H)=>E+(H%2?" ":D),""):h:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==s?this.pixelRatio_*s:0,this.textRotateWithView_=void 0!==a&&a,this.textRotation_=void 0!==l?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}else this.text_=""}},os=.5,XA={Point:function OG(n,e,t,i,r){const o=t.getImage(),s=t.getText();let a;if(o){if(2!=o.getImageState())return;let l=n;if(r){const h=o.getDeclutterMode();if("none"!==h)if(l=r,"obstacle"===h){const f=n.getBuilder(t.getZIndex(),"Image");f.setImageStyle(o,a),f.drawPoint(e,i)}else s&&s.getText()&&(a={})}const c=l.getBuilder(t.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(e,i)}if(s&&s.getText()){let l=n;r&&(l=r);const c=l.getBuilder(t.getZIndex(),"Text");c.setTextStyle(s,a),c.drawText(e,i)}},LineString:function RG(n,e,t,i,r){const o=t.getStroke();if(o){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,i)}const s=t.getText();if(s&&s.getText()){const a=(r||n).getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i)}},Polygon:function LG(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(o||s){const l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,i)}const a=t.getText();if(a&&a.getText()){const l=(r||n).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}},MultiPoint:function FG(n,e,t,i,r){const o=t.getImage(),s=t.getText();let a;if(o){if(2!=o.getImageState())return;let l=n;if(r){const h=o.getDeclutterMode();if("none"!==h)if(l=r,"obstacle"===h){const f=n.getBuilder(t.getZIndex(),"Image");f.setImageStyle(o,a),f.drawMultiPoint(e,i)}else s&&s.getText()&&(a={})}const c=l.getBuilder(t.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(e,i)}if(s&&s.getText()){let l=n;r&&(l=r);const c=l.getBuilder(t.getZIndex(),"Text");c.setTextStyle(s,a),c.drawText(e,i)}},MultiLineString:function PG(n,e,t,i,r){const o=t.getStroke();if(o){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i)}const s=t.getText();if(s&&s.getText()){const a=(r||n).getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i)}},MultiPolygon:function kG(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(s||o){const l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,i)}const a=t.getText();if(a&&a.getText()){const l=(r||n).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}},GeometryCollection:function AG(n,e,t,i,r){const o=e.getGeometriesArray();let s,a;for(s=0,a=o.length;s<a;++s)(0,XA[o[s].getType()])(n,o[s],t,i,r)},Circle:function IG(n,e,t,i,r){const o=t.getFill(),s=t.getStroke();if(o||s){const l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,i)}const a=t.getText();if(a&&a.getText()){const l=(r||n).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}};function DG(n,e){return parseInt((0,tt.sq)(n),10)-parseInt((0,tt.sq)(e),10)}function Xv(n,e){return.5*n/e}function QA(n,e,t,i,r,o,s){let a=!1;const l=t.getImage();if(l){const c=l.getImageState();2==c||3==c?l.unlistenImageChange(r):(0==c&&l.load(),l.listenImageChange(r),a=!0)}return function MG(n,e,t,i,r,o){const s=t.getGeometryFunction()(e);if(!s)return;const a=s.simplifyTransformed(i,r);t.getRenderer()?JA(n,a,t,e):(0,XA[a.getType()])(n,a,t,e,o)}(n,e,t,i,o,s),a}function JA(n,e,t,i){if("GeometryCollection"!=e.getType())n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer());else{const o=e.getGeometries();for(let s=0,a=o.length;s<a;++s)JA(n,o[s],t,i)}}const VG=class NG extends SM{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,xe.lJ)(),this.wrappedRenderedExtent_=(0,xe.lJ)(),this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,o=t.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,h=l.getExtent(),f=this.getLayer().getSource(),p=t.pixelRatio,E=t.viewHints,D=!(E[0]||E[1]),H=this.compositionContext_,$=Math.round(t.size[0]*p),te=Math.round(t.size[1]*p),ae=f.getWrapX()&&l.canWrapX(),re=ae?(0,xe.dz)(h):null,pe=ae?Math.ceil((r[2]-h[2])/re)+1:1;let _e=ae?Math.floor((r[0]-h[0])/re):0;do{const Ie=this.getRenderTransform(s,a,c,p,$,te,_e*re);e.execute(H,1,Ie,c,D,void 0,i)}while(++_e<pe)}setupCompositionContext_(){if(1!==this.opacity_){const e=(0,Tn.E4)(this.context.canvas.width,this.context.canvas.height,CM);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,(0,Tn.jy)(this.compositionContext_),CM.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,r=e.layerStatesArray[e.layerIndex];(function R6(n,e,t){(function Oh(n,e,t,i,r,o,s){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n})(n,e,0,0,t,0,0)})(this.pixelTransform,1/i,1/i),rg(this.inversePixelTransform,this.pixelTransform);const o=Ub(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));const s=this.context,a=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return null;const h=Math.round(e.size[0]*i),f=Math.round(e.size[1]*i);a.width!=h||a.height!=f?(a.width=h,a.height=f,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||s.clearRect(0,0,h,f),this.preRender(s,e);const p=e.viewState;this.opacity_=r.opacity,this.setupCompositionContext_();let D=!1,H=!0;if(r.extent&&this.clipping){const $=ha(r.extent);H=(0,xe.kK)($,e.extent),D=H&&!(0,xe.r4)($,e.extent),D&&this.clipUnrotated(this.compositionContext_,e,$)}return H&&this.renderWorlds(l,e),D&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];Pi(this.pixelTransform,i);const r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),h=[],f=i[0]*os,p=i[1]*os;h.push(this.getRenderTransform(r,o,s,os,f,p,0).slice());const E=c.getSource(),D=a.getExtent();if(E.getWrapX()&&a.canWrapX()&&!(0,xe.r4)(D,l)){let H=l[0];const $=(0,xe.dz)(D);let ae,te=0;for(;H<D[0];)--te,ae=$*te,h.push(this.getRenderTransform(r,o,s,os,f,p,ae).slice()),H+=$;for(te=0,H=l[2];H>D[2];)++te,ae=$*te,h.push(this.getRenderTransform(r,o,s,os,f,p,ae).slice()),H-=$}this.hitDetectionImageData_=function xG(n,e,t,i,r,o,s){const c=(0,Tn.E4)(n[0]*os,n[1]*os);c.imageSmoothingEnabled=!1;const h=c.canvas,f=new EG(c,os,r,null,s),p=t.length,E=Math.floor(16777215/p),D={};for(let $=1;$<=p;++$){const te=t[$-1],ae=te.getStyleFunction()||i;if(!i)continue;let re=ae(te,o);if(!re)continue;Array.isArray(re)||(re=[re]);const _e=($*E).toString(16).padStart(7,"#00000");for(let Ie=0,Ae=re.length;Ie<Ae;++Ie){const je=re[Ie],at=je.getGeometryFunction()(te);if(!at||!(0,xe.kK)(r,at.getExtent()))continue;const ht=je.clone(),Gt=ht.getFill();Gt&&Gt.setColor(_e);const Ot=ht.getStroke();Ot&&(Ot.setColor(_e),Ot.setLineDash(null)),ht.setText(void 0);const Ct=je.getImage();if(Ct&&0!==Ct.getOpacity()){const Be=Ct.getImageSize();if(!Be)continue;const He=(0,Tn.E4)(Be[0],Be[1],void 0,{alpha:!1}),ft=He.canvas;He.fillStyle=_e,He.fillRect(0,0,ft.width,ft.height),ht.setImage(new Pg({img:ft,imgSize:Be,anchor:Ct.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Ct.getOrigin(),opacity:1,size:Ct.getSize(),scale:Ct.getScale(),rotation:Ct.getRotation(),rotateWithView:Ct.getRotateWithView()}))}const Fn=ht.getZIndex()||0;let Ht=D[Fn];Ht||(Ht={},D[Fn]=Ht,Ht.Polygon=[],Ht.Circle=[],Ht.LineString=[],Ht.Point=[]);const Fe=at.getType();if("GeometryCollection"===Fe){const Be=at.getGeometriesArrayRecursive();for(let He=0,ft=Be.length;He<ft;++He){const zt=Be[He];Ht[zt.getType().replace("Multi","")].push(zt,ht)}}else Ht[Fe.replace("Multi","")].push(at,ht)}}const H=Object.keys(D).map(Number).sort(Yt.j2);for(let $=0,te=H.length;$<te;++$){const ae=D[H[$]];for(const re in ae){const pe=ae[re];for(let _e=0,Ie=pe.length;_e<Ie;_e+=2){f.setStyle(pe[_e+1]);for(let Ae=0,je=e.length;Ae<je;++Ae)f.setTransform(e[Ae]),f.drawGeometry(pe[_e])}}}return c.getImageData(0,0,h.width,h.height)}(i,h,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}t(function CG(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*os),o=Math.floor(Math.round(n[1])*os),s=4*((0,dt.uZ)(r,0,t.width-1)+(0,dt.uZ)(o,0,t.height-1)*t.width),h=t.data[s+2]+256*(t.data[s+1]+256*t.data[s]),f=Math.floor(16777215/e.length);h&&h%f==0&&i.push(e[h/f-1])}return i}(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;const s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},h=function(E,D,H){const $=(0,tt.sq)(E),te=c[$];if(te){if(!0!==te&&H<te.distanceSq){if(0===H)return c[$]=!0,o.splice(o.lastIndexOf(te),1),r(E,l,D);te.geometry=D,te.distanceSq=H}}else{if(0===H)return c[$]=!0,r(E,l,D);o.push(c[$]={feature:E,layer:l,geometry:D,distanceSq:H,callback:r})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(E=>f=E.forEachFeatureAtCoordinate(e,s,a,i,h,E===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(D=>D.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[0],o=e.viewHints[1],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,h=c.projection,f=c.resolution,p=e.pixelRatio,E=t.getRevision(),D=t.getRenderBuffer();let H=t.getRenderOrder();void 0===H&&(H=DG);const $=c.center.slice(),te=(0,xe.f3)(l,D*f),ae=te.slice(),re=[te.slice()],pe=h.getExtent();if(i.getWrapX()&&h.canWrapX()&&!(0,xe.r4)(pe,e.extent)){const Fe=(0,xe.dz)(pe),Be=Math.max((0,xe.dz)(te)/2,Fe);te[0]=pe[0]-Be,te[2]=pe[2]+Be,Tb($,h);const He=(0,xe.Cf)(re[0],h);He[0]<pe[0]&&He[2]<pe[2]?re.push([He[0]+Fe,He[1],He[2]+Fe,He[3]]):He[0]>pe[0]&&He[2]>pe[2]&&re.push([He[0]-Fe,He[1],He[2]-Fe,He[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==E&&this.renderedRenderOrder_==H&&(0,xe.r4)(this.wrappedRenderedExtent_,te))return(0,Yt.fS)(this.renderedExtent_,ae)||(this.hitDetectionImageData_=null,this.renderedExtent_=ae),this.renderedCenter_=$,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const _e=new KA(Xv(f,p),te,f,p);let Ie;this.getLayer().getDeclutter()&&(Ie=new KA(Xv(f,p),te,f,p));const Ae=Rs();let je;if(Ae){for(let Fe=0,Be=re.length;Fe<Be;++Fe){const ft=ig(re[Fe]);i.loadFeatures(ft,f,Ae)}je=ua(Ae,h)}else for(let Fe=0,Be=re.length;Fe<Be;++Fe)i.loadFeatures(re[Fe],f,h);const at=function TG(n,e){const t=Xv(n,e);return t*t}(f,p);let ht=!0;const Gt=Fe=>{let Be;const He=Fe.getStyleFunction()||t.getStyleFunction();if(He&&(Be=He(Fe,f)),Be){const ft=this.renderFeature(Fe,at,Be,_e,je,Ie);ht=ht&&!ft}},Ot=ig(te),Ct=i.getFeaturesInExtent(Ot);H&&Ct.sort(H);for(let Fe=0,Be=Ct.length;Fe<Be;++Fe)Gt(Ct[Fe]);this.renderedFeatures_=Ct,this.ready=ht;const Fn=_e.finish(),Ht=new qA(te,f,p,i.getOverlaps(),Fn,t.getRenderBuffer());return Ie&&(this.declutterExecutorGroup=new qA(te,f,p,i.getOverlaps(),Ie.finish(),t.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=E,this.renderedRenderOrder_=H,this.renderedExtent_=ae,this.wrappedRenderedExtent_=te,this.renderedCenter_=$,this.renderedProjection_=h,this.replayGroup_=Ht,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,s){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let l=0,c=i.length;l<c;++l)a=QA(r,e,i[l],t,this.boundHandleStyleImageChange_,o,s)||a;else a=QA(r,e,i,t,this.boundHandleStyleImageChange_,o,s);return a}},su=class BG extends eG{constructor(e){super(e)}createRenderer(){return new VG(this)}};class Qv extends As.Z{constructor(e){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){const e=new Qv(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,vt.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=(0,vt.oL)(e,Lt.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function zG(n){if("function"==typeof n)return n;let e;return Array.isArray(n)?e=n:((0,sn.h)("function"==typeof n.getZIndex,41),e=[n]),function(){return e}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const au=Qv;class Og extends II{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(vt.bN),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,vt.oL)(this.geometries_[e],Lt.Z.CHANGE,this.changed,this))}clone(){const e=new Og(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<(0,xe.qf)(this.getExtent(),e,t))return r;const o=this.geometries_;for(let s=0,a=o.length;s<a;++s)r=o[s].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){(0,xe.YN)(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)(0,xe.l7)(e,t[i].getExtent());return e}getGeometries(){return e2(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let o=0,s=i.length;o<s;++o){const a=i[o],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(r=!0)}if(r){const o=new Og(null);return o.setGeometriesArray(t),o}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=(0,xe.qg)(this.getExtent()));const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)r[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(e2(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function e2(n){const e=[];for(let t=0,i=n.length;t<i;++t)e.push(n[t].clone());return e}const Sa=Og,t2=class jG{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?vn(t.dataProjection):this.readProjection(e);t.extent&&i&&"tile-pixels"===i.getUnits()&&(i=vn(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return(0,tt.O3)()}readFeature(e,t){return(0,tt.O3)()}readFeatures(e,t){return(0,tt.O3)()}readGeometry(e,t){return(0,tt.O3)()}readProjection(e){return(0,tt.O3)()}writeFeature(e,t){return(0,tt.O3)()}writeFeatures(e,t){return(0,tt.O3)()}writeGeometry(e,t){return(0,tt.O3)()}};function Fg(n,e,t){const i=t?vn(t.featureProjection):null,r=t?vn(t.dataProjection):null;let o;if(o=i&&r&&!pl(i,r)?(e?n.clone():n).transform(e?i:r,e?r:i):n,e&&t&&void 0!==t.decimals){const s=Math.pow(10,t.decimals),a=function(l){for(let c=0,h=l.length;c<h;++c)l[c]=Math.round(l[c]*s)/s;return l};o===n&&(o=n.clone()),o.applyTransform(a)}return o}function Lg(n){return"string"==typeof n?JSON.parse(n)||null:null!==n?n:null}const GG=class UG extends t2{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Lg(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Lg(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,tt.O3)()}readFeaturesFromObject(e,t){return(0,tt.O3)()}readGeometry(e,t){return this.readGeometryFromObject(Lg(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,tt.O3)()}readProjection(e){return this.readProjectionFromObject(Lg(e))}readProjectionFromObject(e){return(0,tt.O3)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,tt.O3)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,tt.O3)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,tt.O3)()}};function n2(n,e,t,i,r,o,s){let a,l;const c=(t-e)/i;if(1===c)a=e;else if(2===c)a=e,l=r;else if(0!==c){let h=n[e],f=n[e+1],p=0;const E=[0];for(let $=e+i;$<t;$+=i){const te=n[$],ae=n[$+1];p+=Math.sqrt((te-h)*(te-h)+(ae-f)*(ae-f)),E.push(p),h=te,f=ae}const D=r*p,H=(0,Yt.ry)(E,D);H<0?(l=(D-E[-H-2])/(E[-H-1]-E[-H-2]),a=e+(-H-2)*i):a=e+H*i}s=s>1?s:2,o=o||new Array(s);for(let h=0;h<s;++h)o[h]=void 0===a?NaN:void 0===l?n[a+h]:(0,dt.t7)(n[a+h],n[a+i+h],l);return o}function Jv(n,e,t,i,r,o){if(t==e)return null;let s;if(r<n[e+i-1])return o?(s=n.slice(e,e+i),s[i-1]=r,s):null;if(n[t-1]<r)return o?(s=n.slice(t-i,t),s[i-1]=r,s):null;if(r==n[e+i-1])return n.slice(e,e+i);let a=e/i,l=t/i;for(;a<l;){const p=a+l>>1;r<n[(p+1)*i-1]?l=p:a=p+1}const c=n[a*i-1];if(r==c)return n.slice((a-1)*i,(a-1)*i+i);const f=(r-c)/(n[(a+1)*i-1]-c);s=[];for(let p=0;p<i-1;++p)s.push((0,dt.t7)(n[(a-1)*i+p],n[a*i+p],f));return s.push(r),s}class Ng extends _l{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){this.flatCoordinates?(0,Yt.l7)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Ng(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<(0,xe.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return NI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:Jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t=void 0!==t&&t)}getCoordinates(){return da(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return n2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Yv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Ng(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return lg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=og(this.flatCoordinates,0,e,this.stride),this.changed()}}const cd=Ng;class Vg extends _l{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let r=this.getLayout();const o=e,s=[],a=[];for(let l=0,c=o.length;l<c;++l){const h=o[l];0===l&&(r=h.getLayout()),(0,Yt.l7)(s,h.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}appendLineString(e){this.flatCoordinates?(0,Yt.l7)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Vg(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<(0,xe.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hb(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zb(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function HG(n,e,t,i,r,o,s){if(s)return Jv(n,e,t[t.length-1],i,r,o);let a;if(r<n[i-1])return o?(a=n.slice(0,i),a[i-1]=r,a):null;if(n[n.length-1]<r)return o?(a=n.slice(n.length-i),a[i-1]=r,a):null;for(let l=0,c=t.length;l<c;++l){const h=t[l];if(e!=h){if(r<n[e+i-1])return null;if(r<=n[h-1])return Jv(n,e,h,i,r,!1);e=h}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t=void 0!==t&&t,i=void 0!==i&&i)}getCoordinates(){return Fh(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new cd(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s],c=new cd(e.slice(o,l),i);r.push(c),o=l}return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let s=0,a=r.length;s<a;++s){const l=r[s],c=n2(t,i,l,o,.5);(0,Yt.l7)(e,c),i=l}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=function RI(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){const h=t[l];s=sg(n,e,h,i,r,o,s),a.push(s),e=h}return s}(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new Vg(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return function q6(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){if(lg(n,e,t[o],i,r))return!0;e=t[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Kb(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const ew=Vg;class tw extends _l{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?(0,Yt.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new tw(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<(0,xe.qf)(this.getExtent(),e,t))return r;const o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){const c=(0,dt.bI)(e,t,o[a],o[a+1]);if(c<r){r=c;for(let h=0;h<s;++h)i[h]=o[a+h];i.length=s}}return r}getCoordinates(){return da(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){return e<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=e?null:new Zc(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let o=0,s=e.length;o<s;o+=i){const a=new Zc(e.slice(o,o+i),t);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,o=t.length;r<o;r+=i)if((0,xe.jE)(e,t[r],t[r+1]))return!0;return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=og(this.flatCoordinates,0,e,this.stride),this.changed()}}const nw=tw;class Bg extends _l{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let r=this.getLayout();const o=e,s=[],a=[];for(let l=0,c=o.length;l<c;++l){const h=o[l];0===l&&(r=h.getLayout());const f=s.length,p=h.getEnds();for(let E=0,D=p.length;E<D;++E)p[E]+=f;(0,Yt.l7)(s,h.getFlatCoordinates()),a.push(p)}t=r,e=s,i=a}void 0!==t&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const i=this.flatCoordinates.length;(0,Yt.l7)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,o=t.length;r<o;++r)t[r]+=i}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new Bg(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<(0,xe.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function B6(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];r=Hb(n,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function z6(n,e,t,i,r,o,s,a,l,c,h){h=h||[NaN,NaN];for(let f=0,p=t.length;f<p;++f){const E=t[f];c=Zb(n,e,E,i,r,o,s,a,l,c,h),e=E[E.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return function Y6(n,e,t,i,r,o){if(0===t.length)return!1;for(let s=0,a=t.length;s<a;++s){const l=t[s];if(qb(n,e,l,i,r,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function Z6(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];r+=OI(n,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),jI(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Yb(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=function WG(n,e,t,i){const r=[];let o=(0,xe.lJ)();for(let s=0,a=t.length;s<a;++s){const l=t[s];o=(0,xe.GN)(n,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function $6(n,e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;++s){const l=t[s];o=LI(n,e,l,i,r,2*s,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new nw(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function J6(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(!zI(n,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}(e,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=jI(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=function W6(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){const h=t[l],f=[];s=PI(n,e,h,i,r,o,s,f),a.push(f),e=h[h.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new Bg(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(0!==t)for(let o=0,s=i.length;o<s;++o)i[o]-=t;return new Kc(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let s=0,a=i.length;s<a;++s){const l=i[s].slice(),c=l[l.length-1];if(0!==o)for(let f=0,p=l.length;f<p;++f)l[f]-=o;const h=new Kc(t.slice(o,c),e,l);r.push(h),o=c}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function X6(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(BI(n,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=function U6(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=Kb(n,e,t[s],i,r[o]);0===l.length&&(l[0]=e),r[o++]=l,e=l[l.length-1]}return r.length=o,r}(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}}const r2=Bg;function iw(n,e){if(!n)return null;let t;switch(n.type){case"Point":t=function YG(n){return new Zc(n.coordinates)}(n);break;case"LineString":t=function $G(n){return new cd(n.coordinates)}(n);break;case"Polygon":t=function JG(n){return new Kc(n.coordinates)}(n);break;case"MultiPoint":t=function XG(n){return new nw(n.coordinates)}(n);break;case"MultiLineString":t=function qG(n){return new ew(n.coordinates)}(n);break;case"MultiPolygon":t=function QG(n){return new r2(n.coordinates)}(n);break;case"GeometryCollection":t=function KG(n,e){const t=n.geometries.map(function(i){return iw(i,e)});return new Sa(t)}(n);break;default:throw new Error("Unsupported GeoJSON type: "+n.type)}return Fg(t,!1,e)}function rw(n,e){const t=(n=Fg(n,!0,e)).getType();let i;switch(t){case"Point":i=function oH(n,e){return{type:"Point",coordinates:n.getCoordinates()}}(n);break;case"LineString":i=function tH(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}(n);break;case"Polygon":i=function sH(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}(n,e);break;case"MultiPoint":i=function iH(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}(n);break;case"MultiLineString":i=function nH(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}(n);break;case"MultiPolygon":i=function rH(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}(n,e);break;case"GeometryCollection":i=function eH(n,e){delete(e=Object.assign({},e)).featureProjection;const t=n.getGeometriesArray().map(function(i){return rw(i,e)});return{type:"GeometryCollection",geometries:t}}(n,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+t)}return i}const ud=class ZG extends GG{constructor(e){e=e||{},super(),this.dataProjection=vn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=vn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;i="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const r=iw(i.geometry,t),o=new au;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i.geometry_name),o.setGeometry(r),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){let r=null;if("FeatureCollection"===e.type){r=[];const s=e.features;for(let a=0,l=s.length;a<l;++a)r.push(this.readFeatureFromObject(s[a],t))}else r=[this.readFeatureFromObject(e,t)];return r}readGeometryFromObject(e,t){return iw(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?"name"==t.type?i=vn(t.properties.name):"EPSG"===t.type?i=vn("EPSG:"+t.properties.code):(0,sn.h)(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(i.id=r),!e.hasProperties())return i;const o=e.getProperties(),s=e.getGeometry();return s&&(i.geometry=rw(s,t),delete o[e.getGeometryName()]),(0,ga.x)(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,o=e.length;r<o;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return rw(e,this.adaptOptions(t))}},lH=class aH extends As.Z{constructor(e){super(),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener("element",this.handleElementChanged),this.addChangeListener("map",this.handleMapChanged),this.addChangeListener("offset",this.handleOffsetChanged),this.addChangeListener("position",this.handlePositionChanged),this.addChangeListener("positioning",this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get("element")}getId(){return this.id}getMap(){return this.get("map")||null}getOffset(){return this.get("offset")}getPosition(){return this.get("position")}getPositioning(){return this.get("positioning")}handleElementChanged(){(0,Tn.ep)(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,Tn.ZF)(this.element),(0,vt.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,vt.oL)(e,_a.Z.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set("element",e)}setMap(e){this.set("map",e)}setOffset(e){this.set("offset",e)}setPosition(e){this.set("position",e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get("position"))return;const i=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),o=this.getRect(r,[(0,Tn.iO)(r),(0,Tn.Pb)(r)]),s=void 0===(e=e||{}).margin?20:e.margin;if(!(0,xe.r4)(i,o)){const a=o[0]-i[0],l=i[2]-o[2],c=o[1]-i[1],h=i[3]-o[3],f=[0,0];if(a<0?f[0]=a-s:l<0&&(f[0]=Math.abs(l)+s),c<0?f[1]=c-s:h<0&&(f[1]=Math.abs(h)+s),0!==f[0]||0!==f[1]){const p=t.getView().getCenterInternal(),E=t.getPixelFromCoordinateInternal(p);if(!E)return;const D=[E[0]+f[0],E[1]+f[1]],H=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(D),duration:H.duration,easing:H.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+t[0],o+t[1]]}setPositioning(e){this.set("positioning",e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,t){const i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let l="0%",c="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?l="-100%":("bottom-center"==o||"center-center"==o||"top-center"==o)&&(l="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?c="-100%":("center-left"==o||"center-center"==o||"center-right"==o)&&(c="-50%");const h=`translate(${l}, ${c}) translate(${Math.round(e[0]+r[0])+"px"}, ${Math.round(e[1]+r[1])+"px"})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,i.transform=h)}getOptions(){return this.options}},o2="http://www.w3.org/2001/XMLSchema-instance";function hd(n,e){return Ug().createElementNS(n,e)}function ss(n,e){return s2(n,e,[]).join("")}function s2(n,e,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)t.push(e?String(n.nodeValue).replace(/(\r\n|\r|\n)/g,""):n.nodeValue);else{let i;for(i=n.firstChild;i;i=i.nextSibling)s2(i,e,t)}return t}function Da(n){return"documentElement"in n}function Ta(n){return(new DOMParser).parseFromString(n,"application/xml")}function a2(n,e){return function(t,i){const r=n.call(void 0!==e?e:this,t,i);void 0!==r&&(0,Yt.l7)(i[i.length-1],r)}}function as(n,e){return function(t,i){const r=n.call(void 0!==e?e:this,t,i);void 0!==r&&i[i.length-1].push(r)}}function ow(n,e){return function(t,i){const r=n.call(void 0!==e?e:this,t,i);void 0!==r&&(i[i.length-1]=r)}}function Gr(n,e,t){return function(i,r){const o=n.call(void 0!==t?t:this,i,r);if(void 0!==o){const s=r[r.length-1],a=void 0!==e?e:i.localName;let l;a in s?l=s[a]:(l=[],s[a]=l),l.push(o)}}}function ze(n,e,t){return function(i,r){const o=n.call(void 0!==t?t:this,i,r);void 0!==o&&(r[r.length-1][void 0!==e?e:i.localName]=o)}}function Rt(n,e){return function(t,i,r){n.call(void 0!==e?e:this,t,i,r),r[r.length-1].node.appendChild(t)}}function ls(n,e){return function(t,i,r){let a=n;return void 0===a&&(a=r),hd(void 0!==e?e:i[i.length-1].node.namespaceURI,a)}}const oo=ls();function Ao(n,e){const t=e.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=n[e[r]];return i}function ut(n,e,t){let i,r;for(t=void 0!==t?t:{},i=0,r=n.length;i<r;++i)t[n[i]]=e;return t}function lu(n,e,t,i){let r;for(r=e.firstElementChild;r;r=r.nextElementSibling){const o=n[r.namespaceURI];if(void 0!==o){const s=o[r.localName];void 0!==s&&s.call(i,r,t)}}}function Qt(n,e,t,i,r){return i.push(n),lu(e,t,i,r),i.pop()}function mi(n,e,t,i,r,o,s){return r.push(n),function l2(n,e,t,i,r,o){const s=(void 0!==r?r:t).length;let a,l;for(let c=0;c<s;++c)a=t[c],void 0!==a&&(l=e.call(void 0!==o?o:this,a,i,void 0!==r?r[c]:void 0),void 0!==l&&n[l.namespaceURI][l.localName].call(o,l,a,i))}(e,t,i,r,o,s),r.pop()}let zg,jg;function Ug(){return void 0===jg&&typeof document<"u"&&(jg=document.implementation.createDocument("","",null)),jg}function Ia(n){return Dl(ss(n,!1))}function Dl(n){const e=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(e)return void 0!==e[1]||!1}function ii(n){return Bs(ss(n,!1))}function Bs(n){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(e)return parseFloat(e[1])}function sw(n){return Gg(ss(n,!1))}function Gg(n){const e=/^\s*(\d+)\s*$/.exec(n);if(e)return parseInt(e[1],10)}function Zt(n){return ss(n,!1).trim()}function cu(n,e){Ro(n,e?"1":"0")}function Tl(n,e){const t=e.toPrecision();n.appendChild(Ug().createTextNode(t))}function Ro(n,e){n.appendChild(Ug().createTextNode(e))}function aw(n){return n.getAttributeNS("http://www.w3.org/1999/xlink","href")}const Gi=[null,"http://www.opengis.net/wms"],pH=ut(Gi,{Service:ze(function FH(n,e){return Qt({},_H,n,e)}),Capability:ze(function OH(n,e){return Qt({},gH,n,e)})}),gH=ut(Gi,{Request:ze(function UH(n,e){return Qt({},CH,n,e)}),Exception:ze(function BH(n,e){return Qt([],wH,n,e)}),Layer:ze(function zH(n,e){const t=Qt({},c2,n,e);return void 0===t.Layer?Object.assign(t,u2(n,e)):t})}),_H=ut(Gi,{Name:ze(Zt),Title:ze(Zt),Abstract:ze(Zt),KeywordList:ze(d2),OnlineResource:ze(aw),ContactInformation:ze(function LH(n,e){return Qt({},yH,n,e)}),Fees:ze(Zt),AccessConstraints:ze(Zt),LayerLimit:ze(sw),MaxWidth:ze(sw),MaxHeight:ze(sw)}),yH=ut(Gi,{ContactPersonPrimary:ze(function NH(n,e){return Qt({},bH,n,e)}),ContactPosition:ze(Zt),ContactAddress:ze(function VH(n,e){return Qt({},vH,n,e)}),ContactVoiceTelephone:ze(Zt),ContactFacsimileTelephone:ze(Zt),ContactElectronicMailAddress:ze(Zt)}),bH=ut(Gi,{ContactPerson:ze(Zt),ContactOrganization:ze(Zt)}),vH=ut(Gi,{AddressType:ze(Zt),Address:ze(Zt),City:ze(Zt),StateOrProvince:ze(Zt),PostCode:ze(Zt),Country:ze(Zt)}),wH=ut(Gi,{Format:as(Zt)}),c2=ut(Gi,{Name:ze(Zt),Title:ze(Zt),Abstract:ze(Zt),KeywordList:ze(d2),CRS:Gr(Zt),EX_GeographicBoundingBox:ze(function kH(n,e){const t=Qt({},xH,n,e);if(!t)return;const i=t.westBoundLongitude,r=t.southBoundLatitude,o=t.eastBoundLongitude,s=t.northBoundLatitude;return void 0!==i&&void 0!==r&&void 0!==o&&void 0!==s?[i,r,o,s]:void 0}),BoundingBox:Gr(function PH(n,e){const t=[Bs(n.getAttribute("minx")),Bs(n.getAttribute("miny")),Bs(n.getAttribute("maxx")),Bs(n.getAttribute("maxy"))],i=[Bs(n.getAttribute("resx")),Bs(n.getAttribute("resy"))];return{crs:n.getAttribute("CRS"),extent:t,res:i}}),Dimension:Gr(function jH(n,e){return{name:n.getAttribute("name"),units:n.getAttribute("units"),unitSymbol:n.getAttribute("unitSymbol"),default:n.getAttribute("default"),multipleValues:Dl(n.getAttribute("multipleValues")),nearestValue:Dl(n.getAttribute("nearestValue")),current:Dl(n.getAttribute("current")),values:Zt(n)}}),Attribution:ze(function RH(n,e){return Qt({},EH,n,e)}),AuthorityURL:Gr(function WH(n,e){const t=zs(n,e);if(t)return t.name=n.getAttribute("name"),t}),Identifier:Gr(Zt),MetadataURL:Gr(function ZH(n,e){const t=zs(n,e);if(t)return t.type=n.getAttribute("type"),t}),DataURL:Gr(zs),FeatureListURL:Gr(zs),Style:Gr(function KH(n,e){return Qt({},IH,n,e)}),MinScaleDenominator:ze(ii),MaxScaleDenominator:ze(ii),Layer:Gr(u2)}),EH=ut(Gi,{Title:ze(Zt),OnlineResource:ze(aw),LogoURL:ze(h2)}),xH=ut(Gi,{westBoundLongitude:ze(ii),eastBoundLongitude:ze(ii),southBoundLatitude:ze(ii),northBoundLatitude:ze(ii)}),CH=ut(Gi,{GetCapabilities:ze(lw),GetMap:ze(lw),GetFeatureInfo:ze(lw)}),SH=ut(Gi,{Format:Gr(Zt),DCPType:Gr(function GH(n,e){return Qt({},DH,n,e)})}),DH=ut(Gi,{HTTP:ze(function HH(n,e){return Qt({},TH,n,e)})}),TH=ut(Gi,{Get:ze(zs),Post:ze(zs)}),IH=ut(Gi,{Name:ze(Zt),Title:ze(Zt),Abstract:ze(Zt),LegendURL:Gr(h2),StyleSheetURL:ze(zs),StyleURL:ze(zs)}),MH=ut(Gi,{Format:ze(Zt),OnlineResource:ze(aw)}),AH=ut(Gi,{Keyword:as(Zt)});function u2(n,e){const t=e[e.length-1],i=Qt({},c2,n,e);if(!i)return;let r=Dl(n.getAttribute("queryable"));void 0===r&&(r=t.queryable),i.queryable=void 0!==r&&r;let o=Gg(n.getAttribute("cascaded"));void 0===o&&(o=t.cascaded),i.cascaded=o;let s=Dl(n.getAttribute("opaque"));void 0===s&&(s=t.opaque),i.opaque=void 0!==s&&s;let a=Dl(n.getAttribute("noSubsets"));void 0===a&&(a=t.noSubsets),i.noSubsets=void 0!==a&&a;let l=Bs(n.getAttribute("fixedWidth"));l||(l=t.fixedWidth),i.fixedWidth=l;let c=Bs(n.getAttribute("fixedHeight"));return c||(c=t.fixedHeight),i.fixedHeight=c,["Style","CRS","AuthorityURL"].forEach(function(p){p in t&&(i[p]=(i[p]||[]).concat(t[p]))}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(p){p in i||(i[p]=t[p])}),i}function zs(n,e){return Qt({},MH,n,e)}function lw(n,e){return Qt({},SH,n,e)}function h2(n,e){const t=zs(n,e);if(t){const i=[Gg(n.getAttribute("width")),Gg(n.getAttribute("height"))];return t.size=i,t}}function d2(n,e){return Qt([],AH,n,e)}var f2=ie(7871);let Hg=null;class qH extends ks.ZP{constructor(e,t,i,r){super(e),this.features=i,this.file=t,this.projection=r}}const QH=class XH extends El{constructor(e){e=e||{},super({handleEvent:Ui.uX}),this.readAsBuffer_=!1,this.formats_=[];const t=e.formatConstructors?e.formatConstructors:[];for(let i=0,r=t.length;i<r;++i){let o=t[i];"function"==typeof o&&(o=new o),this.formats_.push(o),this.readAsBuffer_=this.readAsBuffer_||"arraybuffer"===o.getType()}this.projection_=e.projection?vn(e.projection):null,this.dropListenKeys_=null,this.source_=e.source||null,this.target=e.target?e.target:null}handleResult_(e,t){const i=t.target.result,r=this.getMap();let s,o=this.projection_;o||(o=Rs(),o||(o=r.getView().getProjection()));const a=this.formats_;for(let l=0,c=a.length;l<c;++l){const h=a[l];let f=i;this.readAsBuffer_&&"arraybuffer"!==h.getType()&&(void 0===s&&(s=(new TextDecoder).decode(i)),f=s);const p=this.tryReadFeatures_(h,f,{featureProjection:o});if(p&&p.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(p)),this.dispatchEvent(new qH("addfeatures",e,p,o));break}}}registerListeners_(){const e=this.getMap();if(e){const t=this.target?this.target:e.getViewport();this.dropListenKeys_=[(0,vt.oL)(t,Lt.Z.DROP,this.handleDrop,this),(0,vt.oL)(t,Lt.Z.DRAGENTER,this.handleStop,this),(0,vt.oL)(t,Lt.Z.DRAGOVER,this.handleStop,this),(0,vt.oL)(t,Lt.Z.DROP,this.handleStop,this)]}}setActive(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),super.setActive(e)}setMap(e){this.unregisterListeners_(),super.setMap(e),this.getActive()&&this.registerListeners_()}tryReadFeatures_(e,t,i){try{return e.readFeatures(t,i)}catch{return null}}unregisterListeners_(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(vt.bN),this.dropListenKeys_=null)}handleDrop(e){const t=e.dataTransfer.files;for(let i=0,r=t.length;i<r;++i){const o=t.item(i),s=new FileReader;s.addEventListener(Lt.Z.LOAD,this.handleResult_.bind(this,o)),this.readAsBuffer_?s.readAsArrayBuffer(o):s.readAsText(o)}}handleStop(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}};class e7 extends ks.ZP{constructor(e,t,i,r){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=r}}const Wg={};class hw extends El{constructor(e){let t;if(super(),e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:dM,this.addCondition_=e.addCondition?e.addCondition:hM,this.removeCondition_=e.removeCondition?e.removeCondition:hM,this.toggleCondition_=e.toggleCondition?e.toggleCondition:lv,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:Ui.uX,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function t7(){const n=zA();return(0,Yt.l7)(n.Polygon,n.LineString),(0,Yt.l7)(n.GeometryCollection,n.LineString),function(e){return e.getGeometry()?n[e.getGeometry().getType()]:null}}(),this.features_=e.features||new Mo.Z,e.layers)if("function"==typeof e.layers)t=e.layers;else{const i=e.layers;t=function(r){return i.includes(r)}}else t=Ui.uX;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,tt.sq)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,tt.sq)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(Dr.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(Dr.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Dr.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(Dr.Z.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(r){if(r instanceof su&&r.getSource()&&r.getSource().hasFeature(t))return r});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=(0,tt.sq)(e);t in Wg||(Wg[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let r=t.length-1;r>=0;--r){const o=t[r];if(o!==this&&o instanceof hw&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(o.getStyle())}const i=(0,tt.sq)(e);e.setStyle(Wg[i]),delete Wg[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[(0,tt.sq)(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),r=this.toggleCondition_(e),o=!t&&!i&&!r,s=e.map,a=this.getFeatures(),l=[],c=[];if(o){(0,ga.Z)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(h instanceof au&&this.filter_(h,f))return this.addFeatureLayerAssociation_(h,f),c.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=a.getLength()-1;h>=0;--h){const f=a.item(h),p=c.indexOf(f);p>-1?c.splice(p,1):(a.remove(f),l.push(f))}0!==c.length&&a.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(h instanceof au&&this.filter_(h,f))return!t&&!r||a.getArray().includes(h)?(i||r)&&a.getArray().includes(h)&&(l.push(h),this.removeFeatureLayerAssociation_(h)):(this.addFeatureLayerAssociation_(h,f),c.push(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.length-1;h>=0;--h)a.remove(l[h]);a.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new e7("select",c,l,e)),!0}}const n7=hw,m2=[0,0,0,0],uu=[];class fw extends ks.ZP{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}}function r7(n,e){return n.index-e.index}function _2(n,e,t){const i=e.geometry;if("Circle"===i.getType()){let o=i;if(1===e.index){const s=Rs();s&&(o=o.clone().transform(s,t));const a=Ah(o.getCenter(),Di(n)),l=Math.sqrt(a)-o.getRadius();return l*l}}const r=Di(n);return uu[0]=Di(e.segment[0]),uu[1]=Di(e.segment[1]),function p6(n,e){return Ah(n,dI(n,e))}(r,uu)}function y2(n,e,t){const i=e.geometry;if("Circle"===i.getType()&&1===e.index){let o=i;const s=Rs();return s&&(o=o.clone().transform(s,t)),kh(o.getClosestPoint(Di(n)))}const r=Di(n);return uu[0]=Di(e.segment[0]),uu[1]=Di(e.segment[1]),kh(dI(r,uu))}function o7(){const n=zA();return function(e,t){return n.Point}}const s7=class i7 extends Xc{constructor(e){let t;if(super(e),this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:gM,this.defaultDeleteCondition_=function(i){return function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}(i)&&dM(i)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:cM,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new Vv,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new su({source:new nd({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:o7(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,e.features?t=e.features:e.source&&(this.source_=e.source,t=new Mo.Z(this.source_.getFeatures()),this.source_.addEventListener("addfeature",this.handleSourceAdd_.bind(this)),this.source_.addEventListener("removefeature",this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(Dr.Z.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(Dr.Z.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===e.snapToPointer?!this.hitDetection_:e.snapToPointer}addFeature_(e){const t=e.getGeometry();if(t){const r=this.SEGMENT_WRITERS_[t.getType()];r&&r(e,t)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(Lt.Z.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Mo.Z;const i=this.featuresBeingModified_.getArray();for(let r=0,o=t.length;r<o;++r){const s=t[r];for(let a=0,l=s.length;a<l;++a){const c=s[a].feature;c&&!i.includes(c)&&this.featuresBeingModified_.push(c)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new fw("modifystart",this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Lt.Z.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const t=this.rBush_,i=[];t.forEach(function(r){e===r.feature&&i.push(r)});for(let r=i.length-1;r>=0;--r){const o=i[r];for(let s=this.dragSegments_.length-1;s>=0;--s)this.dragSegments_[s][0]===o&&this.dragSegments_.splice(s,1);t.remove(o)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){const i=t.getCoordinates(),r={feature:e,geometry:t,segment:[i,i]};this.rBush_.insert(t.getExtent(),r)}writeMultiPointGeometry_(e,t){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r){const s=i[r],a={feature:e,geometry:t,depth:[r],index:r,segment:[s,s]};this.rBush_.insert(t.getExtent(),a)}}writeLineStringGeometry_(e,t){const i=t.getCoordinates();for(let r=0,o=i.length-1;r<o;++r){const s=i.slice(r,r+2),a={feature:e,geometry:t,index:r,segment:s};this.rBush_.insert((0,xe.hI)(s),a)}}writeMultiLineStringGeometry_(e,t){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r){const s=i[r];for(let a=0,l=s.length-1;a<l;++a){const c=s.slice(a,a+2),h={feature:e,geometry:t,depth:[r],index:a,segment:c};this.rBush_.insert((0,xe.hI)(c),h)}}}writePolygonGeometry_(e,t){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r){const s=i[r];for(let a=0,l=s.length-1;a<l;++a){const c=s.slice(a,a+2),h={feature:e,geometry:t,depth:[r],index:a,segment:c};this.rBush_.insert((0,xe.hI)(c),h)}}}writeMultiPolygonGeometry_(e,t){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r){const s=i[r];for(let a=0,l=s.length;a<l;++a){const c=s[a];for(let h=0,f=c.length-1;h<f;++h){const p=c.slice(h,h+2),E={feature:e,geometry:t,depth:[a,r],index:h,segment:p};this.rBush_.insert((0,xe.hI)(p),E)}}}}writeCircleGeometry_(e,t){const i=t.getCenter(),r={feature:e,geometry:t,index:0,segment:[i,i]},o={feature:e,geometry:t,index:1,segment:[i,i]},s=[r,o];r.featureSegments=s,o.featureSegments=s,this.rBush_.insert((0,xe.HK)(i),r);let a=t;const l=Rs();if(l&&this.getMap()){const c=this.getMap().getView().getProjection();a=a.clone().transform(l,c),a=GI(a).transform(c,l)}this.rBush_.insert(a.getExtent(),o)}writeGeometryCollectionGeometry_(e,t){const i=t.getGeometriesArray();for(let r=0;r<i.length;++r){const o=i[r];(0,this.SEGMENT_WRITERS_[o.getType()])(e,o)}}createOrUpdateVertexFeature_(e,t,i){let r=this.vertexFeature_;return r?r.getGeometry().setCoordinates(e):(r=new au(new Zc(e)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r)),r.set("features",t),r.set("geometries",i),r}handleEvent(e){if(!e.originalEvent)return!0;let t;return this.lastPointerEvent_=e,!e.map.getView().getInteracting()&&e.type==Bn.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=Bn.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==Bn.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],r=[];for(let o=0,s=this.dragSegments_.length;o<s;++o){const a=this.dragSegments_[o],l=a[0],c=l.feature;i.includes(c)||i.push(c);const h=l.geometry;r.includes(h)||r.push(h);const f=l.depth;let p;const E=l.segment,D=a[1];for(;t.length<h.getStride();)t.push(E[D][t.length]);switch(h.getType()){case"Point":p=t,E[0]=t,E[1]=t;break;case"MultiPoint":p=h.getCoordinates(),p[l.index]=t,E[0]=t,E[1]=t;break;case"LineString":p=h.getCoordinates(),p[l.index+D]=t,E[D]=t;break;case"MultiLineString":case"Polygon":p=h.getCoordinates(),p[f[0]][l.index+D]=t,E[D]=t;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][l.index+D]=t,E[D]=t;break;case"Circle":if(E[0]=t,E[1]=t,0===l.index)this.changingFeature_=!0,h.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;const H=e.map.getView().getProjection();let $=pI(Di(h.getCenter()),Di(t));const te=Rs();if(te){const ae=h.clone().transform(te,H);ae.setRadius($),$=ae.transform(H,te).getRadius()}h.setRadius($),this.changingFeature_=!1}}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(t,i,r)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;const i=this.vertexFeature_;if(i){const r=e.map.getView().getProjection(),o=[],s=i.getGeometry().getCoordinates(),a=(0,xe.hI)([s]),l=this.rBush_.getInExtent(a),c={};l.sort(r7);for(let h=0,f=l.length;h<f;++h){const p=l[h],E=p.segment;let D=(0,tt.sq)(p.geometry);const H=p.depth;if(H&&(D+="-"+H.join("-")),c[D]||(c[D]=new Array(2)),"Circle"!==p.geometry.getType()||1!==p.index)if(!Do(E[0],s)||c[D][0])if(!Do(E[1],s)||c[D][1])(0,tt.sq)(E)in this.vertexSegments_&&!c[D][0]&&!c[D][1]&&this.insertVertexCondition_(e)&&o.push(p);else{if(c[D][0]&&0===c[D][0].index){let $=p.geometry.getCoordinates();switch(p.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":$=$[H[1]];case"Polygon":if(p.index!==$[H[0]].length-2)continue}}this.dragSegments_.push([p,1]),c[D][1]=p}else this.dragSegments_.push([p,0]),c[D][0]=p;else Do(y2(t,p,r),s)&&!c[D][0]&&(this.dragSegments_.push([p,0]),c[D][0]=p)}o.length&&this.willModifyFeatures_(e,[o]);for(let h=o.length-1;h>=0;--h)this.insertVertex_(o[h],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const i=this.dragSegments_[t][0],r=i.geometry;if("Circle"===r.getType()){const o=r.getCenter(),s=i.featureSegments[0],a=i.featureSegments[1];s.segment[0]=o,s.segment[1]=o,a.segment[0]=o,a.segment[1]=o,this.rBush_.update((0,xe.HK)(o),s);let l=r;const c=Rs();if(c){const h=e.map.getView().getProjection();l=l.clone().transform(c,h),l=GI(l).transform(h,c)}this.rBush_.update(l.getExtent(),a)}else this.rBush_.update((0,xe.hI)(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new fw("modifyend",this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,t,i){const r=i||t.getCoordinateFromPixel(e),o=t.getView().getProjection(),s=function(c,h){return _2(r,c,o)-_2(r,h,o)};let a,l;if(this.hitDetection_&&t.forEachFeatureAtPixel(e,(h,f,p)=>{const E=p||h.getGeometry();if("Point"===E.getType()&&h instanceof au&&this.features_.getArray().includes(h)){l=E;const D=l.getFlatCoordinates().slice(0,2);a=[{feature:h,geometry:l,segment:[D,D]}]}return!0},{layerFilter:"object"==typeof this.hitDetection_?h=>h===this.hitDetection_:void 0}),!a){const c=ha((0,xe.HK)(r,m2)),h=t.getView().getResolution()*this.pixelTolerance_,f=ig((0,xe.f3)(c,h,m2));a=this.rBush_.getInExtent(f)}if(a&&a.length>0){const c=a.sort(s)[0],h=c.segment;let f=y2(r,c,o);const p=t.getPixelFromCoordinate(f);let E=pI(e,p);if(l||E<=this.pixelTolerance_){const D={};if(D[(0,tt.sq)(h)]=!0,this.snapToPointer_||(this.delta_[0]=f[0]-r[0],this.delta_[1]=f[1]-r[1]),"Circle"===c.geometry.getType()&&1===c.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(f,[c.feature],[c.geometry]);else{const H=t.getPixelFromCoordinate(h[0]),$=t.getPixelFromCoordinate(h[1]),te=Ah(p,H),ae=Ah(p,$);E=Math.sqrt(Math.min(te,ae)),this.snappedToVertex_=E<=this.pixelTolerance_,this.snappedToVertex_&&(f=te>ae?h[1]:h[0]),this.createOrUpdateVertexFeature_(f,[c.feature],[c.geometry]);const re={};re[(0,tt.sq)(c.geometry)]=!0;for(let pe=1,_e=a.length;pe<_e;++pe){const Ie=a[pe].segment;if(!(Do(h[0],Ie[0])&&Do(h[1],Ie[1])||Do(h[0],Ie[1])&&Do(h[1],Ie[0])))break;{const Ae=(0,tt.sq)(a[pe].geometry);Ae in re||(re[Ae]=!0,D[(0,tt.sq)(Ie)]=!0)}}}return void(this.vertexSegments_=D)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const i=e.segment,r=e.feature,o=e.geometry,s=e.depth,a=e.index;let l;for(;t.length<o.getStride();)t.push(0);switch(o.getType()){case"MultiLineString":case"Polygon":l=o.getCoordinates(),l[s[0]].splice(a+1,0,t);break;case"MultiPolygon":l=o.getCoordinates(),l[s[1]][s[0]].splice(a+1,0,t);break;case"LineString":l=o.getCoordinates(),l.splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(o,l);const c=this.rBush_;c.remove(e),this.updateSegmentIndices_(o,a,s,1);const h={segment:[i[0],t],feature:r,geometry:o,depth:s,index:a};c.insert((0,xe.hI)(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[t,i[1]],feature:r,geometry:o,depth:s,index:a+1};c.insert((0,xe.hI)(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Bn.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new fw("modifyend",this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}removeVertex_(){const e=this.dragSegments_,t={};let r,o,s,a,l,c,h,f,p,E,D,i=!1;for(l=e.length-1;l>=0;--l)s=e[l],E=s[0],D=(0,tt.sq)(E.feature),E.depth&&(D+="-"+E.depth.join("-")),D in t||(t[D]={}),0===s[1]?(t[D].right=E,t[D].index=E.index):1==s[1]&&(t[D].left=E,t[D].index=E.index+1);for(D in t){switch(p=t[D].right,h=t[D].left,c=t[D].index,f=c-1,E=void 0!==h?h:p,f<0&&(f=0),a=E.geometry,o=a.getCoordinates(),r=o,i=!1,a.getType()){case"MultiLineString":o[E.depth[0]].length>2&&(o[E.depth[0]].splice(c,1),i=!0);break;case"LineString":o.length>2&&(o.splice(c,1),i=!0);break;case"MultiPolygon":r=r[E.depth[1]];case"Polygon":r=r[E.depth[0]],r.length>4&&(c==r.length-1&&(c=0),r.splice(c,1),i=!0,0===c&&(r.pop(),r.push(r[0]),f=r.length-1))}if(i){this.setGeometryCoordinates_(a,o);const H=[];if(void 0!==h&&(this.rBush_.remove(h),H.push(h.segment[0])),void 0!==p&&(this.rBush_.remove(p),H.push(p.segment[1])),void 0!==h&&void 0!==p){const $={depth:E.depth,feature:E.feature,geometry:E.geometry,index:f,segment:H};this.rBush_.insert((0,xe.hI)($.segment),$)}this.updateSegmentIndices_(a,c,E.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return i}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,r){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(void 0===i||void 0===o.depth||(0,Yt.fS)(o.depth,i))&&o.index>t&&(o.index+=r)})}},l7=class a7 extends t2{constructor(){super(),this.xmlSerializer_=function cH(){return void 0===zg&&typeof XMLSerializer<"u"&&(zg=new XMLSerializer),zg}()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if("string"==typeof e){const i=Ta(e);return this.readFeatureFromDocument(i,t)}return Da(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const i=this.readFeaturesFromDocument(e,t);return i.length>0?i[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if("string"==typeof e){const i=Ta(e);return this.readFeaturesFromDocument(i,t)}return Da(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const i=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,Yt.l7)(i,this.readFeaturesFromNode(r,t));return i}readFeaturesFromNode(e,t){return(0,tt.O3)()}readGeometry(e,t){if(!e)return null;if("string"==typeof e){const i=Ta(e);return this.readGeometryFromDocument(i,t)}return Da(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if("string"==typeof e){const t=Ta(e);return this.readProjectionFromDocument(t)}return Da(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const i=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const i=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const i=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeGeometryNode(e,t){return null}},js=["http://www.google.com/kml/ext/2.2"],wt=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],b2={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},u7=ut(wt,{ExtendedData:O2,Region:F2,MultiGeometry:ze(R2,"geometry"),LineString:ze(M2,"geometry"),LinearRing:ze(A2,"geometry"),Point:ze(P2,"geometry"),Polygon:ze(k2,"geometry"),Style:ze(bw),StyleMap:function Z7(n,e){const t=D2.call(this,n,e);if(!t)return;const i=e[e.length-1];Array.isArray(t)?i.Style=t:"string"==typeof t?i.styleUrl=t:(0,sn.h)(!1,38)},address:ze(Zt),description:ze(Zt),name:ze(Zt),open:ze(Ia),phoneNumber:ze(Zt),styleUrl:ze(C2),visibility:ze(Ia)},ut(js,{MultiTrack:ze(function k7(n,e){const t=Qt([],P7,n,e);if(t)return new ew(t)},"geometry"),Track:ze(I2,"geometry")})),h7=ut(wt,{ExtendedData:O2,Region:F2,Link:function rW(n,e){lu(d7,n,e)},address:ze(Zt),description:ze(Zt),name:ze(Zt),open:ze(Ia),phoneNumber:ze(Zt),visibility:ze(Ia)}),d7=ut(wt,{href:ze(x2)}),v2=ut(wt,{LatLonAltBox:function X7(n,e){const t=Qt({},q7,n,e);if(!t)return;const i=e[e.length-1],r=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];i.extent=r,i.altitudeMode=t.altitudeMode,i.minAltitude=parseFloat(t.minAltitude),i.maxAltitude=parseFloat(t.maxAltitude)},Lod:function J7(n,e){const t=Qt({},Q7,n,e);if(!t)return;const i=e[e.length-1];i.minLodPixels=parseFloat(t.minLodPixels),i.maxLodPixels=parseFloat(t.maxLodPixels),i.minFadeExtent=parseFloat(t.minFadeExtent),i.maxFadeExtent=parseFloat(t.maxFadeExtent)}}),f7=ut(wt,["Document","Placemark"]),p7=ut(wt,{Document:Rt(function dW(n,e,t){mi({node:n},uW,hW,e,t,void 0,this)}),Placemark:Rt(j2)});let hu,pw,pd,gd,md,Zg,gw,mw,Xg,fd=null,Kg=null,Yg=null,Ma=null,_w=null,$g=null;function qg(n){return 32/Math.min(n[0],n[1])}function m7(n){return n}function w2(n,e,t){return Array.isArray(n)?n:"string"==typeof n?w2(t[n],e,t):e}function Qg(n){const e=ss(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(t){const i=t[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}}function E2(n){let e=ss(n,!1);const t=[];e=e.replace(/\s*,\s*/g,",");const i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let r;for(;r=i.exec(e);){const o=parseFloat(r[1]),s=parseFloat(r[2]),a=r[3]?parseFloat(r[3]):0;t.push(o,s,a),e=e.substr(r[0].length)}if(""===e)return t}function x2(n){const e=ss(n,!1).trim();let t=n.baseURI;return(!t||"about:blank"==t)&&(t=window.location.href),t?new URL(e,t).href:e}function C2(n){const e=ss(n,!1).trim().replace(/^(?!.*#)/,"#");let t=n.baseURI;return(!t||"about:blank"==t)&&(t=window.location.href),t?new URL(e,t).href:e}function S2(n){return ii(n)}const w7=ut(wt,{Pair:function W7(n,e){const t=Qt({},H7,n,e,this);if(!t)return;const i=t.key;if(i&&"normal"==i){const r=t.styleUrl;r&&(e[e.length-1]=r);const o=t.Style;o&&(e[e.length-1]=o)}}});function D2(n,e){return Qt(void 0,w7,n,e,this)}const E7=ut(wt,{Icon:ze(function L7(n,e){return Qt({},F7,n,e)||null}),color:ze(Qg),heading:ze(ii),hotSpot:ze(function v7(n){const e=n.getAttribute("xunits"),t=n.getAttribute("yunits");let i;return i="insetPixels"!==e?"insetPixels"!==t?"bottom-left":"top-left":"insetPixels"!==t?"bottom-right":"top-right",{x:parseFloat(n.getAttribute("x")),xunits:b2[e],y:parseFloat(n.getAttribute("y")),yunits:b2[t],origin:i}}),scale:ze(S2)}),C7=ut(wt,{color:ze(Qg),scale:ze(S2)}),D7=ut(wt,{color:ze(Qg),width:ze(ii)}),I7=ut(wt,{color:ze(Qg),fill:ze(Ia),outline:ze(Ia)}),A7=ut(wt,{coordinates:ow(E2)});function T2(n,e){return Qt(null,A7,n,e)}const P7=ut(js,{Track:as(I2)}),O7=ut(wt,{when:function oW(n,e){const i=e[e.length-1].whens,r=ss(n,!1),o=Date.parse(r);i.push(isNaN(o)?0:o)}},ut(js,{coord:function R7(n,e){const i=e[e.length-1].coordinates,r=ss(n,!1),s=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(s){const a=parseFloat(s[1]),l=parseFloat(s[2]),c=parseFloat(s[3]);i.push([a,l,c])}else i.push([])}}));function I2(n,e){const t=Qt({coordinates:[],whens:[]},O7,n,e);if(!t)return;const i=[],r=t.coordinates,o=t.whens;for(let s=0,a=Math.min(r.length,o.length);s<a;++s)3==r[s].length&&i.push(r[s][0],r[s][1],r[s][2],o[s]);return new cd(i,"XYZM")}const F7=ut(wt,{href:ze(x2)},ut(js,{x:ze(ii),y:ze(ii),w:ze(ii),h:ze(ii)})),N7=ut(wt,{coordinates:ow(E2)});function yw(n,e){return Qt(null,N7,n,e)}const Jg=ut(wt,{extrude:ze(Ia),tessellate:ze(Ia),altitudeMode:ze(Zt)});function M2(n,e){const t=Qt({},Jg,n,e),i=yw(n,e);if(i){const r=new cd(i,"XYZ");return r.setProperties(t,!0),r}}function A2(n,e){const t=Qt({},Jg,n,e),i=yw(n,e);if(i){const r=new Kc(i,"XYZ",[i.length]);return r.setProperties(t,!0),r}}const V7=ut(wt,{LineString:as(M2),LinearRing:as(A2),MultiGeometry:as(R2),Point:as(P2),Polygon:as(k2)});function R2(n,e){const t=Qt([],V7,n,e);if(!t)return null;if(0===t.length)return new Sa(t);let i,r=!0;const o=t[0].getType();let s;for(let a=1,l=t.length;a<l;++a)if(s=t[a],s.getType()!=o){r=!1;break}if(r){let a,l;if("Point"==o){const c=t[0];a=c.getLayout(),l=c.getFlatCoordinates();for(let h=1,f=t.length;h<f;++h)s=t[h],(0,Yt.l7)(l,s.getFlatCoordinates());i=new nw(l,a),vw(i,t)}else"LineString"==o?(i=new ew(t),vw(i,t)):"Polygon"==o?(i=new r2(t),vw(i,t)):"GeometryCollection"==o?i=new Sa(t):(0,sn.h)(!1,37)}else i=new Sa(t);return i}function P2(n,e){const t=Qt({},Jg,n,e),i=yw(n,e);if(i){const r=new Zc(i,"XYZ");return r.setProperties(t,!0),r}}const B7=ut(wt,{innerBoundaryIs:function tW(n,e){const t=Qt([],eW,n,e);t.length>0&&e[e.length-1].push(...t)},outerBoundaryIs:function iW(n,e){const t=Qt(void 0,nW,n,e);t&&(e[e.length-1][0]=t)}});function k2(n,e){const t=Qt({},Jg,n,e),i=Qt([null],B7,n,e);if(i&&i[0]){const r=i[0],o=[r.length];for(let a=1,l=i.length;a<l;++a)(0,Yt.l7)(r,i[a]),o.push(r.length);const s=new Kc(r,"XYZ",o);return s.setProperties(t,!0),s}}const z7=ut(wt,{IconStyle:function x7(n,e){const t=Qt({},E7,n,e);if(!t)return;const i=e[e.length-1],r="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(r).length>0;let s;const a=r.href;a?s=a:o&&(s=Zg);let l,c,h,f="bottom-left";const p=t.hotSpot;let E;p?(l=[p.x,p.y],c=p.xunits,h=p.yunits,f=p.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=pw,c=pd,h=gd):s.includes("arrow-reverse")?(l=[54,42],c=pd,h=gd):s.includes("paddle")&&(l=[32,1],c=pd,h=gd));const D=r.x,H=r.y;let $;void 0!==D&&void 0!==H&&(E=[D,H]);const te=r.w,ae=r.h;let re;void 0!==te&&void 0!==ae&&($=[te,ae]);const pe=t.heading;void 0!==pe&&(re=(0,dt.Yr)(pe));const Ie=t.color;if(o){s==Zg&&($=md);const Ae=new Pg({anchor:l,anchorOrigin:f,anchorXUnits:c,anchorYUnits:h,crossOrigin:this.crossOrigin_,offset:E,offsetOrigin:"bottom-left",rotation:re,scale:t.scale,size:$,src:this.iconUrlFunction_(s),color:Ie}),je=Ae.getScaleArray()[0],at=Ae.getSize();if(null===at){const ht=Ae.getImageState();if(0===ht||1===ht){const Gt=function(){const Ot=Ae.getImageState();if(0!==Ot&&1!==Ot){const Ct=Ae.getSize();if(Ct&&2==Ct.length){const Fn=qg(Ct);Ae.setScale(je*Fn)}Ae.unlistenImageChange(Gt)}};Ae.listenImageChange(Gt),0===ht&&Ae.load()}}else if(2==at.length){const ht=qg(at);Ae.setScale(je*ht)}i.imageStyle=Ae}else i.imageStyle=gw},LabelStyle:function S7(n,e){const t=Qt({},C7,n,e);if(!t)return;const i=e[e.length-1],r=new ru({fill:new rs({color:"color"in t?t.color:hu}),scale:t.scale});i.textStyle=r},LineStyle:function T7(n,e){const t=Qt({},D7,n,e);if(!t)return;const i=e[e.length-1],r=new io({color:"color"in t?t.color:hu,width:"width"in t?t.width:1});i.strokeStyle=r},PolyStyle:function M7(n,e){const t=Qt({},I7,n,e);if(!t)return;const i=e[e.length-1],r=new rs({color:"color"in t?t.color:hu});i.fillStyle=r;const o=t.fill;void 0!==o&&(i.fill=o);const s=t.outline;void 0!==s&&(i.outline=s)}});function bw(n,e){const t=Qt({},z7,n,e,this);if(!t)return null;let i="fillStyle"in t?t.fillStyle:fd;const r=t.fill;let o;void 0!==r&&!r&&(i=null),"imageStyle"in t?t.imageStyle!=gw&&(o=t.imageStyle):o=Kg;const s="textStyle"in t?t.textStyle:Ma,a="strokeStyle"in t?t.strokeStyle:Yg,l=t.outline;return void 0===l||l?[new ro({fill:i,image:o,stroke:a,text:s,zIndex:void 0})]:[new ro({geometry:function(c){const h=c.getGeometry(),f=h.getType();return"GeometryCollection"===f?new Sa(h.getGeometriesArrayRecursive().filter(function(E){const D=E.getType();return"Polygon"!==D&&"MultiPolygon"!==D})):"Polygon"!==f&&"MultiPolygon"!==f?h:void 0},fill:i,image:o,stroke:a,text:s,zIndex:void 0}),new ro({geometry:function(c){const h=c.getGeometry(),f=h.getType();return"GeometryCollection"===f?new Sa(h.getGeometriesArrayRecursive().filter(function(E){const D=E.getType();return"Polygon"===D||"MultiPolygon"===D})):"Polygon"===f||"MultiPolygon"===f?h:void 0},fill:i,stroke:null,zIndex:void 0})]}function vw(n,e){const t=e.length,i=new Array(e.length),r=new Array(e.length),o=new Array(e.length);let s,a,l;s=!1,a=!1,l=!1;for(let c=0;c<t;++c){const h=e[c];i[c]=h.get("extrude"),r[c]=h.get("tessellate"),o[c]=h.get("altitudeMode"),s=s||void 0!==i[c],a=a||void 0!==r[c],l=l||o[c]}s&&n.set("extrude",i),a&&n.set("tessellate",r),l&&n.set("altitudeMode",o)}const j7=ut(wt,{displayName:ze(Zt),value:ze(Zt)}),G7=ut(wt,{Data:function U7(n,e){const t=n.getAttribute("name");lu(j7,n,e);const i=e[e.length-1];t&&i.displayName?i[t]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==t?i[t]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function Y7(n,e){lu(K7,n,e)}});function O2(n,e){lu(G7,n,e)}function F2(n,e){lu(v2,n,e)}const H7=ut(wt,{Style:ze(bw),key:ze(Zt),styleUrl:ze(C2)}),K7=ut(wt,{SimpleData:function $7(n,e){const t=n.getAttribute("name");if(null!==t){const i=Zt(n);e[e.length-1][t]=i}}}),q7=ut(wt,{altitudeMode:ze(Zt),minAltitude:ze(ii),maxAltitude:ze(ii),north:ze(ii),south:ze(ii),east:ze(ii),west:ze(ii)}),Q7=ut(wt,{minLodPixels:ze(ii),maxLodPixels:ze(ii),minFadeExtent:ze(ii),maxFadeExtent:ze(ii)}),eW=ut(wt,{LinearRing:as(T2)}),nW=ut(wt,{LinearRing:ow(T2)});function em(n,e){const t=Lh(e),r=[255*(4==t.length?t[3]:1),t[2],t[1],t[0]];for(let o=0;o<4;++o){const s=Math.floor(r[o]).toString(16);r[o]=1==s.length?"0"+s:s}Ro(n,r.join(""))}const tm=ut(wt,{Data:Rt(function aW(n,e,t){n.setAttribute("name",e.name);const i={node:n},r=e.value;"object"==typeof r?(null!==r&&r.displayName&&mi(i,tm,oo,[r.displayName],t,["displayName"]),null!==r&&r.value&&mi(i,tm,oo,[r.value],t,["value"])):mi(i,tm,oo,[r],t,["value"])}),value:Rt(function cW(n,e){Ro(n,e)}),displayName:Rt(function lW(n,e){!function dH(n,e){n.appendChild(Ug().createCDATASection(e))}(n,e)})}),uW=ut(wt,{Placemark:Rt(j2)}),hW=function(n,e,t){return hd(e[e.length-1].node.namespaceURI,"Placemark")},fW=ls("Data"),L2=ut(wt,["href"],ut(js,["x","y","w","h"])),N2=ut(wt,{href:Rt(Ro)},ut(js,{x:Rt(Tl),y:Rt(Tl),w:Rt(Tl),h:Rt(Tl)})),gW=function(n,e,t){return hd(js[0],"gx:"+t)},_W=ut(wt,["scale","heading","Icon","color","hotSpot"]),yW=ut(wt,{Icon:Rt(function mW(n,e,t){const i={node:n};let o=L2[t[t.length-1].node.namespaceURI],s=Ao(e,o);mi(i,N2,oo,s,t,o),o=L2[js[0]],s=Ao(e,o),mi(i,N2,gW,s,t,o)}),color:Rt(em),heading:Rt(Tl),hotSpot:Rt(function WW(n,e){n.setAttribute("x",String(e.x)),n.setAttribute("y",String(e.y)),n.setAttribute("xunits",e.xunits),n.setAttribute("yunits",e.yunits)}),scale:Rt(H2)}),vW=ut(wt,["color","scale"]),wW=ut(wt,{color:Rt(em),scale:Rt(H2)}),xW=ut(wt,["color","width"]),CW=ut(wt,{color:Rt(em),width:Rt(Tl)}),DW={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},V2=function(n,e,t){if(n)return hd(e[e.length-1].node.namespaceURI,DW[n.getType()])},TW=ls("Point"),IW=ls("LineString"),MW=ls("LinearRing"),AW=ls("Polygon"),RW=ut(wt,{LineString:Rt(du),Point:Rt(du),Polygon:Rt(G2),GeometryCollection:Rt(B2)});function B2(n,e,t){const i={node:n},r=e.getType();let s,o=[];"GeometryCollection"===r?(e.getGeometriesArrayRecursive().forEach(function(a){const l=a.getType();"MultiPoint"===l?o=o.concat(a.getPoints()):"MultiLineString"===l?o=o.concat(a.getLineStrings()):"MultiPolygon"===l?o=o.concat(a.getPolygons()):"Point"===l||"LineString"===l||"Polygon"===l?o.push(a):(0,sn.h)(!1,39)}),s=V2):"MultiPoint"===r?(o=e.getPoints(),s=TW):"MultiLineString"===r?(o=e.getLineStrings(),s=IW):"MultiPolygon"===r?(o=e.getPolygons(),s=AW):(0,sn.h)(!1,39),mi(i,RW,s,o,t)}const PW=ut(wt,{LinearRing:Rt(du)});function z2(n,e,t){mi({node:n},PW,MW,[e],t)}const ww=ut(wt,{ExtendedData:Rt(function pW(n,e,t){const i={node:n},r=e.names,o=e.values,s=r.length;for(let a=0;a<s;a++)mi(i,tm,fW,[{name:r[a],value:o[a]}],t)}),MultiGeometry:Rt(B2),LineString:Rt(du),LinearRing:Rt(du),Point:Rt(du),Polygon:Rt(G2),Style:Rt(function HW(n,e,t){const i={node:n},r={};if(e.pointStyles.length){const l=e.pointStyles[0].getText();l&&(r.LabelStyle=l);const c=e.pointStyles[0].getImage();c&&"function"==typeof c.getSrc&&(r.IconStyle=c)}if(e.lineStyles.length){const l=e.lineStyles[0].getStroke();l&&(r.LineStyle=l)}if(e.polyStyles.length){const l=e.polyStyles[0].getStroke();l&&!r.LineStyle&&(r.LineStyle=l),r.PolyStyle=e.polyStyles[0]}const s=UW[t[t.length-1].node.namespaceURI],a=Ao(r,s);mi(i,GW,oo,a,t,s)}),address:Rt(Ro),description:Rt(Ro),name:Rt(Ro),open:Rt(cu),phoneNumber:Rt(Ro),styleUrl:Rt(Ro),visibility:Rt(cu)}),kW=ut(wt,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),OW=ls("ExtendedData");function j2(n,e,t){const i={node:n};e.getId()&&n.setAttribute("id",e.getId());const r=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;const s=Object.keys(r||{}).sort().filter(function(E){return!o[E]}),a=e.getStyleFunction();if(a){const E=a(e,0);if(E){const D=Array.isArray(E)?E:[E];let H=D;if(e.getGeometry()&&(H=D.filter(function($){const te=$.getGeometryFunction()(e);if(te){const ae=te.getType();return"GeometryCollection"===ae?te.getGeometriesArrayRecursive().filter(function(re){const pe=re.getType();return"Point"===pe||"MultiPoint"===pe}).length:"Point"===ae||"MultiPoint"===ae}})),this.writeStyles_){let $=D,te=D;e.getGeometry()&&($=D.filter(function(ae){const re=ae.getGeometryFunction()(e);if(re){const pe=re.getType();return"GeometryCollection"===pe?re.getGeometriesArrayRecursive().filter(function(_e){const Ie=_e.getType();return"LineString"===Ie||"MultiLineString"===Ie}).length:"LineString"===pe||"MultiLineString"===pe}}),te=D.filter(function(ae){const re=ae.getGeometryFunction()(e);if(re){const pe=re.getType();return"GeometryCollection"===pe?re.getGeometriesArrayRecursive().filter(function(_e){const Ie=_e.getType();return"Polygon"===Ie||"MultiPolygon"===Ie}).length:"Polygon"===pe||"MultiPolygon"===pe}})),r.Style={pointStyles:H,lineStyles:$,polyStyles:te}}if(H.length&&void 0===r.name){const $=H[0].getText();$&&(r.name=$.getText())}}}const c=kW[t[t.length-1].node.namespaceURI],h=Ao(r,c);if(mi(i,ww,oo,h,t,c),s.length>0){const E=Ao(r,s);mi(i,ww,OW,[{names:s,values:E}],t)}const f=t[0];let p=e.getGeometry();p&&(p=Fg(p,!0,f)),mi(i,ww,V2,[p],t)}const FW=ut(wt,["extrude","tessellate","altitudeMode","coordinates"]),LW=ut(wt,{extrude:Rt(cu),tessellate:Rt(cu),altitudeMode:Rt(Ro),coordinates:Rt(function sW(n,e,t){const i=t[t.length-1],r=i.layout,o=i.stride;let s;"XY"==r||"XYM"==r?s=2:"XYZ"==r||"XYZM"==r?s=3:(0,sn.h)(!1,34);const a=e.length;let l="";if(a>0){l+=e[0];for(let c=1;c<s;++c)l+=","+e[c];for(let c=o;c<a;c+=o){l+=" "+e[c];for(let h=1;h<s;++h)l+=","+e[c+h]}}Ro(n,l)})});function du(n,e,t){const i=e.getFlatCoordinates(),r={node:n};r.layout=e.getLayout(),r.stride=e.getStride();const o=e.getProperties();o.coordinates=i;const a=FW[t[t.length-1].node.namespaceURI],l=Ao(o,a);mi(r,LW,oo,l,t,a)}const NW=ut(wt,["color","fill","outline"]),U2=ut(wt,{outerBoundaryIs:Rt(z2),innerBoundaryIs:Rt(z2)}),VW=ls("innerBoundaryIs"),BW=ls("outerBoundaryIs");function G2(n,e,t){const i=e.getLinearRings(),r=i.shift(),o={node:n};mi(o,U2,VW,i,t),mi(o,U2,BW,[r],t)}const zW=ut(wt,{color:Rt(em),fill:Rt(cu),outline:Rt(cu)});function H2(n,e){Tl(n,Math.round(1e6*e)/1e6)}const UW=ut(wt,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),GW=ut(wt,{IconStyle:Rt(function bW(n,e,t){const i={node:n},r={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];const $=e.getAnchor(),te=e.getOrigin();te&&a&&0!==te[0]&&te[1]!==s[1]&&(l.x=te[0],l.y=a[1]-(te[1]+s[1])),!$||$[0]===s[0]/2&&$[1]===s[1]/2||(r.hotSpot={x:$[0],xunits:"pixels",y:s[1]-$[1],yunits:"pixels"})}r.Icon=l;let c=e.getScaleArray()[0],h=s;null===h&&(h=md),2==h.length&&(c/=qg(h)),1!==c&&(r.scale=c);const f=e.getRotation();0!==f&&(r.heading=f);const p=e.getColor();p&&(r.color=p);const D=_W[t[t.length-1].node.namespaceURI],H=Ao(r,D);mi(i,yW,oo,H,t,D)}),LabelStyle:Rt(function EW(n,e,t){const i={node:n},r={},o=e.getFill();o&&(r.color=o.getColor());const s=e.getScale();s&&1!==s&&(r.scale=s);const l=vW[t[t.length-1].node.namespaceURI],c=Ao(r,l);mi(i,wW,oo,c,t,l)}),LineStyle:Rt(function SW(n,e,t){const i={node:n},r={color:e.getColor(),width:Number(e.getWidth())||1},s=xW[t[t.length-1].node.namespaceURI],a=Ao(r,s);mi(i,CW,oo,a,t,s)}),PolyStyle:Rt(function jW(n,e,t){const i={node:n},r=e.getFill(),o=e.getStroke(),s={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!o&&void 0},l=NW[t[t.length-1].node.namespaceURI],c=Ao(s,l);mi(i,zW,oo,c,t,l)})}),ZW=class _7 extends l7{constructor(e){super(),e=e||{},$g||function g7(){hu=[255,255,255,1],fd=new rs({color:hu}),pw=[20,2],pd="pixels",gd="pixels",md=[64,64],Zg="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Kg=new Pg({anchor:pw,anchorOrigin:"bottom-left",anchorXUnits:pd,anchorYUnits:gd,crossOrigin:"anonymous",rotation:0,scale:qg(md),size:md,src:Zg}),gw="NO_IMAGE",Yg=new io({color:hu,width:1}),mw=new io({color:[51,51,51,1],width:2}),Ma=new ru({font:"bold 16px Helvetica",fill:fd,stroke:mw,scale:.8}),_w=new ro({fill:fd,image:Kg,text:Ma,stroke:Yg,zIndex:0}),$g=[_w]}(),this.dataProjection=vn("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:$g,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:m7,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){const r=Qt([],ut(wt,{Document:a2(this.readDocumentOrFolder_,this),Folder:a2(this.readDocumentOrFolder_,this),Placemark:as(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),e,t,this);if(r)return r}readPlacemark_(e,t){const i=Qt({geometry:null},u7,e,t,this);if(!i)return;const r=new au,o=e.getAttribute("id");null!==o&&r.setId(o);const a=i.geometry;if(a&&Fg(a,!1,t[0]),r.setGeometry(a),delete i.geometry,this.extractStyles_){const h=function b7(n,e,t,i,r){return function(o,s){let a=r,l="",c=[];if(a){const f=o.getGeometry();if(f)if(f instanceof Sa)c=f.getGeometriesArrayRecursive().filter(function(p){const E=p.getType();return"Point"===E||"MultiPoint"===E}),a=c.length>0;else{const p=f.getType();a="Point"===p||"MultiPoint"===p}}a&&(l=o.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&(Xg||(Xg=document.createElement("textarea")),Xg.innerHTML=l,l=Xg.value));let h=t;if(n?h=n:e&&(h=w2(e,t,i)),a){const f=function y7(n,e){const t=[0,0];let i="start";const r=n.getImage();if(r){const a=r.getSize();if(a&&2==a.length){const l=r.getScaleArray(),c=r.getAnchor();t[0]=l[0]*(a[0]-c[0]),t[1]=l[1]*(a[1]/2-c[1]),i="left"}}let o=n.getText();return o?(o=o.clone(),o.setFont(o.getFont()||Ma.getFont()),o.setScale(o.getScale()||Ma.getScale()),o.setFill(o.getFill()||Ma.getFill()),o.setStroke(o.getStroke()||mw)):o=Ma.clone(),o.setText(e),o.setOffsetX(t[0]),o.setOffsetY(t[1]),o.setTextAlign(i),new ro({image:r,text:o})}(h[0],l);return c.length>0?(f.setGeometry(new Sa(c)),[f,new ro({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))):f}return h}}(i.Style,i.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(h)}return delete i.Style,r.setProperties(i,!0),r}readSharedStyle_(e,t){const i=e.getAttribute("id");if(null!==i){const r=bw.call(this,e,t);if(r){let o,s=e.baseURI;(!s||"about:blank"==s)&&(s=window.location.href),o=s?new URL("#"+i,s).href:"#"+i,this.sharedStyles_[o]=r}}}readSharedStyleMap_(e,t){const i=e.getAttribute("id");if(null===i)return;const r=D2.call(this,e,t);if(!r)return;let o,s=e.baseURI;(!s||"about:blank"==s)&&(s=window.location.href),o=s?new URL("#"+i,s).href:"#"+i,this.sharedStyles_[o]=r}readFeatureFromNode(e,t){return wt.includes(e.namespaceURI)&&this.readPlacemark_(e,[this.getReadOptions(e,t)])||null}readFeaturesFromNode(e,t){if(!wt.includes(e.namespaceURI))return[];let i;const r=e.localName;if("Document"==r||"Folder"==r)return i=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),i||[];if("Placemark"==r){const o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o?[o]:[]}if("kml"==r){i=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling){const s=this.readFeaturesFromNode(o,t);s&&(0,Yt.l7)(i,s)}return i}return[]}readName(e){if(e){if("string"==typeof e){const t=Ta(e);return this.readNameFromDocument(t)}return Da(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const i=this.readNameFromNode(t);if(i)return i}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(wt.includes(t.namespaceURI)&&"name"==t.localName)return Zt(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const i=t.localName;if(wt.includes(t.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)){const r=this.readNameFromNode(t);if(r)return r}}}readNetworkLinks(e){const t=[];if("string"==typeof e){const i=Ta(e);(0,Yt.l7)(t,this.readNetworkLinksFromDocument(i))}else Da(e)?(0,Yt.l7)(t,this.readNetworkLinksFromDocument(e)):(0,Yt.l7)(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){const t=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,Yt.l7)(t,this.readNetworkLinksFromNode(i));return t}readNetworkLinksFromNode(e){const t=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling)if(wt.includes(i.namespaceURI)&&"NetworkLink"==i.localName){const r=Qt({},h7,i,[]);t.push(r)}for(let i=e.firstElementChild;i;i=i.nextElementSibling){const r=i.localName;wt.includes(i.namespaceURI)&&("Document"==r||"Folder"==r||"kml"==r)&&(0,Yt.l7)(t,this.readNetworkLinksFromNode(i))}return t}readRegion(e){const t=[];if("string"==typeof e){const i=Ta(e);(0,Yt.l7)(t,this.readRegionFromDocument(i))}else Da(e)?(0,Yt.l7)(t,this.readRegionFromDocument(e)):(0,Yt.l7)(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){const t=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,Yt.l7)(t,this.readRegionFromNode(i));return t}readRegionFromNode(e){const t=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling)if(wt.includes(i.namespaceURI)&&"Region"==i.localName){const r=Qt({},v2,i,[]);t.push(r)}for(let i=e.firstElementChild;i;i=i.nextElementSibling){const r=i.localName;wt.includes(i.namespaceURI)&&("Document"==r||"Folder"==r||"kml"==r)&&(0,Yt.l7)(t,this.readRegionFromNode(i))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);const i=hd(wt[4],"kml"),r="http://www.w3.org/2000/xmlns/";i.setAttributeNS(r,"xmlns:gx",js[0]),i.setAttributeNS(r,"xmlns:xsi",o2),i.setAttributeNS(o2,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const o={node:i},s={};e.length>1?s.Document=e:1==e.length&&(s.Placemark=e[0]);const a=f7[i.namespaceURI],l=Ao(s,a);return mi(o,p7,oo,l,[t],a,this),i}};var KW=ie(9634);const XW=class extends ya.default{constructor(e){super(e=e||{}),this.setStyle(e.style)}setMap(e){this.getCanvas(e);var t=this.getMap();if(this._listener&&((0,xM.unByKey)(this._listener),this._listener=null),super.setMap(e),t)try{t.renderSync()}catch{}e&&(this._listener=e.on("postcompose",this._draw.bind(this)))}getCanvas(e){return function(n){if(!n)return null;var e=n.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return e||(n.getViewport().querySelector(".ol-layers")?((e=document.createElement("canvas")).className="ol-fixedoverlay",n.getViewport().querySelector(".ol-layers").after(e),n.on("precompose",function(t){e.width=n.getSize()[0]*t.frameState.pixelRatio,e.height=n.getSize()[1]*t.frameState.pixelRatio})):e=n.getViewport().querySelector("canvas")),e}(e)}getContext(e){var t=e.context;if(!t&&this.getMap()){var i=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];t=i?i.getContext("2d"):null}return t}setStyle(e){this._style=e||new ro({})}getStyle(){return this._style}getStroke(){return this._style.getStroke()||this._style.setStroke(new io({color:"#000",width:1.25})),this._style.getStroke()}getFill(){return this._style.getFill()||this._style.setFill(new rs({color:"#fff"})),this._style.getFill()}getTextStroke(){var e=this._style.getText();return e||(e=new ru({})),e.getStroke()||e.setStroke(new io({color:"#fff",width:3})),e.getStroke()}getTextFill(){var e=this._style.getText();return e||(e=new ru({})),e.getFill()||e.setFill(new rs({color:"#fff"})),e.getFill()}getTextFont(){var e=this._style.getText();return e||(e=new ru({})),e.getFont()||e.setFont("12px sans-serif"),e.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}};window.ol&&ol.ext&&!ol.ext.input&&(ol.ext.input={});const JW=class extends As.Z{constructor(e){e=e||{},super();var i,t=this.input=e.input;t||(t=this.input=document.createElement("INPUT"),e.type&&t.setAttribute("type",e.type),void 0!==e.min&&t.setAttribute("min",e.min),void 0!==e.max&&t.setAttribute("max",e.max),void 0!==e.step&&t.setAttribute("step",e.step),e.parent&&e.parent.appendChild(t)),e.disabled&&(t.disabled=!0),void 0!==e.checked&&(t.checked=!!e.checked),void 0!==e.val&&(t.value=e.val),e.hidden&&(t.style.display="none"),t.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),t.addEventListener("focusout",function(){this.element&&(i&&clearTimeout(i),i=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))}_listenDrag(e,t){var i=function(r){this.moving=!0,this.element.classList.add("ol-moving");var o=function(s){"pointerup"===s.type&&(document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",o),document.removeEventListener("pointercancel",o),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),s.target===e&&t(s),s.stopPropagation(),s.preventDefault()}.bind(this);document.addEventListener("pointermove",o,!1),document.addEventListener("pointerup",o,!1),document.addEventListener("pointercancel",o,!1),r.stopPropagation(),r.preventDefault()}.bind(this);e.addEventListener("mousedown",i,!1),e.addEventListener("touchstart",i,!1)}setValue(e){void 0!==e&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},Ew=class extends JW{constructor(e){super(e=e||{});var t=this.element=document.createElement("LABEL");e.html instanceof Element?t.appendChild(e.html):void 0!==e.html&&(t.innerHTML=e.html),t.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(t,this.input),t.appendChild(this.input),t.appendChild(document.createElement("SPAN")),e.after&&t.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))}isChecked(){return this.input.checked}},nZ=class extends Ew{constructor(e){super(e=e||{}),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()}},rZ=class extends Ew{constructor(e){super(e=e||{}),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()}};var ln={create:function(n,e){var t;if(e=e||{},"TEXT"===n)t=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(t);else for(var i in t=document.createElement(n),/button/i.test(n)&&t.setAttribute("type","button"),e)switch(i){case"className":e.className&&e.className.trim&&t.setAttribute("class",e.className.trim());break;case"text":t.innerText=e.text;break;case"html":e.html instanceof Element?t.appendChild(e.html):void 0!==e.html&&(t.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(t);break;case"options":if(/select/i.test(n))for(var r in e.options)ln.create("OPTION",{html:r,value:e.options[r],parent:t});break;case"style":ln.setStyle(t,e.style);break;case"change":case"click":ln.addListener(t,i,e[i]);break;case"on":for(var o in e.on)ln.addListener(t,o,e.on[o]);break;case"checked":t.checked=!!e.checked;break;default:t.setAttribute(i,e[i])}return t},createSwitch:function(n){var e=ln.create("INPUT",{type:"checkbox",on:n.on,click:n.click,change:n.change,parent:n.parent}),t=Object.assign({input:e},n||{});return new nZ(t),e},createCheck:function(n){var e=ln.create("INPUT",{name:n.name,type:"radio"===n.type?"radio":"checkbox",on:n.on,parent:n.parent}),t=Object.assign({input:e},n||{});return"radio"===n.type?new rZ(t):new Ew(t),e},setHTML:function(n,e){e instanceof Element?n.appendChild(e):void 0!==e&&(n.innerHTML=e)},appendText:function(n,e){n.appendChild(document.createTextNode(e||""))},addListener:function(n,e,t,i){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(r){n.addEventListener(r,t,i)})},removeListener:function(n,e,t){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(i){n.removeEventListener(i,t)})},show:function(n){n.style.display=""},hide:function(n){n.style.display="none"},hidden:function(n){return"none"===ln.getStyle(n,"display")},toggle:function(n){n.style.display="none"===n.style.display?"":"none"},setStyle:function(n,e){for(var t in e)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":n.style[t]="number"==typeof e[t]?e[t]+"px":e[t];break;default:n.style[t]=e[t]}},getStyle:function(n,e){var t,r,o,s,i=(n.ownerDocument||document).defaultView;if(i&&i.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),t=i.getComputedStyle(n,null).getPropertyValue(e);else if(n.currentStyle&&(e=e.replace(/-(\w)/g,function(r,o){return o.toUpperCase()}),/^\d+(em|pt|%|ex)?$/i.test(t=n.currentStyle[e])))return r=t,o=n.style.left,s=n.runtimeStyle.left,n.runtimeStyle.left=n.currentStyle.left,n.style.left=r||0,r=n.style.pixelLeft+"px",n.style.left=o,n.runtimeStyle.left=s,r;return/px$/.test(t)?parseInt(t):t},outerHeight:function(n){return n.offsetHeight+ln.getStyle(n,"marginBottom")},outerWidth:function(n){return n.offsetWidth+ln.getStyle(n,"marginLeft")},offsetRect:function(n){var e=n.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}},getFixedOffset:function(n){var e={left:0,top:0},t=function(i){if(!i)return e;if("absolute"===ln.getStyle(i,"position")&&"none"!==ln.getStyle(i,"transform")){var r=i.getBoundingClientRect();return e.left+=r.left,e.top+=r.top,e}return t(i.offsetParent)};return t(n.offsetParent)},positionRect:function(n,e){var t=0,i=0,r=function(o){if(o)return t+=o.offsetLeft,i+=o.offsetTop,r(o.offsetParent);var s={top:n.offsetTop+i,left:n.offsetLeft+t};return e&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+n.offsetHeight,s.right=s.top+n.offsetWidth,s};return r(n.offsetParent)},scrollDiv:function(n,e){var r,h,f,ae,re,t=!1,i=0,o=0,s="function"==typeof(e=e||{}).onmove?e.onmove:function(){},a=e.vertical?"screenY":"screenX",l=e.vertical?"scrollTop":"scrollLeft",c=!1,p=0,E=function(){re&&(p++,setTimeout(D))},D=function(){if(re){if(--p)return;var Ae=n.clientHeight,je=n.scrollHeight;re.style.height=100*(h=Ae/je)+"%",re.style.top=n.scrollTop/je*100+"%",ae.style.height=Ae+"px",Ae>je-.5?ae.classList.add("ol-100pc"):ae.classList.remove("ol-100pc")}},H=function(Ae){Ae.target.classList.contains("ol-noscroll")||(c=!1,t=Ae[a],o=new Date,n.classList.add("ol-move"),Ae.preventDefault(),window.addEventListener("pointermove",$),ln.addListener(window,["pointerup","pointercancel"],_e))},$=function(Ae){if(!1!==t){var je=(f?-1/h:1)*(t-Ae[a]);c=c||Math.round(je),n[l]+=je,(r=new Date)-o&&(i=(i+je/(r-o))/2),t=Ae[a],o=r,je&&s(!0)}else c=!0},te=function(Ae){var je=Ae>0?Math.min(100,Ae/2):Math.max(-100,Ae/2);Ae-=je,n[l]+=je,-1<Ae&&Ae<1?(c?setTimeout(function(){n.classList.remove("ol-move")}):n.classList.remove("ol-move"),c=!1,s(!1)):setTimeout(function(){te(Ae)},40)};if(e.vertical&&e.minibar){var pe=function(Ae){n.removeEventListener("pointermove",pe),n.parentNode.classList.add("ol-miniscroll"),re=ln.create("DIV"),ae=ln.create("DIV",{className:"ol-scroll",html:re}),n.parentNode.insertBefore(ae,n),re.addEventListener("pointerdown",function(je){f=!0,H(je)}),e.mousewheel&&(ln.addListener(ae,["mousewheel","DOMMouseScroll","onmousewheel"],function(je){Ie(je)}),ln.addListener(re,["mousewheel","DOMMouseScroll","onmousewheel"],function(je){Ie(je)})),n.parentNode.addEventListener("pointerenter",E),window.addEventListener("resize",E),!1!==Ae&&E()};n.parentNode?pe(!1):n.addEventListener("pointermove",pe),n.addEventListener("scroll",function(){E()})}n.style["touch-action"]="none",n.style.overflow="hidden",n.classList.add("ol-scrolldiv"),ln.addListener(n,["pointerdown"],function(Ae){f=!1,H(Ae)}),n.addEventListener("click",function(Ae){n.classList.contains("ol-move")&&(Ae.preventDefault(),Ae.stopPropagation())},!0);var _e=function(Ae){(o=new Date-o)>100||f?i=0:o>0&&(i=((i||0)+(t-Ae[a])/o)/2),te(!1===e.animate?0:200*i),t=!1,i=0,o=0,n.classList.contains("ol-move")?n.classList.remove("ol-hasClick"):(n.classList.add("ol-hasClick"),setTimeout(function(){n.classList.remove("ol-hasClick")},500)),f=!1,window.removeEventListener("pointermove",$),ln.removeListener(window,["pointerup","pointercancel"],_e)},Ie=function(Ae){var je=Math.max(-1,Math.min(1,Ae.wheelDelta||-Ae.detail));return n.classList.add("ol-move"),n[l]-=30*je,n.classList.remove("ol-move"),!1};return e.mousewheel&&ln.addListener(n,["mousewheel","DOMMouseScroll","onmousewheel"],Ie),{refresh:E}},dispatchEvent:function(n,e){var t;try{t=new CustomEvent(n)}catch{(t=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,{})}e.dispatchEvent(t)}};const oZ=ln,aZ=class extends XW{constructor(e){e=e||{};var t=document.createElement("div");t.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),t.style.position="absolute",t.style.visibility="hidden";var i=e.style instanceof io?new ro({stroke:e.style}):e.style;e.style||(i=new ro({stroke:new io({width:0})})),super({element:t,style:i}),this.set("rotateVithView",!1!==e.rotateWithView),this.setVisible(!1!==e.visible),this.setImage(e.image||e.src)}setImage(e){if(e instanceof Image)this.img_=e,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this);else if("string"==typeof e)switch(e){case"compact":this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break;case"default":this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break;default:this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this),this.img_.src=e}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(e,t){var i=document.createElement("canvas"),r=i.getContext("2d"),o=(e=i.width=i.height=e||150)/2;return r.translate(o,o),r.fillStyle=t||"#963",r.lineWidth=5,r.lineJoin=r.lineCap="round",r.font="bold "+.4*o+"px sans-serif",r.textBaseline="bottom",r.textAlign="center",r.strokeStyle="#fff",r.globalAlpha=.75,r.strokeText("N",0,-o/2),r.globalAlpha=1,r.fillText("N",0,-o/2),r.beginPath(),r.moveTo(0,o/4),r.lineTo(o/3,o/2),r.lineTo(0,-o/2),r.lineTo(-o/3,o/2),r.lineTo(0,o/4),r.lineWidth=12,r.fillStyle="#fff",r.globalAlpha=.75,r.fill(),r.stroke(),r.globalAlpha=1,r.fillStyle=r.strokeStyle=t||"#963",r.lineWidth=5,r.beginPath(),r.moveTo(0,o/4),r.lineTo(0,-o/2),r.lineTo(o/3,o/2),r.lineTo(0,o/4),r.fill(),r.stroke(),r.beginPath(),r.moveTo(0,o/4),r.lineTo(0,-o/2),r.lineTo(-o/3,o/2),r.lineTo(0,o/4),r.stroke(),i}defaultCompass_(e,t){var i=document.createElement("canvas"),r=i.getContext("2d"),o=(e=i.width=i.height=e||150)/2,s=.22*o;function a(c,h){r.fillStyle=t||"#963",r.beginPath(),r.moveTo(0,0),r.lineTo(c,0),r.lineTo(h,h),r.moveTo(0,0),r.lineTo(-c,0),r.lineTo(-h,-h),r.moveTo(0,0),r.lineTo(0,c),r.lineTo(-h,h),r.moveTo(0,0),r.lineTo(0,-c),r.lineTo(h,-h),r.moveTo(0,0),r.fill(),r.stroke()}function l(c,h){r.globalCompositeOperation="destination-out",r.fillStyle="#fff",r.beginPath(),r.moveTo(0,0),r.lineTo(c,0),r.lineTo(h,-h),r.moveTo(0,0),r.lineTo(-c,0),r.lineTo(-h,h),r.moveTo(0,0),r.lineTo(0,c),r.lineTo(h,h),r.moveTo(0,0),r.lineTo(0,-c),r.lineTo(-h,-h),r.moveTo(0,0),r.fill(),r.globalCompositeOperation="source-over",r.beginPath(),r.moveTo(0,0),r.lineTo(c,0),r.lineTo(h,-h),r.moveTo(0,0),r.lineTo(-c,0),r.lineTo(-h,h),r.moveTo(0,0),r.lineTo(0,c),r.lineTo(h,h),r.moveTo(0,0),r.lineTo(0,-c),r.lineTo(-h,-h),r.moveTo(0,0),r.stroke()}return r.translate(o,o),r.strokeStyle=t||"#963",r.lineWidth=1.5,r.beginPath(),r.arc(0,0,.41*e,0,2*Math.PI),r.arc(0,0,.44*e,0,2*Math.PI),r.stroke(),r.rotate(Math.PI/4),a(.9*o,.8*s),l(.9*o,.8*s),r.rotate(-Math.PI/4),a(o,s),l(o,s),i}getVisible(){return"block"===oZ.getStyle(this.element,"display")}setVisible(e){e?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(e){var t=this.getContext(e);if(t&&this.getVisible()){var r,i=t.canvas,o=[];for(r=0;r<8;r++)o[r]=[Math.cos(Math.PI*r/8),Math.sin(Math.PI*r/8)];var s=e.frameState.pixelRatio;t.save(),t.scale(s,s);var a=this.element.clientWidth,l=this.element.clientHeight,c={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,f=e.frameState.viewState.rotation;if(t.beginPath(),t.translate(c.left+a/2,c.top+l/2),this.get("rotateVithView")&&t.rotate(f),this.getStroke().getWidth()){t.beginPath(),t.strokeStyle=this.getStroke().getColor(),t.lineWidth=this.getStroke().getWidth();var p=Math.max(i.width,i.height);for(r=0;r<8;r++)t.moveTo(-o[r][0]*p,-o[r][1]*p),t.lineTo(o[r][0]*p,o[r][1]*p);t.stroke()}h.width&&t.drawImage(h,-a/2,-l/2,a,l),t.closePath(),t.restore()}}};class _i{static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var o,s,a,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((s=e.length)!=t.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var h=e instanceof RegExp,f=t instanceof RegExp;if(h!=f)return!1;if(h&&f)return e.toString()==t.toString();var p=Object.keys(e);if((s=p.length)!==Object.keys(t).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,p[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[a=p[o]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),r=e;for(let o=0,s=i.length;o<s;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let o=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>t){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}}var W2=0;function Z2(){return"pr_id_"+ ++W2}var Aa=function lZ(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,a)=>{s&&(s.style.zIndex=String(((o,s)=>{let a=n.length>0?n[n.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+1;return n.push({key:o,value:l}),l})(o,a)))},clear:o=>{o&&((o=>{n=n.filter(s=>s.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const K2=["*"];let Qi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),nm=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Qi.STARTS_WITH,Qi.CONTAINS,Qi.NOT_CONTAINS,Qi.ENDS_WITH,Qi.EQUALS,Qi.NOT_EQUALS],numeric:[Qi.EQUALS,Qi.NOT_EQUALS,Qi.LESS_THAN,Qi.LESS_THAN_OR_EQUAL_TO,Qi.GREATER_THAN,Qi.GREATER_THAN_OR_EQUAL_TO],date:[Qi.DATE_IS,Qi.DATE_IS_NOT,Qi.DATE_BEFORE,Qi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Pe,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y2=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),cZ=(()=>{class n{constructor(){this.filters={startsWith:(t,i,r)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let o=_i.removeAccents(i.toString()).toLocaleLowerCase(r);return _i.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(t,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let o=_i.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==_i.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(t,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let o=_i.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===_i.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(t,i,r)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let o=_i.removeAccents(i.toString()).toLocaleLowerCase(r),s=_i.removeAccents(t.toString()).toLocaleLowerCase(r);return-1!==s.indexOf(o,s.length-o.length)},equals:(t,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():_i.removeAccents(t.toString()).toLocaleLowerCase(r)==_i.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(t,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():_i.removeAccents(t.toString()).toLocaleLowerCase(r)==_i.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(t,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(_i.equals(t,i[r]))return!0;return!1},between:(t,i)=>null==i||null==i[0]||null==i[1]||null!=t&&(t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1]),lt:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<i.getTime():t<i),lte:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i),gt:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>i.getTime():t>i),gte:(t,i,r)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i),is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>null==i||null!=t&&t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>null==i||null!=t&&t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>null==i||null!=t&&t.getTime()<i.getTime(),dateAfter:(t,i)=>null==i||null!=t&&t.getTime()>i.getTime()}}filter(t,i,r,o,s){let a=[];if(t)for(let l of t)for(let c of i){let h=_i.resolveFieldData(l,c);if(this.filters[o](h,r,s)){a.push(l);break}}return a}register(t,i){this.filters[t]=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uZ=(()=>{class n{constructor(){this.clickSource=new Pe,this.clickObservable=this.clickSource.asObservable()}add(t){t&&this.clickSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yr({type:n,selectors:[["p-header"]],ngContentSelectors:K2,decls:1,vars:0,template:function(t,i){1&t&&(Mc(),na(0))},encapsulation:2}),n})(),dZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yr({type:n,selectors:[["p-footer"]],ngContentSelectors:K2,decls:1,vars:0,template:function(t,i){1&t&&(Mc(),na(0))},encapsulation:2}),n})(),_d=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(Ne(Qo))},n.\u0275dir=Mt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})(),rt=(()=>{class n{static addClass(t,i){t.classList?t.classList.add(i):t.className+=" "+i}static addMultipleClasses(t,i){if(t.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)t.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)t.className+=" "+r[o]}}static removeClass(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,i){return t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return t?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==t)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==t)return o;r[s].attributes&&r[s].attributes[i]&&1==r[s].nodeType&&o++}return-1}static relativePosition(t,i){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const o=i.offsetHeight,s=i.getBoundingClientRect(),a=this.getViewport();let l,c;s.top+o+r.height>a.height?(l=-1*r.height,t.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,t.style.transformOrigin="top"),c=r.width>a.width?-1*s.left:s.left+r.width>a.width?-1*(s.left+r.width-a.width):0,t.style.top=l+"px",t.style.left=c+"px"}static absolutePosition(t,i){let E,D,r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.height,s=r.width,a=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),h=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport();c.top+a+o>p.height?(E=c.top+h-o,t.style.transformOrigin="bottom",E<0&&(E=h)):(E=a+c.top+h,t.style.transformOrigin="top"),D=c.left+s>p.width?Math.max(0,c.left+f+l-s):c.left+f,t.style.top=E+"px",t.style.left=D+"px"}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let h of c){let f=this.findSingle(a,h);f&&s(f)&&i.push(f)}}9!==a.nodeType&&s(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=t.getBoundingClientRect(),h=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,f=t.scrollTop,p=t.clientHeight,E=this.getOuterHeight(i);h<0?t.scrollTop=f+h:h+E>p&&(t.scrollTop=f+h-p+E)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||o.clientWidth,height:t.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class $2{constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=rt.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}const{isArray:fZ}=Array,{getPrototypeOf:pZ,prototype:gZ,keys:mZ}=Object;function bZ(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function vZ(...n){const e=function Vd(n){return Q(Fl(n))?n.pop():void 0}(n),{args:t,keys:i}=function _Z(n){if(1===n.length){const e=n[0];if(fZ(e))return{args:e,keys:null};if(function yZ(n){return n&&"object"==typeof n&&pZ(n)===gZ}(e)){const t=mZ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n),r=new it(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let f=!1;mr(t[h]).subscribe(Dt(o,p=>{f||(f=!0,c--),a[h]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?bZ(i,a):a),o.complete())}))}});return e?r.pipe(XM(e)):r}let q2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Ne(Wo),Ne(di))},n.\u0275dir=Mt({type:n}),n})(),Il=(()=>{class n extends q2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=Mt({type:n,features:[Mn]}),n})();const Po=new bt("NgValueAccessor"),EZ={provide:Po,useExisting:Sn(()=>im),multi:!0},CZ=new bt("CompositionEventMode");let im=(()=>{class n extends q2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xZ(){const n=sl()?sl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Ne(Wo),Ne(di),Ne(CZ,8))},n.\u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&en("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Vn([EZ]),Mn]}),n})();const Ji=new bt("NgValidators"),Pa=new bt("NgAsyncValidators");function aR(n){return null!=n}function lR(n){return Qf(n)?Nl(n):n}function cR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uR(n,e){return e.map(t=>t(n))}function hR(n){return n.map(e=>function TZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function xw(n){return null!=n?function dR(n){if(!n)return null;const e=n.filter(aR);return 0==e.length?null:function(t){return cR(uR(t,e))}}(hR(n)):null}function Cw(n){return null!=n?function fR(n){if(!n)return null;const e=n.filter(aR);return 0==e.length?null:function(t){return vZ(uR(t,e).map(lR)).pipe(jt(cR))}}(hR(n)):null}function pR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sw(n){return n?Array.isArray(n)?n:[n]:[]}function om(n,e){return Array.isArray(n)?n.includes(e):n===e}function _R(n,e){const t=Sw(e);return Sw(n).forEach(r=>{om(t,r)||t.push(r)}),t}function yR(n,e){return Sw(e).filter(t=>!om(n,t))}class bR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pr extends bR{get formDirective(){return null}get path(){return null}}class ka extends bR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let wR=(()=>{class n extends class vR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Ne(ka,2))},n.\u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Mn]}),n})();const bd="VALID",am="INVALID",fu="PENDING",vd="DISABLED";function xR(n){return Array.isArray(n)?xw(n):n||null}function CR(n){return Array.isArray(n)?Cw(n):n||null}function lm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function wd(n,e){(function Pw(n,e){const t=function gR(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function mR(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pR(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();hm(e._rawValidators,r),hm(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function NZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&IR(n,e)})}(n,e),function BZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function VZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&IR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function LZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function PR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function kR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const KZ={provide:ka,useExisting:Sn(()=>Lw)},NR=(()=>Promise.resolve())();let Lw=(()=>{class n extends ka{constructor(t,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class TR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xR(this._rawValidators),this._composedAsyncValidatorFn=CR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bd}get invalid(){return this.status===am}get pending(){return this.status==fu}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CR(e)}addValidators(e){this.setValidators(_R(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_R(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yR(e,this._rawAsyncValidators))}hasValidator(e){return om(this._rawValidators,e)}hasAsyncValidator(e){return om(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bd,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===fu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fu,this._hasOwnPendingAsyncValidator=!0;const t=lR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?am:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fu)?fu:this._anyControlsHaveStatus(am)?am:bd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,i){super(function Mw(n){return(lm(n)?n.validators:n)||null}(t),function Aw(n,e){return(lm(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=kR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){kR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new Pt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Ow(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===im?t=o:function UZ(n){return Object.getPrototypeOf(n.constructor)===Il}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){NR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function Ay(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);NR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function cm(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(Ne(pr,9),Ne(Ji,10),Ne(Pa,10),Ne(Po,10),Ne(oa,8))},n.\u0275dir=Mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vn([KZ]),Mn,sr]}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({}),n})();const QZ={provide:Po,useExisting:Sn(()=>Nw),multi:!0};let Nw=(()=>{class n extends Il{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Zi(n)))(i||n)}}(),n.\u0275dir=Mt({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,i){1&t&&en("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Vn([QZ]),Mn]}),n})(),yK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[BR]}),n})(),bK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[yK]}),n})(),wK=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?rt.appendChild(this.container,this.el.nativeElement):rt.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),rt.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Aa.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Aa.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+rt.getWindowScrollLeft(),top:t.top+rt.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),i=t.left+rt.getOuterWidth(this.el.nativeElement),r=t.top+(rt.getOuterHeight(this.el.nativeElement)-rt.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-rt.getOuterWidth(this.container),r=t.top+(rt.getOuterHeight(this.el.nativeElement)-rt.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(rt.getOuterWidth(this.el.nativeElement)-rt.getOuterWidth(this.container))/2,r=t.top-rt.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(rt.getOuterWidth(this.el.nativeElement)-rt.getOuterWidth(this.container))/2,r=t.top+rt.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return rt.hasClass(t,"p-inputwrapper")?rt.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,o=rt.getOuterWidth(this.container),s=rt.getOuterHeight(this.container),a=rt.getViewport();return r+o>a.width||r<0||i<0||i+s>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new $2(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):rt.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Aa.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(An),Ne(nm))},n.\u0275dir=Mt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[sr]}),n})(),EK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})();const xK=["element"],CK=["content"];function SK(n,e){1&n&&Xn(0)}const Hw=function(n,e){return{$implicit:n,options:e}};function DK(n,e){if(1&n&&(Ai(0),nt(1,SK,1,0,"ng-container",7),Ri()),2&n){const t=Je(2);$e(1),Ue("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Br(2,Hw,t.loadedItems,t.getContentOptions()))}}function TK(n,e){1&n&&Xn(0)}function IK(n,e){if(1&n&&(Ai(0),nt(1,TK,1,0,"ng-container",7),Ri()),2&n){const t=e.$implicit,i=e.index,r=Je(3);$e(1),Ue("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Br(2,Hw,t,r.getOptions(i)))}}const MK=function(n){return{"p-scroller-loading":n}};function AK(n,e){if(1&n&&(mt(0,"div",8,9),nt(2,IK,2,5,"ng-container",10),_t()),2&n){const t=Je(2);Ue("ngClass",fi(4,MK,t.d_loading))("ngStyle",t.contentStyle),$e(2),Ue("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function RK(n,e){1&n&&Cr(0,"div",11),2&n&&Ue("ngStyle",Je(2).spacerStyle)}function PK(n,e){1&n&&Xn(0)}const kK=function(n){return{numCols:n}},nP=function(n){return{options:n}};function OK(n,e){if(1&n&&(Ai(0),nt(1,PK,1,0,"ng-container",7),Ri()),2&n){const t=e.index,i=Je(4);$e(1),Ue("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",fi(4,nP,i.getLoaderOptions(t,i.both&&fi(2,kK,i._numItemsInViewport.cols))))}}function FK(n,e){if(1&n&&(Ai(0),nt(1,OK,2,6,"ng-container",14),Ri()),2&n){const t=Je(3);$e(1),Ue("ngForOf",t.loaderArr)}}function LK(n,e){1&n&&Xn(0)}const NK=function(){return{styleClass:"p-scroller-loading-icon"}};function VK(n,e){if(1&n&&(Ai(0),nt(1,LK,1,0,"ng-container",7),Ri()),2&n){const t=Je(4);$e(1),Ue("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",fi(3,nP,Lc(2,NK)))}}function BK(n,e){1&n&&Cr(0,"i",16)}function zK(n,e){if(1&n&&(nt(0,VK,2,5,"ng-container",0),nt(1,BK,1,0,"ng-template",null,15,ia)),2&n){const t=$o(2);Ue("ngIf",Je(3).loaderIconTemplate)("ngIfElse",t)}}const jK=function(n){return{"p-component-overlay":n}};function UK(n,e){if(1&n&&(mt(0,"div",12),nt(1,FK,2,1,"ng-container",0),nt(2,zK,3,2,"ng-template",null,13,ia),_t()),2&n){const t=$o(3),i=Je(2);Ue("ngClass",fi(3,jK,!i.loaderTemplate)),$e(1),Ue("ngIf",i.loaderTemplate)("ngIfElse",t)}}const GK=function(n,e){return{"p-scroller":!0,"p-both-scroll":n,"p-horizontal-scroll":e}};function HK(n,e){if(1&n){const t=Bi();Ai(0),mt(1,"div",2,3),en("scroll",function(r){return fn(t),pn(Je().onContainerScroll(r))}),nt(3,DK,2,5,"ng-container",0),nt(4,AK,3,6,"ng-template",null,4,ia),nt(6,RK,1,1,"div",5),nt(7,UK,4,5,"div",6),_t(),Ri()}if(2&n){const t=$o(5),i=Je();$e(1),qo(i._styleClass),Ue("ngStyle",i._style)("ngClass",Br(10,GK,i.both,i.horizontal)),Kn("id",i._id)("tabindex",i.tabindex),$e(2),Ue("ngIf",i.contentTemplate)("ngIfElse",t),$e(3),Ue("ngIf",i._showSpacer),$e(1),Ue("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function WK(n,e){1&n&&Xn(0)}const ZK=function(n,e){return{rows:n,columns:e}};function KK(n,e){if(1&n&&(Ai(0),nt(1,WK,1,0,"ng-container",7),Ri()),2&n){const t=Je(2);$e(1),Ue("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Br(5,Hw,t.items,Br(2,ZK,t._items,t.loadedColumns)))}}function YK(n,e){if(1&n&&(na(0),nt(1,KK,2,8,"ng-container",17)),2&n){const t=Je();$e(1),Ue("ngIf",t.contentTemplate)}}const $K=["*"];let qK=(()=>{class n{constructor(t,i){this.cd=t,this.zone=i,this.onLazyLoad=new Pt,this.onScroll=new Pt,this.onScrollIndexChange=new Pt,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._delay=0,this._resizeDelay=10,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1,this._disabled||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&"object"==typeof t&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){const{previousValue:r,currentValue:o}=t.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(this.initialized&&!i&&(t.items||t.itemSize||t.scrollHeight||t.scrollWidth)&&this.init(),t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){const{previousValue:r,currentValue:o}=t.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(t.options){const{previousValue:r,currentValue:o}=t.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":default:this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template}})}ngAfterViewInit(){this.setContentEl(this.contentEl),this.init(),this.defaultWidth=rt.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=rt.getHeight(this.elementViewChild.nativeElement),this.initialized=!0}ngAfterViewChecked(){this.calculateAutoSize()}ngOnDestroy(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||rt.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems}getElementRef(){return this.elementViewChild}scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),s=(c=0,h)=>c<=h?0:c,a=(c,h,f)=>c*h+f,l=(c=0,h=0)=>this.scrollTo({left:c,top:h,behavior:i});if(this.both){const c={rows:s(t[0],r[0]),cols:s(t[1],r[1])};(c.rows!==this.first.rows||c.cols!==this.first.cols)&&l(a(c.cols,this._itemSize[1],o.left),a(c.rows,this._itemSize[0],o.top))}else{const c=s(t,r);c!==this.first&&(this.horizontal?l(a(c,this._itemSize,o.left),0):l(0,a(c,this._itemSize,o.top)))}}scrollInView(t,i,r="auto"){if(i){const{first:o,viewport:s}=this.getRenderedRange(),a=(h=0,f=0)=>this.scrollTo({left:h,top:f,behavior:r}),c="to-end"===i;if("to-start"===i){if(this.both)s.first.rows-o.rows>t[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>t[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>t){const h=(s.first-1)*this._itemSize;this.horizontal?a(h,0):a(0,h)}}else if(c)if(this.both)s.last.rows-o.rows<=t[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=t[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=t+1){const h=(s.first+1)*this._itemSize;this.horizontal?a(h,0):a(0,h)}}else this.scrollToIndex(t,r)}getRenderedRange(){const t=(o,s)=>Math.floor(o/(s||o));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;this.both?(i={rows:t(o,this._itemSize[0]),cols:t(s,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=t(this.horizontal?s:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const t=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0,o=(c,h)=>Math.ceil(c/(h||c)),s=c=>Math.ceil(c/2),a=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:a,numToleratedItems:this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a))}}calculateOptions(){const{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,h=!1)=>this.getLast(a+l+(a<c?2:3)*c,h),o=this.first,s=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=s,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&this.handleEvents("onLazyLoad",{first:o,last:s})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:t,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(t<this.defaultWidth?t:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){const t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),o=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),s=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:o,bottom:s,x:i+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,o=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const t=this.getContentPosition(),i=(r,o,s,a=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*s+a+"px"};this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl){const i=t?t.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${s}px, ${a}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const s=r(i,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(t){const i=t.target,r=this.getContentPosition(),o=($,te)=>$?$>te?$-te:$:0,s=($,te)=>Math.floor($/(te||$)),a=($,te,ae,re,pe,_e)=>$<=pe?pe:_e?ae-re-pe:te+pe-1,l=($,te,ae,re,pe,_e,Ie)=>$<=_e?0:Math.max(0,Ie?$<te?ae:$-_e:$>te?ae:$-2*_e),c=($,te,ae,re,pe,_e=!1)=>{let Ie=te+re+2*pe;return $>=pe&&(Ie+=pe+1),this.getLast(Ie,_e)},h=o(i.scrollTop,r.top),f=o(i.scrollLeft,r.left);let p=this.both?{rows:0,cols:0}:0,E=this.last,D=!1,H=this.lastScrollPos;if(this.both){const $=this.lastScrollPos.top<=h,te=this.lastScrollPos.left<=f,ae={rows:s(h,this._itemSize[0]),cols:s(f,this._itemSize[1])},re={rows:a(ae.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],$),cols:a(ae.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],te)};p={rows:l(ae.rows,re.rows,this.first.rows,0,0,this.d_numToleratedItems[0],$),cols:l(ae.cols,re.cols,this.first.cols,0,0,this.d_numToleratedItems[1],te)},E={rows:c(ae.rows,p.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(ae.cols,p.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},D=p.rows!==this.first.rows||E.rows!==this.last.rows||p.cols!==this.first.cols||E.cols!==this.last.cols,H={top:h,left:f}}else{const $=this.horizontal?f:h,te=this.lastScrollPos<=$,ae=s($,this._itemSize);p=l(ae,a(ae,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,te),this.first,0,0,this.d_numToleratedItems,te),E=c(ae,p,0,this.numItemsInViewport,this.d_numToleratedItems),D=p!==this.first||E!==this.last,H=$}return{first:p,last:E,isRangeChanged:D,scrollPos:H}}onScrollChange(t){const{first:i,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(t);if(o){const a={first:i,last:r};this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.handleEvents("onLazyLoad",a)}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(t);i&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.cd.detectChanges())},this._delay)}else this.onScrollChange(t)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(this.elementViewChild){const[t,i]=[rt.getWidth(this.elementViewChild.nativeElement),rt.getHeight(this.elementViewChild.nativeElement)],[r,o]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){const i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(t,i){const r=this.loaderArr.length;return{index:t,count:r,first:0===t,last:t===r-1,even:t%2==0,odd:t%2!=0,...i}}}return n.\u0275fac=function(t){return new(t||n)(Ne(oa),Ne(An))},n.\u0275cmp=Yr({type:n,selectors:[["p-scroller"]],contentQueries:function(t,i,r){if(1&t&&Jo(r,_d,4),2&t){let o;Gn(o=Hn())&&(i.templates=o)}},viewQuery:function(t,i){if(1&t&&(zi(xK,5),zi(CK,5)),2&t){let r;Gn(r=Hn())&&(i.elementViewChild=r.first),Gn(r=Hn())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",delay:"delay",resizeDelay:"resizeDelay",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[sr],ngContentSelectors:$K,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(t,i){if(1&t&&(Mc(),nt(0,HK,8,13,"ng-container",0),nt(1,YK,2,1,"ng-template",null,1,ia)),2&t){const r=$o(2);Ue("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[al,Sp,ll,Bc,cl],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}\n"],encapsulation:2}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})(),Ww=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(rt.removeClass(i,"p-ink-active"),!rt.getHeight(i)&&!rt.getWidth(i)){let a=Math.max(rt.getOuterWidth(this.el.nativeElement),rt.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=rt.getOffset(this.el.nativeElement),o=t.pageX-r.left+document.body.scrollTop-rt.getWidth(i)/2,s=t.pageY-r.top+document.body.scrollLeft-rt.getHeight(i)/2;i.style.top=s+"px",i.style.left=o+"px",rt.addClass(i,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&rt.removeClass(t,"p-ink-active")}onAnimationEnd(t){rt.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),rt.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(An),Ne(nm,8))},n.\u0275dir=Mt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),fm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})(),XK=(()=>{class n{constructor(t){this.host=t,this.focused=!1}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const t=rt.getFocusableElements(this.host.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0}}}return n.\u0275fac=function(t){return new(t||n)(Ne(di))},n.\u0275dir=Mt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:["pAutoFocus","autofocus"]}}),n})(),QK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})();function JK(n,e){if(1&n&&(mt(0,"span"),$i(1),_t()),2&n){const t=Je();$e(1),Vr(t.label||"empty")}}function eY(n,e){1&n&&Xn(0)}const xd=function(n){return{height:n}},tY=function(n,e){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e}},Zw=function(n){return{$implicit:n}},nY=["container"],iY=["filter"],rY=["in"],oY=["editableInput"],sY=["items"],aY=["scroller"];function lY(n,e){if(1&n&&(Ai(0),$i(1),Ri()),2&n){const t=Je(2);$e(1),Vr(t.label||"empty")}}function cY(n,e){1&n&&Xn(0)}const uY=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function hY(n,e){if(1&n&&(mt(0,"span",12),nt(1,lY,2,1,"ng-container",13),nt(2,cY,1,0,"ng-container",14),_t()),2&n){const t=Je();Ue("ngClass",fi(9,uY,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),Kn("id",t.labelId),$e(1),Ue("ngIf",!t.selectedItemTemplate),$e(1),Ue("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",fi(11,Zw,t.selectedOption))}}const dY=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function fY(n,e){if(1&n&&(mt(0,"span",15),$i(1),_t()),2&n){const t=Je();Ue("ngClass",fi(2,dY,null==t.placeholder||0===t.placeholder.length)),$e(1),Vr(t.placeholder||"empty")}}function pY(n,e){if(1&n){const t=Bi();mt(0,"input",16,17),en("click",function(){return fn(t),pn(Je().onEditableInputClick())})("input",function(r){return fn(t),pn(Je().onEditableInputChange(r))})("focus",function(r){return fn(t),pn(Je().onEditableInputFocus(r))})("blur",function(r){return fn(t),pn(Je().onInputBlur(r))}),_t()}if(2&n){const t=Je();Ue("disabled",t.disabled),Kn("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function gY(n,e){if(1&n){const t=Bi();mt(0,"i",18),en("click",function(r){return fn(t),pn(Je().clear(r))}),_t()}}function mY(n,e){1&n&&Xn(0)}function _Y(n,e){1&n&&Xn(0)}const rP=function(n){return{options:n}};function yY(n,e){if(1&n&&(Ai(0),nt(1,_Y,1,0,"ng-container",14),Ri()),2&n){const t=Je(3);$e(1),Ue("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",fi(2,rP,t.filterOptions))}}function bY(n,e){if(1&n){const t=Bi();mt(0,"div",27)(1,"input",28,29),en("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return fn(t),pn(Je(3).onKeydown(r,!1))})("input",function(r){return fn(t),pn(Je(3).onFilterInputChange(r))}),_t(),Cr(3,"span",30),_t()}if(2&n){const t=Je(3);$e(1),Ue("value",t.filterValue||""),Kn("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function vY(n,e){if(1&n&&(mt(0,"div",24),en("click",function(i){return i.stopPropagation()}),nt(1,yY,2,4,"ng-container",25),nt(2,bY,4,4,"ng-template",null,26,ia),_t()),2&n){const t=$o(3),i=Je(2);$e(1),Ue("ngIf",i.filterTemplate)("ngIfElse",t)}}function wY(n,e){1&n&&Xn(0)}const oP=function(n,e){return{$implicit:n,options:e}};function EY(n,e){if(1&n&&nt(0,wY,1,0,"ng-container",14),2&n){const t=e.$implicit,i=e.options;Je(2),Ue("ngTemplateOutlet",$o(7))("ngTemplateOutletContext",Br(2,oP,t,i))}}function xY(n,e){1&n&&Xn(0)}function CY(n,e){if(1&n&&nt(0,xY,1,0,"ng-container",14),2&n){const t=e.options;Ue("ngTemplateOutlet",Je(4).loaderTemplate)("ngTemplateOutletContext",fi(2,rP,t))}}function SY(n,e){1&n&&(Ai(0),nt(1,CY,1,4,"ng-template",34),Ri())}function DY(n,e){if(1&n){const t=Bi();mt(0,"p-scroller",31,32),en("onLazyLoad",function(r){return fn(t),pn(Je(2).onLazyLoad.emit(r))}),nt(2,EY,1,5,"ng-template",33),nt(3,SY,2,0,"ng-container",13),_t()}if(2&n){const t=Je(2);Nr(fi(8,xd,t.scrollHeight)),Ue("items",t.optionsToDisplay)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),$e(3),Ue("ngIf",t.loaderTemplate)}}function TY(n,e){1&n&&Xn(0)}const IY=function(){return{}};function MY(n,e){if(1&n&&(Ai(0),nt(1,TY,1,0,"ng-container",14),Ri()),2&n){Je();const t=$o(7),i=Je();$e(1),Ue("ngTemplateOutlet",t)("ngTemplateOutletContext",Br(3,oP,i.optionsToDisplay,Lc(2,IY)))}}function AY(n,e){if(1&n&&(mt(0,"span"),$i(1),_t()),2&n){const t=Je().$implicit,i=Je(4);$e(1),Vr(i.getOptionGroupLabel(t)||"empty")}}function RY(n,e){1&n&&Xn(0)}function PY(n,e){1&n&&Xn(0)}const sP=function(n,e){return{$implicit:n,selectedOption:e}};function kY(n,e){if(1&n&&(mt(0,"li",40),nt(1,AY,2,1,"span",13),nt(2,RY,1,0,"ng-container",14),_t(),nt(3,PY,1,0,"ng-container",14)),2&n){const t=e.$implicit,i=Je(2).options,r=$o(5),o=Je(2);Ue("ngStyle",fi(6,xd,i.itemSize+"px")),$e(1),Ue("ngIf",!o.groupTemplate),$e(1),Ue("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",fi(8,Zw,t)),$e(1),Ue("ngTemplateOutlet",r)("ngTemplateOutletContext",Br(10,sP,o.getOptionGroupChildren(t),o.selectedOption))}}function OY(n,e){if(1&n&&(Ai(0),nt(1,kY,4,13,"ng-template",39),Ri()),2&n){const t=Je().$implicit;$e(1),Ue("ngForOf",t)}}function FY(n,e){1&n&&Xn(0)}function LY(n,e){if(1&n&&(Ai(0),nt(1,FY,1,0,"ng-container",14),Ri()),2&n){const t=Je().$implicit,i=$o(5),r=Je(2);$e(1),Ue("ngTemplateOutlet",i)("ngTemplateOutletContext",Br(2,sP,t,r.selectedOption))}}function NY(n,e){if(1&n){const t=Bi();mt(0,"p-dropdownItem",41),en("onClick",function(r){return fn(t),pn(Je(4).onItemClick(r))}),_t()}if(2&n){const t=e.$implicit,i=Je().selectedOption,r=Je(3);Ue("option",t)("selected",i==t)("label",r.getOptionLabel(t))("disabled",r.isOptionDisabled(t))("template",r.itemTemplate)}}function VY(n,e){1&n&&nt(0,NY,1,5,"ng-template",39),2&n&&Ue("ngForOf",e.$implicit)}function BY(n,e){if(1&n&&(Ai(0),$i(1),Ri()),2&n){const t=Je(4);$e(1),Pc(" ",t.emptyFilterMessageLabel," ")}}function zY(n,e){1&n&&Xn(0,null,43)}function jY(n,e){if(1&n&&(mt(0,"li",42),nt(1,BY,2,1,"ng-container",25),nt(2,zY,2,0,"ng-container",19),_t()),2&n){const t=Je().options,i=Je(2);Ue("ngStyle",fi(4,xd,t.itemSize+"px")),$e(1),Ue("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),$e(1),Ue("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function UY(n,e){if(1&n&&(Ai(0),$i(1),Ri()),2&n){const t=Je(4);$e(1),Pc(" ",t.emptyMessageLabel," ")}}function GY(n,e){1&n&&Xn(0,null,44)}function HY(n,e){if(1&n&&(mt(0,"li",42),nt(1,UY,2,1,"ng-container",25),nt(2,GY,2,0,"ng-container",19),_t()),2&n){const t=Je().options,i=Je(2);Ue("ngStyle",fi(4,xd,t.itemSize+"px")),$e(1),Ue("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),$e(1),Ue("ngTemplateOutlet",i.emptyTemplate)}}function WY(n,e){if(1&n&&(mt(0,"ul",35,36),nt(2,OY,2,1,"ng-container",13),nt(3,LY,2,5,"ng-container",13),nt(4,VY,1,1,"ng-template",null,37,ia),nt(6,jY,3,6,"li",38),nt(7,HY,3,6,"li",38),_t()),2&n){const t=e.options,i=Je(2);Nr(t.contentStyle),Ue("ngClass",t.contentStyleClass),Kn("id",i.listId),$e(2),Ue("ngIf",i.group),$e(1),Ue("ngIf",!i.group),$e(3),Ue("ngIf",i.filterValue&&i.isEmpty()),$e(1),Ue("ngIf",!i.filterValue&&i.isEmpty())}}function ZY(n,e){1&n&&Xn(0)}const KY=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},YY=function(n){return{value:"visible",params:n}};function $Y(n,e){if(1&n){const t=Bi();mt(0,"div",0),en("click",function(r){return fn(t),pn(Je().onOverlayClick(r))})("@overlayAnimation.start",function(r){return fn(t),pn(Je().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return fn(t),pn(Je().onOverlayAnimationEnd(r))}),nt(1,mY,1,0,"ng-container",19),nt(2,vY,4,2,"div",20),mt(3,"div",21),nt(4,DY,4,10,"p-scroller",22),nt(5,MY,2,6,"ng-container",13),nt(6,WY,8,8,"ng-template",null,23,ia),_t(),nt(8,ZY,1,0,"ng-container",19),_t()}if(2&n){const t=Je();qo(t.panelStyleClass),Ue("ngClass","p-dropdown-panel p-component")("@overlayAnimation",fi(15,YY,Br(12,KY,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),$e(1),Ue("ngTemplateOutlet",t.headerTemplate),$e(1),Ue("ngIf",t.filter),$e(1),Jf("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),$e(1),Ue("ngIf",t.virtualScroll),$e(1),Ue("ngIf",!t.virtualScroll),$e(3),Ue("ngTemplateOutlet",t.footerTemplate)}}const qY=function(n,e,t,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":i}},XY={provide:Po,useExisting:Sn(()=>aP),multi:!0};let QY=(()=>{class n{constructor(){this.onClick=new Pt}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yr({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(mt(0,"li",0),en("click",function(o){return i.onOptionClick(o)}),nt(1,JK,2,1,"span",1),nt(2,eY,1,0,"ng-container",2),_t()),2&t&&(Ue("ngStyle",fi(8,xd,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",Br(10,tY,i.selected,i.disabled)),Kn("aria-label",i.label)("aria-selected",i.selected),$e(1),Ue("ngIf",!i.template),$e(1),Ue("ngTemplateOutlet",i.template)("ngTemplateOutletContext",fi(13,Zw,i.option)))},dependencies:[al,ll,Bc,cl,Ww],encapsulation:2}),n})(),aP=(()=>{class n{constructor(t,i,r,o,s,a,l){this.el=t,this.renderer=i,this.cd=r,this.zone=o,this.filterService=s,this.config=a,this.overlayService=l,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new Pt,this.onFilter=new Pt,this.onFocus=new Pt,this.onBlur=new Pt,this.onClick=new Pt,this.onShow=new Pt,this.onHide=new Pt,this.onClear=new Pt,this.onLazyLoad=new Pt,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=Z2()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&_i.isNotEmpty(this.value)&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Y2.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Y2.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?_i.resolveFieldData(t,this.optionLabel):t&&void 0!==t.label?t.label:t}getOptionValue(t){return this.optionValue?_i.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}isOptionDisabled(t){return this.optionDisabled?_i.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?_i.resolveFieldData(t,this.optionGroupLabel):t&&void 0!==t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?_i.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const i=t.option;this.isOptionDisabled(i)||(this.selectItem(t.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},150)}selectItem(t,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(rt.findSingle(this.overlay,"li.p-highlight")&&rt.scrollInView(this.itemsWrapper,rt.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}isInputClick(t){return rt.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=rt.findSingle(this.overlay,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&Aa.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=rt.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}onOverlayAnimationEnd(t){"void"===t.toState&&Aa.clear(t.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):rt.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=rt.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?rt.absolutePosition(this.overlay,this.containerViewChild.nativeElement):rt.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=t;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<t;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(t,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(t,o),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let s=this.optionsToDisplay[r.groupIndex-1];s&&(this.selectItem(t,this.getOptionGroupChildren(s)[this.getOptionGroupChildren(s).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(t,o),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=t.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(t,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let i;return this.searchValue&&(i=this.searchOptionInRange(t,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,t))),i}searchOptionInRange(t,i){for(let r=t;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let r=t.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=t.groupIndex===r?t.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let s=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(let r=0;r<=t.groupIndex;r++)for(let o=0;o<(t.groupIndex===r?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let s=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}}return null}findOptionIndex(t,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==t&&null==this.getOptionValue(i[o])||_i.equals(t,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(t,i){let r,o;if(i)for(let s=0;s<i.length&&(r=s,o=this.findOptionIndex(t,this.getOptionGroupChildren(i[s])),-1===o);s++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(t,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let s of i)if(o=this.findOption(t,this.getOptionGroupChildren(s),!0),o)break;return o}{let o=this.findOptionIndex(t,i);return-1!=o?i[o]:null}}onFilterInputChange(t){let i=t.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),t,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?rt.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():rt.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!rt.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new $2(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Aa.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(Wo),Ne(oa),Ne(An),Ne(cZ),Ne(nm),Ne(uZ))},n.\u0275cmp=Yr({type:n,selectors:[["p-dropdown"]],contentQueries:function(t,i,r){if(1&t&&Jo(r,_d,4),2&t){let o;Gn(o=Hn())&&(i.templates=o)}},viewQuery:function(t,i){if(1&t&&(zi(nY,5),zi(iY,5),zi(rY,5),zi(oY,5),zi(sY,5),zi(aY,5)),2&t){let r;Gn(r=Hn())&&(i.containerViewChild=r.first),Gn(r=Hn())&&(i.filterViewChild=r.first),Gn(r=Hn())&&(i.accessibleViewChild=r.first),Gn(r=Hn())&&(i.editableInputViewChild=r.first),Gn(r=Hn())&&(i.itemsViewChild=r.first),Gn(r=Hn())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,i){2&t&&nl("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Vn([XY])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","pAutoFocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(t,i){1&t&&(mt(0,"div",0,1),en("click",function(o){return i.onMouseclick(o)}),mt(2,"div",2)(3,"input",3,4),en("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),_t()(),nt(5,hY,3,13,"span",5),nt(6,fY,2,4,"span",6),nt(7,pY,2,4,"input",7),nt(8,gY,1,0,"i",8),mt(9,"div",9),Cr(10,"span",10),_t(),nt(11,$Y,9,17,"div",11),_t()),2&t&&(qo(i.styleClass),Ue("ngClass",op(20,qY,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),$e(3),Ue("disabled",i.disabled)("pAutoFocus",i.autofocus),Kn("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),$e(2),Ue("ngIf",!i.editable&&null!=i.label),$e(1),Ue("ngIf",!i.editable&&null==i.label),$e(1),Ue("ngIf",i.editable),$e(1),Ue("ngIf",i.isVisibleClearIcon),$e(1),Kn("aria-expanded",i.overlayVisible),$e(1),Ue("ngClass",i.dropdownIcon),$e(1),Ue("ngIf",i.overlayVisible))},dependencies:[al,Sp,ll,Bc,cl,_d,wK,qK,XK,QY],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[bT("overlayAnimation",[Op(":enter",[zc({opacity:0,transform:"scaleY(0.8)"}),kp("{{showTransitionParams}}")]),Op(":leave",[kp("{{hideTransitionParams}}",zc({opacity:0}))])])]},changeDetection:0}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo,yd,EK,fm,iP,QK,yd,iP]}),n})();function JY(n,e){1&n&&Xn(0)}const e$=function(n,e,t,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":e,"p-button-icon-top":t,"p-button-icon-bottom":i}};function t$(n,e){if(1&n&&Cr(0,"span",4),2&n){const t=Je();qo(t.loading?"p-button-loading-icon "+t.loadingIcon:t.icon),Ue("ngClass",op(4,e$,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),Kn("aria-hidden",!0)}}function n$(n,e){if(1&n&&(mt(0,"span",5),$i(1),_t()),2&n){const t=Je();Kn("aria-hidden",t.icon&&!t.label),$e(1),Vr(t.label||"\xa0")}}function i$(n,e){if(1&n&&(mt(0,"span",4),$i(1),_t()),2&n){const t=Je();qo(t.badgeClass),Ue("ngClass",t.badgeStyleClass()),$e(1),Vr(t.badge)}}const r$=function(n,e,t,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":e,"p-disabled":t,"p-button-loading":i,"p-button-loading-label-only":r}},o$=["*"];let s$=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new Pt,this.onFocus=new Pt,this.onBlur=new Pt}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yr({type:n,selectors:[["p-button"]],contentQueries:function(t,i,r){if(1&t&&Jo(r,_d,4),2&t){let o;Gn(o=Hn())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:o$,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(t,i){1&t&&(Mc(),mt(0,"button",0),en("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),na(1),nt(2,JY,1,0,"ng-container",1),nt(3,t$,1,9,"span",2),nt(4,n$,2,2,"span",3),nt(5,i$,2,4,"span",2),_t()),2&t&&(qo(i.styleClass),Ue("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",function CS(n,e,t,i,r,o,s,a){const l=Vi()+n,c=Ge(),h=Xr(c,l,t,i,r,o);return Yi(c,l+4,s)||h?Yo(c,l+5,a?e.call(a,t,i,r,o,s):e(t,i,r,o,s)):sh(c,l+5)}(11,r$,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),Kn("type",i.type)("aria-label",i.ariaLabel),$e(2),Ue("ngTemplateOutlet",i.contentTemplate),$e(1),Ue("ngIf",!i.contentTemplate&&(i.icon||i.loading)),$e(1),Ue("ngIf",!i.contentTemplate),$e(1),Ue("ngIf",!i.contentTemplate&&i.badge))},dependencies:[al,ll,Bc,cl,Ww],encapsulation:2,changeDetection:0}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo,fm]}),n})(),a$=(()=>{class n{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let i=rt.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(t){return new(t||n)(Ne(di))},n.\u0275dir=Mt({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&en("keydown.tab",function(o){return i.onkeydown(o)})("keydown.shift.tab",function(o){return i.onkeydown(o)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo]}),n})();const c$=["titlebar"],u$=["content"],h$=["footer"];function d$(n,e){if(1&n){const t=Bi();mt(0,"div",11),en("mousedown",function(r){return fn(t),pn(Je(3).initResize(r))}),_t()}}function f$(n,e){if(1&n&&(mt(0,"span",18),$i(1),_t()),2&n){const t=Je(4);Kn("id",t.id+"-label"),$e(1),Vr(t.header)}}function p$(n,e){1&n&&(mt(0,"span",18),na(1,1),_t()),2&n&&Kn("id",Je(4).id+"-label")}function g$(n,e){1&n&&Xn(0)}const m$=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function _$(n,e){if(1&n){const t=Bi();mt(0,"button",19),en("click",function(){return fn(t),pn(Je(4).maximize())})("keydown.enter",function(){return fn(t),pn(Je(4).maximize())}),Cr(1,"span",20),_t()}if(2&n){const t=Je(4);Ue("ngClass",Lc(2,m$)),$e(1),Ue("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const y$=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function b$(n,e){if(1&n){const t=Bi();mt(0,"button",21),en("click",function(r){return fn(t),pn(Je(4).close(r))})("keydown.enter",function(r){return fn(t),pn(Je(4).close(r))}),Cr(1,"span",22),_t()}if(2&n){const t=Je(4);Ue("ngClass",Lc(4,y$)),Kn("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),$e(1),Ue("ngClass",t.closeIcon)}}function v$(n,e){if(1&n){const t=Bi();mt(0,"div",12,13),en("mousedown",function(r){return fn(t),pn(Je(3).initDrag(r))}),nt(2,f$,2,2,"span",14),nt(3,p$,2,1,"span",14),nt(4,g$,1,0,"ng-container",9),mt(5,"div",15),nt(6,_$,2,3,"button",16),nt(7,b$,2,5,"button",17),_t()()}if(2&n){const t=Je(3);$e(2),Ue("ngIf",!t.headerFacet&&!t.headerTemplate),$e(1),Ue("ngIf",t.headerFacet),$e(1),Ue("ngTemplateOutlet",t.headerTemplate),$e(2),Ue("ngIf",t.maximizable),$e(1),Ue("ngIf",t.closable)}}function w$(n,e){1&n&&Xn(0)}function E$(n,e){1&n&&Xn(0)}function x$(n,e){if(1&n&&(mt(0,"div",23,24),na(2,2),nt(3,E$,1,0,"ng-container",9),_t()),2&n){const t=Je(3);$e(3),Ue("ngTemplateOutlet",t.footerTemplate)}}const C$=function(n,e,t,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}},S$=function(n,e){return{transform:n,transition:e}},D$=function(n){return{value:"visible",params:n}};function T$(n,e){if(1&n){const t=Bi();mt(0,"div",3,4),en("@animation.start",function(r){return fn(t),pn(Je(2).onAnimationStart(r))})("@animation.done",function(r){return fn(t),pn(Je(2).onAnimationEnd(r))}),nt(2,d$,1,0,"div",5),nt(3,v$,8,5,"div",6),mt(4,"div",7,8),na(6),nt(7,w$,1,0,"ng-container",9),_t(),nt(8,x$,4,1,"div",10),_t()}if(2&n){const t=Je(2);qo(t.styleClass),Ue("ngClass",op(15,C$,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",fi(23,D$,Br(20,S$,t.transformOptions,t.transitionOptions))),Kn("aria-labelledby",t.id+"-label"),$e(2),Ue("ngIf",t.resizable),$e(1),Ue("ngIf",t.showHeader),$e(1),qo(t.contentStyleClass),Ue("ngClass","p-dialog-content")("ngStyle",t.contentStyle),$e(3),Ue("ngTemplateOutlet",t.contentTemplate),$e(1),Ue("ngIf",t.footerFacet||t.footerTemplate)}}const I$=function(n,e,t,i,r,o,s,a,l,c){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":s,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}};function M$(n,e){if(1&n&&(mt(0,"div",1),nt(1,T$,9,25,"div",2),_t()),2&n){const t=Je();qo(t.maskStyleClass),Ue("ngClass",SS(4,I$,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),$e(1),Ue("ngIf",t.visible)}}const A$=["*",[["p-header"]],[["p-footer"]]],R$=["*","p-header","p-footer"],P$=wT([zc({transform:"{{transform}}",opacity:0}),kp("{{transition}}")]),k$=wT([kp("{{transition}}",zc({transform:"{{transform}}",opacity:0}))]);let O$=(()=>{class n{constructor(t,i,r,o,s){this.el=t,this.renderer=i,this.zone=r,this.cd=o,this.config=s,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new Pt,this.onHide=new Pt,this.visibleChange=new Pt,this.onResizeInit=new Pt,this.onResizeEnd=new Pt,this.onDragEnd=new Pt,this.onMaximize=new Pt,this.id=Z2(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=rt.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&rt.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&rt.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?rt.addClass(document.body,"p-overflow-hidden"):rt.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Aa.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){rt.hasClass(t.target,"p-dialog-header-icon")||rt.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",rt.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let i=rt.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(t){if(this.dragging){let i=rt.getOuterWidth(this.container),r=rt.getOuterHeight(this.container),o=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+o,c=a.top+s,h=rt.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+i<h.width&&(this._style.left=l+"px",this.lastPageX=t.pageX,this.container.style.left=l+"px"),c>=this.minY&&c+r<h.height&&(this._style.top=c+"px",this.lastPageY=t.pageY,this.container.style.top=c+"px")):(this.lastPageX=t.pageX,this.container.style.left=l+"px",this.lastPageY=t.pageY,this.container.style.top=c+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,rt.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,rt.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,o=rt.getOuterWidth(this.container),s=rt.getOuterHeight(this.container),a=rt.getOuterHeight(this.contentViewChild.nativeElement),l=o+i,c=s+r,h=this.container.style.minWidth,f=this.container.style.minHeight,p=this.container.getBoundingClientRect(),E=rt.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!h||l>parseInt(h))&&p.left+l<E.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!f||c>parseInt(f))&&p.top+c<E.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,rt.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):rt.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&rt.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&rt.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(rt.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&rt.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Aa.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(Wo),Ne(An),Ne(oa),Ne(nm))},n.\u0275cmp=Yr({type:n,selectors:[["p-dialog"]],contentQueries:function(t,i,r){if(1&t&&(Jo(r,hZ,5),Jo(r,dZ,5),Jo(r,_d,4)),2&t){let o;Gn(o=Hn())&&(i.headerFacet=o.first),Gn(o=Hn())&&(i.footerFacet=o.first),Gn(o=Hn())&&(i.templates=o)}},viewQuery:function(t,i){if(1&t&&(zi(c$,5),zi(u$,5),zi(h$,5)),2&t){let r;Gn(r=Hn())&&(i.headerViewChild=r.first),Gn(r=Hn())&&(i.contentViewChild=r.first),Gn(r=Hn())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:R$,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(t,i){1&t&&(Mc(A$),nt(0,M$,2,15,"div",0)),2&t&&Ue("ngIf",i.maskVisible)},dependencies:[al,ll,Bc,cl,a$,Ww],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[bT("animation",[Op("void => visible",[ET(P$)]),Op("visible => void",[ET(k$)])])]},changeDetection:0}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo,l$,fm,yd]}),n})();const F$=["mapViewer"],L$=["layertree"],N$=["popup"],V$=["fullscreen"],B$=["mousePosition"];function z$(n,e){if(1&n){const t=Bi();mt(0,"ul",19)(1,"p-dropdown",20),en("ngModelChange",function(r){return fn(t),pn(Je().selectedStyle=r)})("onChange",function(){fn(t);const r=Je();return pn(r.onBaseMapChange(r.selectedStyle))}),_t()()}if(2&n){const t=Je();$e(1),Ue("baseZIndex",99999)("options",t.styles)("ngModel",t.selectedStyle)}}function j$(n,e){if(1&n){const t=Bi();mt(0,"li",21)(1,"span",22),en("click",function(r){const s=fn(t).$implicit;return pn(Je().setActiveLayer(r,s))}),$i(2),_t(),mt(3,"div",23)(4,"label",24)(5,"input",25),en("mouseout",function(){return fn(t),pn(Je().isBlockDraggable=!1)})("ngModelChange",function(r){return pn(fn(t).$implicit.opacity=r)})("mouseover",function(){return fn(t),pn(Je().isBlockDraggable=!0)})("input",function(r){const s=fn(t).$implicit;return pn(Je().onChangeOpacity(r,s.ref))}),_t()(),mt(6,"span",26)(7,"i",27),en("click",function(r){const s=fn(t).$implicit;return pn(Je().visibilityChange(r,s.ref))}),_t()(),mt(8,"span",28)(9,"i",29),en("click",function(r){const s=fn(t).$implicit;return pn(Je().zoomToLayer(r,s))}),_t()(),mt(10,"span",30)(11,"i",31),en("click",function(r){const s=fn(t).$implicit;return pn(Je().exportShapefile(r,s))}),_t()()()()}if(2&n){const t=e.$implicit;$e(1),Jf("font-weight",t.primary?"bold":"normal"),Ac("title",t.title),$e(1),Vr(t.title),$e(3),Ue("ngModel",t.opacity),$e(2),Ue("ngClass",t.visible?"pi pi-eye":"pi pi-eye-slash")}}function U$(n,e){if(1&n){const t=Bi();mt(0,"li",21)(1,"span",32),en("click",function(r){const s=fn(t).$implicit;return pn(Je().setActiveLayer(r,s))}),$i(2),_t(),Cr(3,"div",23),_t()}if(2&n){const t=e.$implicit;$e(1),Ac("title",t.title),$e(1),Vr(t.title)}}function G$(n,e){if(1&n&&(mt(0,"h3"),$i(1),_t()),2&n){const t=Je(2);$e(1),Vr(t.activeLayer.title)}}function H$(n,e){if(1&n&&(mt(0,"li",42),$i(1),_t()),2&n){const t=e.$implicit;$e(1),$0("",t.displayName,": ",t.value,"")}}function W$(n,e){1&n&&Cr(0,"hr")}function Z$(n,e){if(1&n&&(mt(0,"ul",40),nt(1,H$,2,2,"li",41),nt(2,W$,1,0,"hr",38),_t()),2&n){const t=e.$implicit,i=e.index,r=Je(2);$e(1),Ue("ngForOf",t.feature),$e(1),Ue("ngIf",i!==r.infos.length-1)}}function K$(n,e){if(1&n){const t=Bi();mt(0,"div",33,34)(2,"a",35),en("click",function(r){return fn(t),pn(Je().closePopup(r))}),_t(),mt(3,"div",36)(4,"div",37),nt(5,G$,2,1,"h3",38),_t(),nt(6,Z$,3,2,"ul",39),_t()()}if(2&n){const t=Je();$e(5),Ue("ngIf",t.activeLayer),$e(1),Ue("ngForOf",t.infos)}}function Y$(n,e){1&n&&Cr(0,"img",47),2&n&&Ac("src",Je().$implicit.legendUrl,l0)}function $$(n,e){if(1&n&&(mt(0,"li",43)(1,"span",44),$i(2),_t(),mt(3,"div",45),nt(4,Y$,1,1,"img",46),_t()()),2&n){const t=e.$implicit;$e(1),Ac("title",t.title),$e(1),Vr(t.title),$e(2),Ue("ngIf",t.legendUrl)}}const q$=function(n){return{display:n}},X$=function(){return{width:"20vw",height:"400px"}};let Q$=(()=>{class n{constructor(t,i){this.el=t,this.renderer=i,this.allLayers=[],this.mapTimeout=null,this.map=null,this.baseMap=null,this.mapEle=null,this.selectedFeature=null,this.highlightedArea=null,this.highlightedAreaEvent=new Pt,this.dragging=!1,this.isBlockDraggable=!1,this.mousePositionControl=null,this.styles=[{description:"A\xe9reo",value:"Aerial"},{description:"A\xe9reo com descri\xe7\xe3o",value:"AerialWithLabelsOnDemand"},{description:"Estrada",value:"RoadOnDemand"},{description:"Estrada escura",value:"CanvasDark"}],this.baseMapControl=!1,this.legendVisible=!1,this.activeLayer=null,this.overlay=null,this.popupShow=!0,this.infos=[],this._viewParams=[],this.kmlLayers=[],this.resizeObserver=null,this.controlBar=new _j({units:"metric",bar:!0,steps:parseInt("4",10),text:!0,minWidth:140}),this.expandControl=!0}set zoom(t){t&&this.mapEle&&(this.mapEle.setView(new Io({center:t,zoom:this.mapEle.getView().getZoom(),projection:this.mapEle.getView().getProjection(),extent:this.params.extent})),this.ExtractFeaturesFromCoordinate(t))}set setViewParams(t){this.activeLayer&&t&&t.length>0&&this.mapEle&&(this.activeLayer.ref.getSource()?.updateParams({VIEWPARAMS:t}),this._viewParams=t)}ngOnInit(){this.params={mapId:"",title:"Mapa report 6",baseMap:{title:"titulo da camada",type:"bing",zIndex:0,key:"AsQMFShoIU3hEnknwia7vT_d3fL8X2dO6V3HZX57-Tfzp_jBdFvizuyqjTahBhkC",imagerySet:"Aerial",viewParams:[]},centerCoords:[-56.9447,-1.313],projection:"EPSG:4674",extent:[-58.8955,-9.8412,-46.07,4.4707],defaultZoom:1,maxZoom:19,controls:{fullScreen:!0,zoomInOut:!0,currentLocation:!0,zoomExtent:!0,scale:!0,scaleLine:!0,basemap:!0,rotate:!0},layers:{sources:[{title:"Munic\xedpios",layerUrl:"https://geoserver.apps.geoapplications.net/geoserver/wms",layerIdentifier:["semas_car2_hom:vw_camada_municipios"],permissions:["view","hide","..."],primary:!1,type:"geoserver",zIndex:5,boundingBox:[],sourceType:"wms",descriptionFields:[{displayName:"Munic\xedpio",key:"tx_nome_municipio"},{displayName:"Sigla do Estado",key:"tx_sigla_municipio"},{displayName:"\xc1rea",key:"area_km2"}],viewParams:[]},{title:"Unidades da federa\xe7\xe3o",layerUrl:"https://geoserver.apps.geoapplications.net/geoserver/wms",layerIdentifier:["semas_car2_hom:vw_camada_ufs"],permissions:["view","hide","..."],primary:!1,type:"geoserver",zIndex:10,boundingBox:[],sourceType:"wms",descriptionFields:[{displayName:"Nome da UF",key:"tx_nome_uf"},{displayName:"Sigla",key:"tx_sigla_uf"},{displayName:"Regi\xe3o",key:"nm_regiao"}],viewParams:[]},{title:"Im\xf3veis",layerUrl:"https://geoserver.apps.geoapplications.net/geoserver/wms",layerIdentifier:["semas_car2_hom:geo_vw_imoveis"],permissions:["view","hide","..."],visible:!0,zoomOnInit:!0,primary:!1,type:"geoserver",zIndex:9,boundingBox:[-56.9447,-1.313,-56.9013,-1.2805],sourceType:"wms",descriptionFields:[{displayName:"Nome do Im\xf3vel",key:"tx_nome_imovel"},{displayName:"C\xf3digo do Im\xf3vel",key:"tx_cod_imovel"},{displayName:"Status",key:"tx_status_imovel"},{displayName:"Tipo",key:"tx_tipo_imovel"},{displayName:"N\xfamero m\xf3dulo fiscal",key:"num_modulo_fiscal"},{displayName:"Condi\xe7\xe3o",key:"tx_des_condicao"},{displayName:"\xc1rea",key:"area_calc_ir"}],viewParams:["id_imovel:122161"]},{title:"Im\xf3vel fora munic\xedpio de cadastro",layerUrl:"https://geoserver.apps.geoapplications.net/geoserver/wms",visible:!0,layerIdentifier:["semas_car2_hom:geo_vw_detalhe_imovel_fora_municipio"],permissions:["view","hide","..."],primary:!1,type:"geoserver",zIndex:8,boundingBox:[-57.218,-1.4919,-56.8463,-1.1668],sourceType:"wms",descriptionFields:[{displayName:"Cod. Imovel Vizinho",key:"cod_imovel_vizinho"},{displayName:"Org\xe3o Respons\xe1vel",key:"tx_orgao_resp"},{displayName:"Data da \xfaltima an\xe1lise",key:"data_ultima_analise"}],viewParams:["id_imovel:122161"]}]}}}ngAfterViewInit(){console.log(this.popupElem),this.mapTimeout=setTimeout(()=>{this.initMap(this.map,this.mapElem&&this.mapElem.nativeElement)},2e3)}ngOnChanges(t){for(const i in t)if(t.hasOwnProperty(i))switch(i){case"params":this.mousePositionControl=null,this.mapEle&&(this.baseMapControl=!1,this.expandControl=!0,this.legendVisible=!1,this.mapEle.removeOverlay(this.overlay),this.overlay.setPosition(void 0),this.mapEle.setTarget(null),this.mapTimeout&&clearTimeout(this.mapTimeout),this.mapTimeout=setTimeout(()=>{this.initMap(this.map,this.mapElem&&this.mapElem.nativeElement)},2e3));break;case"parsedFiles":this.parsedFiles&&(console.log(this.parsedFiles),this.addLayerFromGeojson(this.parsedFiles))}}addLayerFromGeojson(t){const i=(new ud).readFeatures(t);console.log(i);const r=new nd({features:i});let o=new su({title:t.fileName,source:r});this.mapEle.addLayer(o),this.kmlLayers.push({title:t.fileName,ref:o})}setActiveLayer(t,i){this.activeLayer&&(this.activeLayer.primary=!1,this.infos=[],this.highlightedArea.getSource()?.clear(),this.overlay.setPosition(void 0)),i.primary=!0,this.activeLayer=i}closePopup(t=null){t&&t.stopPropagation(),this.highlightedArea.getSource()?.clear(),this.overlay.setPosition(void 0)}showLegend(){this.legendVisible=!0}drop(t){SA(this.params.layers.sources,t.previousIndex,t.currentIndex),this.params.layers.sources.forEach((i,r)=>{this.rebuildZIndex(i.ref.ol_uid,r,this.mapEle.getLayerGroup())})}handleDragStart(t){this.dragging=!0}onChangeOpacity(t,i){i.setOpacity(parseFloat(t.target.value))}showBaseMapControl(){this.baseMapControl=!this.baseMapControl}onBaseMapChange(t){let i=null;if(this.baseMap.getLayersArray().forEach(r=>{r.getSource()instanceof vv&&(i=r)}),i){this.selectedStyle=t;let r=new vv({key:this.params.baseMap.key,imagerySet:t});i.setSource(r)}this.baseMapControl=!this.baseMapControl}exportShapefile(t,i){let r=i.layerUrl+"?service=WFS&version=1.1.0&request=GetFeature&typename="+i.layerIdentifier+"&outputFormat=SHAPE-ZIP&srsname="+this.params.projection+"&viewparams="+i.viewParams.join(",");const o=this.renderer.createElement("a");o.setAttribute("target","_self"),o.setAttribute("href",r),o.click(),o.remove()}zoomToLayer(t,i){let r=i.layerUrl+"?service=WFS&version=1.1.0&request=GetFeature&typename="+i.layerIdentifier+"&outputFormat=application/json&srsname="+this.params.projection+"&viewparams="+i.viewParams.join(",");console.log(r),fetch(r).then(function(o){return o.json()}).then(o=>{o.bbox&&(i.boundingBox=o.bbox),this.mapEle.getView().fit(i.boundingBox,{duration:1500})})}rebuildZIndex(t,i,r){r.getLayers().forEach((o,s)=>{o.ol_uid===t&&o.setZIndex(this.params.layers.sources.length-i+1),o instanceof Ls.default&&this.rebuildZIndex(t,i,o)})}visibilityChange(t,i){let r=i.getVisible();!0===r?(this.renderer.removeClass(t.target,"pi-eye"),this.renderer.addClass(t.target,"pi-eye-slash")):(this.renderer.removeClass(t.target,"pi-eye-slash"),this.renderer.addClass(t.target,"pi-eye")),this.findLayer(i.ol_uid,this.mapEle.getLayerGroup(),!r)}onVisibilityChange(t,i){this.findLayer(i.ol_uid,this.mapEle.getLayerGroup(),t.target.checked)}expandDropDown(t){this.dragging?this.dragging=!1:this.expandControl=!this.expandControl}findLayer(t,i,r){i.getLayers().forEach((o,s)=>{o.ol_uid===t&&o.setVisible(r),o instanceof Ls.default&&this.findLayer(t,o,r)})}initMap(t,i){if(f2.default.defs("EPSG:4674","+proj=longlat +ellps=GRS80 +no_defs +type=crs"),function p2(n){Hg=n;const e=Object.keys(n.defs),t=e.length;let i,r;for(i=0;i<t;++i){const o=e[i];if(!vn(o)){const s=n.defs(o);let a=s.units;!a&&"longlat"===s.projName&&(a="degrees"),yI(new Sb({code:o,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:a}))}}for(i=0;i<t;++i){const o=e[i],s=vn(o);for(r=0;r<t;++r){const a=e[r],l=vn(a);if(!hI(o,a))if(n.defs[o]===n.defs[a])kb([s,l]);else{const c=n(o,a);v6(s,l,vI(s,l,c.forward),vI(l,s,c.inverse))}}}}(f2.default),this.activeLayer=null,this.params){this.params.layers.sources=this.params.layers.sources.sort((_e,Ie)=>Ie.zIndex-_e.zIndex);let o=this.params.baseMap,s=null,l=(this.params.layers.sources.filter(_e=>{if(_e&&"geoserver"===_e.type)return _e}),this.params.layers.sources.map(_e=>{let Ie=null;if(_e&&_e.sourceType&&"wfs"===_e.sourceType)Ie=new su({title:_e.title,source:new nd({format:new ud,url:je=>_e.layerUrl+"?service=WFS&version=1.1.0&request=GetFeature&typename="+_e.layerIdentifier+"&outputFormat=application/json&srsname="+this.params.projection+"&bbox="+je.join(",")+","+this.params.projection,strategy:GU}),visible:!1,zIndex:_e.zIndex,transition:0});else{let je=new hj({url:_e.layerUrl,serverType:"geoserver",crossOrigin:"anonymous",params:{LAYERS:_e.layerIdentifier,TILED:!0,SRS:this.params.projection,BBOX:_e.boundingBox.join(","),viewparams:_e.viewParams,VERSION:"1.1.0"}});Ie=new PM({title:_e.title,source:je,visible:!!_e.visible,zIndex:_e.zIndex,transition:0,opacity:_e.opacity?_e.opacity:_e.opacity=1})}let Ae=new class mH extends class uH{read(e){if(!e)return null;if("string"==typeof e){const t=Ta(e);return this.readFromDocument(t)}return Da(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){}}{constructor(){super(),this.version=void 0}readFromNode(e){return this.version=e.getAttribute("version").trim(),Qt({version:this.version},pH,e,[])||null}};return fetch(_e.layerUrl+"?REQUEST=GetCapabilities").then(function(je){return je.text()}).then(je=>{let ht=Ae.read(je).Capability.Layer.Layer.find(Ot=>Ot.Name===_e.layerIdentifier[0]);_e.legendUrl=_e.ref.getSource().getLegendUrl()?_e.ref.getSource().getLegendUrl():null;let Gt=ht.BoundingBox;Gt&&(_e.boundingBox=Gt.find(Ot=>Ot.crs=this.params.projection).extent)}),this.allLayers.push({title:o.title,type:"geoserver",layer:Ie}),_e.ref=Ie,Ie}));switch(o&&o.type){case"OSM":s=new lj,this.allLayers.push({title:o.title,type:"OSM",layer:s});break;case"bing":this.selectedStyle=o.imagerySet,s=new vv({key:o.key,imagerySet:this.selectedStyle}),this.allLayers.push({title:o.title,type:"bing",layer:s})}let c=s?new PM({title:o.title,type:"base",visible:!0,source:s,zIndex:o.zIndex}):null;this.baseMap=s?new Ls.default({title:"BaseMap",layers:[c]}):null;let h=l;if(this.baseMap&&h.push(this.baseMap),t)this.mapEle=t;else{let _e=this.popupElem&&this.popupElem.nativeElement;this.overlay||(this.overlay=new lH({element:_e,autoPan:{animation:{duration:250}}})),this.mapEle=new m9({target:i,layers:h,overlays:[this.overlay],view:new Io({projection:this.params.projection,center:this.params.centerCoords,maxZoom:this.params.maxZoom,zoom:this.params.defaultZoom,extent:this.params.extent}),controls:sM().extend([this.controlBar,new wj({source:this.fullscreenElem&&this.fullscreenElem.nativeElement})])});let Ie=null;Ie=this.params.layers.sources.find(Ae=>Ae.zoomOnInit),Ie&&setTimeout(()=>{this.zoomToLayer(null,Ie)},1e3),this.highlightedArea=new su({source:new nd,visible:!0,map:this.mapEle})}let f=new _M({condition:lv});this.mapEle.addInteraction(f);const p=new xj;this.mapEle.addControl(p);const E=new QH({formatConstructors:[ud,new ZW({extractStyles:!0}),new J$({})]});this.mapEle.addInteraction(E);const D=new n7,H=new s7({features:D.getFeatures()});this.mapEle.addInteraction(D),this.mapEle.addInteraction(H);let $=new mM;if(this.mapEle.addInteraction($),E.on("addfeatures",_e=>{console.log(_e);const Ie=new nd({features:_e.features});let Ae=new su({title:_e.file.name,source:Ie});this.mapEle.addLayer(Ae),this.kmlLayers.push({title:_e.file.name,ref:Ae})}),!this.mousePositionControl){let _e=this.mousePosElem&&this.mousePosElem.nativeElement,Ie=_e.lastElementChild;Ie&&_e.removeChild(Ie);const Ae=new Sj({coordinateFormat:h6(4),projection:this.params.projection});this.mousePositionControl=this.mapEle.addControl(Ae)}new(y9())({reverse:!0,tipLabel:"Legend"});const ae=new aZ({className:"compass",src:"compact",rotateVithView:!0});this.mapEle.addControl(ae),this.mapEle.on("singleclick",_e=>{let Ie=_e.coordinate;this.expandControl=!1,this.baseMapControl=!1,this.ExtractFeaturesFromCoordinate(Ie)});const re=new ResizeObserver(_e=>{for(let Ie of _e)this.mapEle&&setTimeout(()=>{this.mapEle.updateSize()},200)});return this.fullscreenElem&&this.fullscreenElem.nativeElement&&!this.resizeObserver&&(this.resizeObserver=re.observe(this.fullscreenElem&&this.fullscreenElem.nativeElement)),this.mapEle}}ExtractFeaturesFromCoordinate(t){if(this.activeLayer){let i=this.mapEle.getView();console.log(t);let r=this.activeLayer.ref.getSource().getFeatureInfoUrl(t,i.getResolution(),i.getProjection(),{INFO_FORMAT:"application/json",QUERY_LAYERS:this.activeLayer.layerIdentifier,FEATURE_COUNT:"100",VERSION:"1.1.0",viewparams:this.activeLayer.viewParams});r&&fetch(r).then(function(o){return o.text()}).then(o=>{let s=(new ud).readFeatures(o,{featureProjection:this.params.projection});if(s&&s.length>0){this.highlightedArea.getSource()?.clear(),this.highlightedArea.setZIndex(999),this.highlightedArea.getSource()?.addFeatures(s,{featureProjection:this.params.projection});let a=[];s.forEach(c=>{a.push(c.getProperties())}),this.highlightedAreaEvent.emit(a),document.getElementById("popup-content"),this.activeLayer.descriptionFields&&this.activeLayer.descriptionFields.length>0&&(this.infos=[],s.forEach(c=>{let h={feature:[]};this.activeLayer.descriptionFields.forEach(f=>{c.getProperties()[f.key]&&h.feature.push({displayName:f.displayName,value:c.getProperties()[f.key]})}),this.infos.push(h)})),this.overlay.setPosition(t)}else this.highlightedArea.getSource()?.clear(),this.overlay.setPosition(void 0)})}}}return n.\u0275fac=function(t){return new(t||n)(Ne(di),Ne(Wo))},n.\u0275cmp=Yr({type:n,selectors:[["lib-wc-map-viewer"]],viewQuery:function(t,i){if(1&t&&(zi(F$,5),zi(L$,5),zi(N$,5),zi(V$,5),zi(B$,5)),2&t){let r;Gn(r=Hn())&&(i.mapElem=r.first),Gn(r=Hn())&&(i.layerTreeElem=r.first),Gn(r=Hn())&&(i.popupElem=r.first),Gn(r=Hn())&&(i.fullscreenElem=r.first),Gn(r=Hn())&&(i.mousePosElem=r.first)}},inputs:{params:"params",zoom:"zoom",setViewParams:"setViewParams",parsedFiles:"parsedFiles"},outputs:{highlightedAreaEvent:"highlightedAreaEvent"},features:[sr],decls:22,vars:15,consts:[["id","fullscreen",1,"fullscreen",2,"height","500px"],["fullscreen",""],["id","control","cdkDrag","","cdkDragBoundary",".fullscreen",1,"control",2,"background-color","white",3,"cdkDragDisabled","cdkDragStarted"],[1,"dropdown-button",3,"click"],["id","layertree",1,"dropdown-content",3,"ngStyle"],["layertree",""],["class","list-items","style","padding-left:1em",4,"ngIf"],["cdkDropList","",1,"list-items",3,"cdkDropListDropped"],["class","list-item-layer",4,"ngFor","ngForOf"],[1,"list-items"],["id","mapViewer",1,"mapa",2,"height","100%"],["mapViewer",""],["id","popup","class","ol-popup",4,"ngIf"],["name","legend",1,"legend"],["styleClass","p-button-secondary","icon","pi pi-external-link  ","label","Legenda",3,"click"],["header","Legenda",3,"visible","maximizable","visibleChange"],["style","display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        padding: 1rem;",4,"ngFor","ngForOf"],["id","mouse-position"],["mousePosition",""],[1,"list-items",2,"padding-left","1em"],["appendTo","body","id","drop-base-mapdown","optionLabel","description","optionValue","value",3,"baseZIndex","options","ngModel","ngModelChange","onChange"],[1,"list-item-layer"],["cdkDrag","",1,"item-title","drag",3,"title","click"],[1,"break"],[1,"control-label"],["title","Opacidade","type","range","min","0","max","1","step","0.01",1,"opacity",3,"ngModel","mouseout","ngModelChange","mouseover","input"],["title","Tornar camada vis\xedvel",1,"visibilityIcon"],[2,"margin-left","10px","cursor","pointer",3,"ngClass","click"],["title","Ir para camada",1,"visibilityIcon"],["ngClass","pi pi-search",2,"margin-left","10px","cursor","pointer",3,"click"],["title","Exportar camada",1,"visibilityIcon"],[1,"pi","pi-save",2,"margin-left","10px","cursor","pointer",3,"click"],[1,"item-title",3,"title","click"],["id","popup",1,"ol-popup"],["popup",""],["href","javascript: void(0)","id","popup-closer",1,"ol-popup-closer",3,"click"],["id","map-popup-content"],[1,"header"],[4,"ngIf"],["style","padding-left:0;",4,"ngFor","ngForOf"],[2,"padding-left","0"],["class","info-item",4,"ngFor","ngForOf"],[1,"info-item"],[2,"display","flex","flex-direction","row","justify-content","flex-start","padding","1rem"],[2,"white-space","normal",3,"title"],[2,"margin-left","30px"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,i){1&t&&(mt(0,"div",0,1)(2,"div",2),en("cdkDragStarted",function(o){return i.handleDragStart(o)}),mt(3,"button",3),en("click",function(o){return i.expandDropDown(o)}),$i(4),_t(),mt(5,"div",4,5),nt(7,z$,2,3,"ul",6),mt(8,"ul",7),en("cdkDropListDropped",function(o){return i.drop(o)}),nt(9,j$,12,6,"li",8),_t(),mt(10,"ul",9),nt(11,U$,4,2,"li",8),_t()()(),Cr(12,"div",10,11),nt(14,K$,7,2,"div",12),mt(15,"div",13)(16,"p-button",14),en("click",function(){return i.showLegend()}),_t(),mt(17,"p-dialog",15),en("visibleChange",function(o){return i.legendVisible=o}),mt(18,"ul",7),en("cdkDropListDropped",function(o){return i.drop(o)}),nt(19,$$,5,3,"li",16),_t()()()(),Cr(20,"div",17,18)),2&t&&($e(2),Ue("cdkDragDisabled",i.isBlockDraggable),$e(2),Pc("Camadas ",i.expandControl?"\u25b2":"\u25bc",""),$e(1),Ue("ngStyle",fi(12,q$,i.expandControl?"block":"none")),$e(2),Ue("ngIf",i.params.baseMap&&"bing"===i.params.baseMap.type),$e(2),Ue("ngForOf",i.params.layers.sources),$e(2),Ue("ngForOf",i.kmlLayers),$e(3),Ue("ngIf",i.popupShow),$e(3),Nr(Lc(14,X$)),Ue("visible",i.legendVisible)("maximizable",!0),$e(2),Ue("ngForOf",i.params.layers.sources))},dependencies:[aP,FU,BU,s$,O$,al,Sp,ll,cl,im,Nw,wR,Lw],styles:['.layer-switcher{position:absolute;top:3.5em;right:.5em;text-align:left}.layer-switcher .panel{margin:0;border:4px solid #eee;border-radius:4px;background-color:#fff;display:none;max-height:inherit;height:100%;box-sizing:border-box;overflow-y:auto}.layer-switcher button{float:right;z-index:1;width:38px;height:38px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:2px;background-color:#fff;color:#000;border:none}.layer-switcher button:focus,.layer-switcher button:hover{background-color:#fff}.layer-switcher.shown{overflow-y:hidden;display:flex;flex-direction:column;max-height:calc(100% - 5.5em)}.layer-switcher.shown.ol-control,.layer-switcher.shown.ol-control:hover{background-color:transparent}.layer-switcher.shown .panel{display:block}.layer-switcher.shown button{display:none}.layer-switcher.shown.layer-switcher-activation-mode-click>button{display:block;background-image:unset;right:2px;position:absolute;background-color:#eee;margin:0 1px}.layer-switcher.shown button:focus,.layer-switcher.shown button:hover{background-color:#fafafa}.layer-switcher ul{list-style:none;margin:1.6em .4em;padding-left:0}.layer-switcher ul ul{padding-left:1.2em;margin:.1em 0 0}.layer-switcher li.group+li.group{margin-top:.4em}.layer-switcher li.group>label{font-weight:700}.layer-switcher.layer-switcher-group-select-style-none li.group>label{padding-left:1.2em}.layer-switcher li{position:relative;margin-top:.3em}.layer-switcher li input{position:absolute;left:1.2em;height:1em;width:1em;font-size:1em}.layer-switcher li label{padding-left:2.7em;padding-right:1.2em;display:inline-block;margin-top:1px}.layer-switcher label.disabled{opacity:.4}.layer-switcher input{margin:0}.layer-switcher.touch ::-webkit-scrollbar{width:4px}.layer-switcher.touch ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.layer-switcher.touch ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}li.layer-switcher-base-group>label{padding-left:1.2em}.layer-switcher .group button{position:absolute;left:0;display:inline-block;vertical-align:top;float:none;font-size:1em;width:1em;height:1em;margin:0;background-position:center 2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVR4nGNgGAWMyBwXFxcGBgaGeii3EU0tXHzPnj1wQRYsihqQ+I0ExDEMQAYNONgoAN0AmMkNaDSyQSheY8JiaCMOGzE04zIAmyFYNTMw4A+DRhzsUUBtAADw4BCeIZkGdwAAAABJRU5ErkJggg==);transition:transform .2s ease-in-out}.layer-switcher .group.layer-switcher-close button{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}.layer-switcher .group.layer-switcher-fold.layer-switcher-close>ul{overflow:hidden;height:0}.layer-switcher.shown.layer-switcher-activation-mode-click{padding-left:34px}.layer-switcher.shown.layer-switcher-activation-mode-click>button{left:0;border-right:0}.pi{font-family:primeicons;speak:none;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pi:before{--webkit-backface-visibility:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pi-fw{width:1.28571429em;text-align:center}.pi-spin{animation:fa-spin 2s infinite linear}.pi-sort-alt-slash:before{content:"\\e9ee"}.pi-arrows-h:before{content:"\\e9ec"}.pi-arrows-v:before{content:"\\e9ed"}.pi-pound:before{content:"\\e9eb"}.pi-prime:before{content:"\\e9ea"}.pi-chart-pie:before{content:"\\e9e9"}.pi-reddit:before{content:"\\e9e8"}.pi-code:before{content:"\\e9e7"}.pi-sync:before{content:"\\e9e6"}.pi-shopping-bag:before{content:"\\e9e5"}.pi-server:before{content:"\\e9e4"}.pi-database:before{content:"\\e9e3"}.pi-hashtag:before{content:"\\e9e2"}.pi-bookmark-fill:before{content:"\\e9df"}.pi-filter-fill:before{content:"\\e9e0"}.pi-heart-fill:before{content:"\\e9e1"}.pi-flag-fill:before{content:"\\e9de"}.pi-circle:before{content:"\\e9dc"}.pi-circle-fill:before{content:"\\e9dd"}.pi-bolt:before{content:"\\e9db"}.pi-history:before{content:"\\e9da"}.pi-box:before{content:"\\e9d9"}.pi-at:before{content:"\\e9d8"}.pi-arrow-up-right:before{content:"\\e9d4"}.pi-arrow-up-left:before{content:"\\e9d5"}.pi-arrow-down-left:before{content:"\\e9d6"}.pi-arrow-down-right:before{content:"\\e9d7"}.pi-telegram:before{content:"\\e9d3"}.pi-stop-circle:before{content:"\\e9d2"}.pi-stop:before{content:"\\e9d1"}.pi-whatsapp:before{content:"\\e9d0"}.pi-building:before{content:"\\e9cf"}.pi-qrcode:before{content:"\\e9ce"}.pi-car:before{content:"\\e9cd"}.pi-instagram:before{content:"\\e9cc"}.pi-linkedin:before{content:"\\e9cb"}.pi-send:before{content:"\\e9ca"}.pi-slack:before{content:"\\e9c9"}.pi-sun:before{content:"\\e9c8"}.pi-moon:before{content:"\\e9c7"}.pi-vimeo:before{content:"\\e9c6"}.pi-youtube:before{content:"\\e9c5"}.pi-flag:before{content:"\\e9c4"}.pi-wallet:before{content:"\\e9c3"}.pi-map:before{content:"\\e9c2"}.pi-link:before{content:"\\e9c1"}.pi-credit-card:before{content:"\\e9bf"}.pi-discord:before{content:"\\e9c0"}.pi-percentage:before{content:"\\e9be"}.pi-euro:before{content:"\\e9bd"}.pi-book:before{content:"\\e9ba"}.pi-shield:before{content:"\\e9b9"}.pi-paypal:before{content:"\\e9bb"}.pi-amazon:before{content:"\\e9bc"}.pi-phone:before{content:"\\e9b8"}.pi-filter-slash:before{content:"\\e9b7"}.pi-facebook:before{content:"\\e9b4"}.pi-github:before{content:"\\e9b5"}.pi-twitter:before{content:"\\e9b6"}.pi-step-backward-alt:before{content:"\\e9ac"}.pi-step-forward-alt:before{content:"\\e9ad"}.pi-forward:before{content:"\\e9ae"}.pi-backward:before{content:"\\e9af"}.pi-fast-backward:before{content:"\\e9b0"}.pi-fast-forward:before{content:"\\e9b1"}.pi-pause:before{content:"\\e9b2"}.pi-play:before{content:"\\e9b3"}.pi-compass:before{content:"\\e9ab"}.pi-id-card:before{content:"\\e9aa"}.pi-ticket:before{content:"\\e9a9"}.pi-file-o:before{content:"\\e9a8"}.pi-reply:before{content:"\\e9a7"}.pi-directions-alt:before{content:"\\e9a5"}.pi-directions:before{content:"\\e9a6"}.pi-thumbs-up:before{content:"\\e9a3"}.pi-thumbs-down:before{content:"\\e9a4"}.pi-sort-numeric-down-alt:before{content:"\\e996"}.pi-sort-numeric-up-alt:before{content:"\\e997"}.pi-sort-alpha-down-alt:before{content:"\\e998"}.pi-sort-alpha-up-alt:before{content:"\\e999"}.pi-sort-numeric-down:before{content:"\\e99a"}.pi-sort-numeric-up:before{content:"\\e99b"}.pi-sort-alpha-down:before{content:"\\e99c"}.pi-sort-alpha-up:before{content:"\\e99d"}.pi-sort-alt:before{content:"\\e99e"}.pi-sort-amount-up:before{content:"\\e99f"}.pi-sort-amount-down:before{content:"\\e9a0"}.pi-sort-amount-down-alt:before{content:"\\e9a1"}.pi-sort-amount-up-alt:before{content:"\\e9a2"}.pi-palette:before{content:"\\e995"}.pi-undo:before{content:"\\e994"}.pi-desktop:before{content:"\\e993"}.pi-sliders-v:before{content:"\\e991"}.pi-sliders-h:before{content:"\\e992"}.pi-search-plus:before{content:"\\e98f"}.pi-search-minus:before{content:"\\e990"}.pi-file-excel:before{content:"\\e98e"}.pi-file-pdf:before{content:"\\e98d"}.pi-check-square:before{content:"\\e98c"}.pi-chart-line:before{content:"\\e98b"}.pi-user-edit:before{content:"\\e98a"}.pi-exclamation-circle:before{content:"\\e989"}.pi-android:before{content:"\\e985"}.pi-google:before{content:"\\e986"}.pi-apple:before{content:"\\e987"}.pi-microsoft:before{content:"\\e988"}.pi-heart:before{content:"\\e984"}.pi-mobile:before{content:"\\e982"}.pi-tablet:before{content:"\\e983"}.pi-key:before{content:"\\e981"}.pi-shopping-cart:before{content:"\\e980"}.pi-comments:before{content:"\\e97e"}.pi-comment:before{content:"\\e97f"}.pi-briefcase:before{content:"\\e97d"}.pi-bell:before{content:"\\e97c"}.pi-paperclip:before{content:"\\e97b"}.pi-share-alt:before{content:"\\e97a"}.pi-envelope:before{content:"\\e979"}.pi-volume-down:before{content:"\\e976"}.pi-volume-up:before{content:"\\e977"}.pi-volume-off:before{content:"\\e978"}.pi-eject:before{content:"\\e975"}.pi-money-bill:before{content:"\\e974"}.pi-images:before{content:"\\e973"}.pi-image:before{content:"\\e972"}.pi-sign-in:before{content:"\\e970"}.pi-sign-out:before{content:"\\e971"}.pi-wifi:before{content:"\\e96f"}.pi-sitemap:before{content:"\\e96e"}.pi-chart-bar:before{content:"\\e96d"}.pi-camera:before{content:"\\e96c"}.pi-dollar:before{content:"\\e96b"}.pi-lock-open:before{content:"\\e96a"}.pi-table:before{content:"\\e969"}.pi-map-marker:before{content:"\\e968"}.pi-list:before{content:"\\e967"}.pi-eye-slash:before{content:"\\e965"}.pi-eye:before{content:"\\e966"}.pi-folder-open:before{content:"\\e964"}.pi-folder:before{content:"\\e963"}.pi-video:before{content:"\\e962"}.pi-inbox:before{content:"\\e961"}.pi-lock:before{content:"\\e95f"}.pi-unlock:before{content:"\\e960"}.pi-tags:before{content:"\\e95d"}.pi-tag:before{content:"\\e95e"}.pi-power-off:before{content:"\\e95c"}.pi-save:before{content:"\\e95b"}.pi-question-circle:before{content:"\\e959"}.pi-question:before{content:"\\e95a"}.pi-copy:before{content:"\\e957"}.pi-file:before{content:"\\e958"}.pi-clone:before{content:"\\e955"}.pi-calendar-times:before{content:"\\e952"}.pi-calendar-minus:before{content:"\\e953"}.pi-calendar-plus:before{content:"\\e954"}.pi-ellipsis-v:before{content:"\\e950"}.pi-ellipsis-h:before{content:"\\e951"}.pi-bookmark:before{content:"\\e94e"}.pi-globe:before{content:"\\e94f"}.pi-replay:before{content:"\\e94d"}.pi-filter:before{content:"\\e94c"}.pi-print:before{content:"\\e94b"}.pi-align-right:before{content:"\\e946"}.pi-align-left:before{content:"\\e947"}.pi-align-center:before{content:"\\e948"}.pi-align-justify:before{content:"\\e949"}.pi-cog:before{content:"\\e94a"}.pi-cloud-download:before{content:"\\e943"}.pi-cloud-upload:before{content:"\\e944"}.pi-cloud:before{content:"\\e945"}.pi-pencil:before{content:"\\e942"}.pi-users:before{content:"\\e941"}.pi-clock:before{content:"\\e940"}.pi-user-minus:before{content:"\\e93e"}.pi-user-plus:before{content:"\\e93f"}.pi-trash:before{content:"\\e93d"}.pi-external-link:before{content:"\\e93c"}.pi-window-maximize:before{content:"\\e93b"}.pi-window-minimize:before{content:"\\e93a"}.pi-refresh:before{content:"\\e938"}.pi-user:before{content:"\\e939"}.pi-exclamation-triangle:before{content:"\\e922"}.pi-calendar:before{content:"\\e927"}.pi-chevron-circle-left:before{content:"\\e928"}.pi-chevron-circle-down:before{content:"\\e929"}.pi-chevron-circle-right:before{content:"\\e92a"}.pi-chevron-circle-up:before{content:"\\e92b"}.pi-angle-double-down:before{content:"\\e92c"}.pi-angle-double-left:before{content:"\\e92d"}.pi-angle-double-right:before{content:"\\e92e"}.pi-angle-double-up:before{content:"\\e92f"}.pi-angle-down:before{content:"\\e930"}.pi-angle-left:before{content:"\\e931"}.pi-angle-right:before{content:"\\e932"}.pi-angle-up:before{content:"\\e933"}.pi-upload:before{content:"\\e934"}.pi-download:before{content:"\\e956"}.pi-ban:before{content:"\\e935"}.pi-star-fill:before{content:"\\e936"}.pi-star:before{content:"\\e937"}.pi-chevron-left:before{content:"\\e900"}.pi-chevron-right:before{content:"\\e901"}.pi-chevron-down:before{content:"\\e902"}.pi-chevron-up:before{content:"\\e903"}.pi-caret-left:before{content:"\\e904"}.pi-caret-right:before{content:"\\e905"}.pi-caret-down:before{content:"\\e906"}.pi-caret-up:before{content:"\\e907"}.pi-search:before{content:"\\e908"}.pi-check:before{content:"\\e909"}.pi-check-circle:before{content:"\\e90a"}.pi-times:before{content:"\\e90b"}.pi-times-circle:before{content:"\\e90c"}.pi-plus:before{content:"\\e90d"}.pi-plus-circle:before{content:"\\e90e"}.pi-minus:before{content:"\\e90f"}.pi-minus-circle:before{content:"\\e910"}.pi-circle-on:before{content:"\\e911"}.pi-circle-off:before{content:"\\e912"}.pi-sort-down:before{content:"\\e913"}.pi-sort-up:before{content:"\\e914"}.pi-sort:before{content:"\\e915"}.pi-step-backward:before{content:"\\e916"}.pi-step-forward:before{content:"\\e917"}.pi-th-large:before{content:"\\e918"}.pi-arrow-down:before{content:"\\e919"}.pi-arrow-left:before{content:"\\e91a"}.pi-arrow-right:before{content:"\\e91b"}.pi-arrow-up:before{content:"\\e91c"}.pi-bars:before{content:"\\e91d"}.pi-arrow-circle-down:before{content:"\\e91e"}.pi-arrow-circle-left:before{content:"\\e91f"}.pi-arrow-circle-right:before{content:"\\e920"}.pi-arrow-circle-up:before{content:"\\e921"}.pi-info:before{content:"\\e923"}.pi-info-circle:before{content:"\\e924"}.pi-home:before{content:"\\e925"}.pi-spinner:before{content:"\\e926"}/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url(fontawesome-webfont.2b13baa7dd4f54c9.eot?v=4.7.0);src:url(fontawesome-webfont.2b13baa7dd4f54c9.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(fontawesome-webfont.e9955780856cf8aa.woff2?v=4.7.0) format("woff2"),url(fontawesome-webfont.cf011583fb81df9f.woff?v=4.7.0) format("woff"),url(fontawesome-webfont.8a7cb27d142e3e19.ttf?v=4.7.0) format("truetype"),url(fontawesome-webfont.da909aa098b0ee2d.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eeeeee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{animation:fa-spin 2s infinite linear}.fa-pulse{animation:fa-spin 1s infinite steps(8)}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\f000"}.fa-music:before{content:"\\f001"}.fa-search:before{content:"\\f002"}.fa-envelope-o:before{content:"\\f003"}.fa-heart:before{content:"\\f004"}.fa-star:before{content:"\\f005"}.fa-star-o:before{content:"\\f006"}.fa-user:before{content:"\\f007"}.fa-film:before{content:"\\f008"}.fa-th-large:before{content:"\\f009"}.fa-th:before{content:"\\f00a"}.fa-th-list:before{content:"\\f00b"}.fa-check:before{content:"\\f00c"}.fa-remove:before,.fa-close:before,.fa-times:before{content:"\\f00d"}.fa-search-plus:before{content:"\\f00e"}.fa-search-minus:before{content:"\\f010"}.fa-power-off:before{content:"\\f011"}.fa-signal:before{content:"\\f012"}.fa-gear:before,.fa-cog:before{content:"\\f013"}.fa-trash-o:before{content:"\\f014"}.fa-home:before{content:"\\f015"}.fa-file-o:before{content:"\\f016"}.fa-clock-o:before{content:"\\f017"}.fa-road:before{content:"\\f018"}.fa-download:before{content:"\\f019"}.fa-arrow-circle-o-down:before{content:"\\f01a"}.fa-arrow-circle-o-up:before{content:"\\f01b"}.fa-inbox:before{content:"\\f01c"}.fa-play-circle-o:before{content:"\\f01d"}.fa-rotate-right:before,.fa-repeat:before{content:"\\f01e"}.fa-refresh:before{content:"\\f021"}.fa-list-alt:before{content:"\\f022"}.fa-lock:before{content:"\\f023"}.fa-flag:before{content:"\\f024"}.fa-headphones:before{content:"\\f025"}.fa-volume-off:before{content:"\\f026"}.fa-volume-down:before{content:"\\f027"}.fa-volume-up:before{content:"\\f028"}.fa-qrcode:before{content:"\\f029"}.fa-barcode:before{content:"\\f02a"}.fa-tag:before{content:"\\f02b"}.fa-tags:before{content:"\\f02c"}.fa-book:before{content:"\\f02d"}.fa-bookmark:before{content:"\\f02e"}.fa-print:before{content:"\\f02f"}.fa-camera:before{content:"\\f030"}.fa-font:before{content:"\\f031"}.fa-bold:before{content:"\\f032"}.fa-italic:before{content:"\\f033"}.fa-text-height:before{content:"\\f034"}.fa-text-width:before{content:"\\f035"}.fa-align-left:before{content:"\\f036"}.fa-align-center:before{content:"\\f037"}.fa-align-right:before{content:"\\f038"}.fa-align-justify:before{content:"\\f039"}.fa-list:before{content:"\\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\\f03b"}.fa-indent:before{content:"\\f03c"}.fa-video-camera:before{content:"\\f03d"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\\f03e"}.fa-pencil:before{content:"\\f040"}.fa-map-marker:before{content:"\\f041"}.fa-adjust:before{content:"\\f042"}.fa-tint:before{content:"\\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\f044"}.fa-share-square-o:before{content:"\\f045"}.fa-check-square-o:before{content:"\\f046"}.fa-arrows:before{content:"\\f047"}.fa-step-backward:before{content:"\\f048"}.fa-fast-backward:before{content:"\\f049"}.fa-backward:before{content:"\\f04a"}.fa-play:before{content:"\\f04b"}.fa-pause:before{content:"\\f04c"}.fa-stop:before{content:"\\f04d"}.fa-forward:before{content:"\\f04e"}.fa-fast-forward:before{content:"\\f050"}.fa-step-forward:before{content:"\\f051"}.fa-eject:before{content:"\\f052"}.fa-chevron-left:before{content:"\\f053"}.fa-chevron-right:before{content:"\\f054"}.fa-plus-circle:before{content:"\\f055"}.fa-minus-circle:before{content:"\\f056"}.fa-times-circle:before{content:"\\f057"}.fa-check-circle:before{content:"\\f058"}.fa-question-circle:before{content:"\\f059"}.fa-info-circle:before{content:"\\f05a"}.fa-crosshairs:before{content:"\\f05b"}.fa-times-circle-o:before{content:"\\f05c"}.fa-check-circle-o:before{content:"\\f05d"}.fa-ban:before{content:"\\f05e"}.fa-arrow-left:before{content:"\\f060"}.fa-arrow-right:before{content:"\\f061"}.fa-arrow-up:before{content:"\\f062"}.fa-arrow-down:before{content:"\\f063"}.fa-mail-forward:before,.fa-share:before{content:"\\f064"}.fa-expand:before{content:"\\f065"}.fa-compress:before{content:"\\f066"}.fa-plus:before{content:"\\f067"}.fa-minus:before{content:"\\f068"}.fa-asterisk:before{content:"\\f069"}.fa-exclamation-circle:before{content:"\\f06a"}.fa-gift:before{content:"\\f06b"}.fa-leaf:before{content:"\\f06c"}.fa-fire:before{content:"\\f06d"}.fa-eye:before{content:"\\f06e"}.fa-eye-slash:before{content:"\\f070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\\f071"}.fa-plane:before{content:"\\f072"}.fa-calendar:before{content:"\\f073"}.fa-random:before{content:"\\f074"}.fa-comment:before{content:"\\f075"}.fa-magnet:before{content:"\\f076"}.fa-chevron-up:before{content:"\\f077"}.fa-chevron-down:before{content:"\\f078"}.fa-retweet:before{content:"\\f079"}.fa-shopping-cart:before{content:"\\f07a"}.fa-folder:before{content:"\\f07b"}.fa-folder-open:before{content:"\\f07c"}.fa-arrows-v:before{content:"\\f07d"}.fa-arrows-h:before{content:"\\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\f080"}.fa-twitter-square:before{content:"\\f081"}.fa-facebook-square:before{content:"\\f082"}.fa-camera-retro:before{content:"\\f083"}.fa-key:before{content:"\\f084"}.fa-gears:before,.fa-cogs:before{content:"\\f085"}.fa-comments:before{content:"\\f086"}.fa-thumbs-o-up:before{content:"\\f087"}.fa-thumbs-o-down:before{content:"\\f088"}.fa-star-half:before{content:"\\f089"}.fa-heart-o:before{content:"\\f08a"}.fa-sign-out:before{content:"\\f08b"}.fa-linkedin-square:before{content:"\\f08c"}.fa-thumb-tack:before{content:"\\f08d"}.fa-external-link:before{content:"\\f08e"}.fa-sign-in:before{content:"\\f090"}.fa-trophy:before{content:"\\f091"}.fa-github-square:before{content:"\\f092"}.fa-upload:before{content:"\\f093"}.fa-lemon-o:before{content:"\\f094"}.fa-phone:before{content:"\\f095"}.fa-square-o:before{content:"\\f096"}.fa-bookmark-o:before{content:"\\f097"}.fa-phone-square:before{content:"\\f098"}.fa-twitter:before{content:"\\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\f09a"}.fa-github:before{content:"\\f09b"}.fa-unlock:before{content:"\\f09c"}.fa-credit-card:before{content:"\\f09d"}.fa-feed:before,.fa-rss:before{content:"\\f09e"}.fa-hdd-o:before{content:"\\f0a0"}.fa-bullhorn:before{content:"\\f0a1"}.fa-bell:before{content:"\\f0f3"}.fa-certificate:before{content:"\\f0a3"}.fa-hand-o-right:before{content:"\\f0a4"}.fa-hand-o-left:before{content:"\\f0a5"}.fa-hand-o-up:before{content:"\\f0a6"}.fa-hand-o-down:before{content:"\\f0a7"}.fa-arrow-circle-left:before{content:"\\f0a8"}.fa-arrow-circle-right:before{content:"\\f0a9"}.fa-arrow-circle-up:before{content:"\\f0aa"}.fa-arrow-circle-down:before{content:"\\f0ab"}.fa-globe:before{content:"\\f0ac"}.fa-wrench:before{content:"\\f0ad"}.fa-tasks:before{content:"\\f0ae"}.fa-filter:before{content:"\\f0b0"}.fa-briefcase:before{content:"\\f0b1"}.fa-arrows-alt:before{content:"\\f0b2"}.fa-group:before,.fa-users:before{content:"\\f0c0"}.fa-chain:before,.fa-link:before{content:"\\f0c1"}.fa-cloud:before{content:"\\f0c2"}.fa-flask:before{content:"\\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\\f0c5"}.fa-paperclip:before{content:"\\f0c6"}.fa-save:before,.fa-floppy-o:before{content:"\\f0c7"}.fa-square:before{content:"\\f0c8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\\f0c9"}.fa-list-ul:before{content:"\\f0ca"}.fa-list-ol:before{content:"\\f0cb"}.fa-strikethrough:before{content:"\\f0cc"}.fa-underline:before{content:"\\f0cd"}.fa-table:before{content:"\\f0ce"}.fa-magic:before{content:"\\f0d0"}.fa-truck:before{content:"\\f0d1"}.fa-pinterest:before{content:"\\f0d2"}.fa-pinterest-square:before{content:"\\f0d3"}.fa-google-plus-square:before{content:"\\f0d4"}.fa-google-plus:before{content:"\\f0d5"}.fa-money:before{content:"\\f0d6"}.fa-caret-down:before{content:"\\f0d7"}.fa-caret-up:before{content:"\\f0d8"}.fa-caret-left:before{content:"\\f0d9"}.fa-caret-right:before{content:"\\f0da"}.fa-columns:before{content:"\\f0db"}.fa-unsorted:before,.fa-sort:before{content:"\\f0dc"}.fa-sort-down:before,.fa-sort-desc:before{content:"\\f0dd"}.fa-sort-up:before,.fa-sort-asc:before{content:"\\f0de"}.fa-envelope:before{content:"\\f0e0"}.fa-linkedin:before{content:"\\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\\f0e2"}.fa-legal:before,.fa-gavel:before{content:"\\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\f0e4"}.fa-comment-o:before{content:"\\f0e5"}.fa-comments-o:before{content:"\\f0e6"}.fa-flash:before,.fa-bolt:before{content:"\\f0e7"}.fa-sitemap:before{content:"\\f0e8"}.fa-umbrella:before{content:"\\f0e9"}.fa-paste:before,.fa-clipboard:before{content:"\\f0ea"}.fa-lightbulb-o:before{content:"\\f0eb"}.fa-exchange:before{content:"\\f0ec"}.fa-cloud-download:before{content:"\\f0ed"}.fa-cloud-upload:before{content:"\\f0ee"}.fa-user-md:before{content:"\\f0f0"}.fa-stethoscope:before{content:"\\f0f1"}.fa-suitcase:before{content:"\\f0f2"}.fa-bell-o:before{content:"\\f0a2"}.fa-coffee:before{content:"\\f0f4"}.fa-cutlery:before{content:"\\f0f5"}.fa-file-text-o:before{content:"\\f0f6"}.fa-building-o:before{content:"\\f0f7"}.fa-hospital-o:before{content:"\\f0f8"}.fa-ambulance:before{content:"\\f0f9"}.fa-medkit:before{content:"\\f0fa"}.fa-fighter-jet:before{content:"\\f0fb"}.fa-beer:before{content:"\\f0fc"}.fa-h-square:before{content:"\\f0fd"}.fa-plus-square:before{content:"\\f0fe"}.fa-angle-double-left:before{content:"\\f100"}.fa-angle-double-right:before{content:"\\f101"}.fa-angle-double-up:before{content:"\\f102"}.fa-angle-double-down:before{content:"\\f103"}.fa-angle-left:before{content:"\\f104"}.fa-angle-right:before{content:"\\f105"}.fa-angle-up:before{content:"\\f106"}.fa-angle-down:before{content:"\\f107"}.fa-desktop:before{content:"\\f108"}.fa-laptop:before{content:"\\f109"}.fa-tablet:before{content:"\\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\f10b"}.fa-circle-o:before{content:"\\f10c"}.fa-quote-left:before{content:"\\f10d"}.fa-quote-right:before{content:"\\f10e"}.fa-spinner:before{content:"\\f110"}.fa-circle:before{content:"\\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\\f112"}.fa-github-alt:before{content:"\\f113"}.fa-folder-o:before{content:"\\f114"}.fa-folder-open-o:before{content:"\\f115"}.fa-smile-o:before{content:"\\f118"}.fa-frown-o:before{content:"\\f119"}.fa-meh-o:before{content:"\\f11a"}.fa-gamepad:before{content:"\\f11b"}.fa-keyboard-o:before{content:"\\f11c"}.fa-flag-o:before{content:"\\f11d"}.fa-flag-checkered:before{content:"\\f11e"}.fa-terminal:before{content:"\\f120"}.fa-code:before{content:"\\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\f123"}.fa-location-arrow:before{content:"\\f124"}.fa-crop:before{content:"\\f125"}.fa-code-fork:before{content:"\\f126"}.fa-unlink:before,.fa-chain-broken:before{content:"\\f127"}.fa-question:before{content:"\\f128"}.fa-info:before{content:"\\f129"}.fa-exclamation:before{content:"\\f12a"}.fa-superscript:before{content:"\\f12b"}.fa-subscript:before{content:"\\f12c"}.fa-eraser:before{content:"\\f12d"}.fa-puzzle-piece:before{content:"\\f12e"}.fa-microphone:before{content:"\\f130"}.fa-microphone-slash:before{content:"\\f131"}.fa-shield:before{content:"\\f132"}.fa-calendar-o:before{content:"\\f133"}.fa-fire-extinguisher:before{content:"\\f134"}.fa-rocket:before{content:"\\f135"}.fa-maxcdn:before{content:"\\f136"}.fa-chevron-circle-left:before{content:"\\f137"}.fa-chevron-circle-right:before{content:"\\f138"}.fa-chevron-circle-up:before{content:"\\f139"}.fa-chevron-circle-down:before{content:"\\f13a"}.fa-html5:before{content:"\\f13b"}.fa-css3:before{content:"\\f13c"}.fa-anchor:before{content:"\\f13d"}.fa-unlock-alt:before{content:"\\f13e"}.fa-bullseye:before{content:"\\f140"}.fa-ellipsis-h:before{content:"\\f141"}.fa-ellipsis-v:before{content:"\\f142"}.fa-rss-square:before{content:"\\f143"}.fa-play-circle:before{content:"\\f144"}.fa-ticket:before{content:"\\f145"}.fa-minus-square:before{content:"\\f146"}.fa-minus-square-o:before{content:"\\f147"}.fa-level-up:before{content:"\\f148"}.fa-level-down:before{content:"\\f149"}.fa-check-square:before{content:"\\f14a"}.fa-pencil-square:before{content:"\\f14b"}.fa-external-link-square:before{content:"\\f14c"}.fa-share-square:before{content:"\\f14d"}.fa-compass:before{content:"\\f14e"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\\f150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\\f151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\\f152"}.fa-euro:before,.fa-eur:before{content:"\\f153"}.fa-gbp:before{content:"\\f154"}.fa-dollar:before,.fa-usd:before{content:"\\f155"}.fa-rupee:before,.fa-inr:before{content:"\\f156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\\f157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\\f158"}.fa-won:before,.fa-krw:before{content:"\\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\\f15a"}.fa-file:before{content:"\\f15b"}.fa-file-text:before{content:"\\f15c"}.fa-sort-alpha-asc:before{content:"\\f15d"}.fa-sort-alpha-desc:before{content:"\\f15e"}.fa-sort-amount-asc:before{content:"\\f160"}.fa-sort-amount-desc:before{content:"\\f161"}.fa-sort-numeric-asc:before{content:"\\f162"}.fa-sort-numeric-desc:before{content:"\\f163"}.fa-thumbs-up:before{content:"\\f164"}.fa-thumbs-down:before{content:"\\f165"}.fa-youtube-square:before{content:"\\f166"}.fa-youtube:before{content:"\\f167"}.fa-xing:before{content:"\\f168"}.fa-xing-square:before{content:"\\f169"}.fa-youtube-play:before{content:"\\f16a"}.fa-dropbox:before{content:"\\f16b"}.fa-stack-overflow:before{content:"\\f16c"}.fa-instagram:before{content:"\\f16d"}.fa-flickr:before{content:"\\f16e"}.fa-adn:before{content:"\\f170"}.fa-bitbucket:before{content:"\\f171"}.fa-bitbucket-square:before{content:"\\f172"}.fa-tumblr:before{content:"\\f173"}.fa-tumblr-square:before{content:"\\f174"}.fa-long-arrow-down:before{content:"\\f175"}.fa-long-arrow-up:before{content:"\\f176"}.fa-long-arrow-left:before{content:"\\f177"}.fa-long-arrow-right:before{content:"\\f178"}.fa-apple:before{content:"\\f179"}.fa-windows:before{content:"\\f17a"}.fa-android:before{content:"\\f17b"}.fa-linux:before{content:"\\f17c"}.fa-dribbble:before{content:"\\f17d"}.fa-skype:before{content:"\\f17e"}.fa-foursquare:before{content:"\\f180"}.fa-trello:before{content:"\\f181"}.fa-female:before{content:"\\f182"}.fa-male:before{content:"\\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\\f184"}.fa-sun-o:before{content:"\\f185"}.fa-moon-o:before{content:"\\f186"}.fa-archive:before{content:"\\f187"}.fa-bug:before{content:"\\f188"}.fa-vk:before{content:"\\f189"}.fa-weibo:before{content:"\\f18a"}.fa-renren:before{content:"\\f18b"}.fa-pagelines:before{content:"\\f18c"}.fa-stack-exchange:before{content:"\\f18d"}.fa-arrow-circle-o-right:before{content:"\\f18e"}.fa-arrow-circle-o-left:before{content:"\\f190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\\f191"}.fa-dot-circle-o:before{content:"\\f192"}.fa-wheelchair:before{content:"\\f193"}.fa-vimeo-square:before{content:"\\f194"}.fa-turkish-lira:before,.fa-try:before{content:"\\f195"}.fa-plus-square-o:before{content:"\\f196"}.fa-space-shuttle:before{content:"\\f197"}.fa-slack:before{content:"\\f198"}.fa-envelope-square:before{content:"\\f199"}.fa-wordpress:before{content:"\\f19a"}.fa-openid:before{content:"\\f19b"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\\f19c"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\\f19d"}.fa-yahoo:before{content:"\\f19e"}.fa-google:before{content:"\\f1a0"}.fa-reddit:before{content:"\\f1a1"}.fa-reddit-square:before{content:"\\f1a2"}.fa-stumbleupon-circle:before{content:"\\f1a3"}.fa-stumbleupon:before{content:"\\f1a4"}.fa-delicious:before{content:"\\f1a5"}.fa-digg:before{content:"\\f1a6"}.fa-pied-piper-pp:before{content:"\\f1a7"}.fa-pied-piper-alt:before{content:"\\f1a8"}.fa-drupal:before{content:"\\f1a9"}.fa-joomla:before{content:"\\f1aa"}.fa-language:before{content:"\\f1ab"}.fa-fax:before{content:"\\f1ac"}.fa-building:before{content:"\\f1ad"}.fa-child:before{content:"\\f1ae"}.fa-paw:before{content:"\\f1b0"}.fa-spoon:before{content:"\\f1b1"}.fa-cube:before{content:"\\f1b2"}.fa-cubes:before{content:"\\f1b3"}.fa-behance:before{content:"\\f1b4"}.fa-behance-square:before{content:"\\f1b5"}.fa-steam:before{content:"\\f1b6"}.fa-steam-square:before{content:"\\f1b7"}.fa-recycle:before{content:"\\f1b8"}.fa-automobile:before,.fa-car:before{content:"\\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\\f1ba"}.fa-tree:before{content:"\\f1bb"}.fa-spotify:before{content:"\\f1bc"}.fa-deviantart:before{content:"\\f1bd"}.fa-soundcloud:before{content:"\\f1be"}.fa-database:before{content:"\\f1c0"}.fa-file-pdf-o:before{content:"\\f1c1"}.fa-file-word-o:before{content:"\\f1c2"}.fa-file-excel-o:before{content:"\\f1c3"}.fa-file-powerpoint-o:before{content:"\\f1c4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\\f1c5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\\f1c6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\f1c8"}.fa-file-code-o:before{content:"\\f1c9"}.fa-vine:before{content:"\\f1ca"}.fa-codepen:before{content:"\\f1cb"}.fa-jsfiddle:before{content:"\\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\\f1cd"}.fa-circle-o-notch:before{content:"\\f1ce"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:"\\f1d0"}.fa-ge:before,.fa-empire:before{content:"\\f1d1"}.fa-git-square:before{content:"\\f1d2"}.fa-git:before{content:"\\f1d3"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:"\\f1d4"}.fa-tencent-weibo:before{content:"\\f1d5"}.fa-qq:before{content:"\\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\\f1d7"}.fa-send:before,.fa-paper-plane:before{content:"\\f1d8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\\f1d9"}.fa-history:before{content:"\\f1da"}.fa-circle-thin:before{content:"\\f1db"}.fa-header:before{content:"\\f1dc"}.fa-paragraph:before{content:"\\f1dd"}.fa-sliders:before{content:"\\f1de"}.fa-share-alt:before{content:"\\f1e0"}.fa-share-alt-square:before{content:"\\f1e1"}.fa-bomb:before{content:"\\f1e2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\\f1e3"}.fa-tty:before{content:"\\f1e4"}.fa-binoculars:before{content:"\\f1e5"}.fa-plug:before{content:"\\f1e6"}.fa-slideshare:before{content:"\\f1e7"}.fa-twitch:before{content:"\\f1e8"}.fa-yelp:before{content:"\\f1e9"}.fa-newspaper-o:before{content:"\\f1ea"}.fa-wifi:before{content:"\\f1eb"}.fa-calculator:before{content:"\\f1ec"}.fa-paypal:before{content:"\\f1ed"}.fa-google-wallet:before{content:"\\f1ee"}.fa-cc-visa:before{content:"\\f1f0"}.fa-cc-mastercard:before{content:"\\f1f1"}.fa-cc-discover:before{content:"\\f1f2"}.fa-cc-amex:before{content:"\\f1f3"}.fa-cc-paypal:before{content:"\\f1f4"}.fa-cc-stripe:before{content:"\\f1f5"}.fa-bell-slash:before{content:"\\f1f6"}.fa-bell-slash-o:before{content:"\\f1f7"}.fa-trash:before{content:"\\f1f8"}.fa-copyright:before{content:"\\f1f9"}.fa-at:before{content:"\\f1fa"}.fa-eyedropper:before{content:"\\f1fb"}.fa-paint-brush:before{content:"\\f1fc"}.fa-birthday-cake:before{content:"\\f1fd"}.fa-area-chart:before{content:"\\f1fe"}.fa-pie-chart:before{content:"\\f200"}.fa-line-chart:before{content:"\\f201"}.fa-lastfm:before{content:"\\f202"}.fa-lastfm-square:before{content:"\\f203"}.fa-toggle-off:before{content:"\\f204"}.fa-toggle-on:before{content:"\\f205"}.fa-bicycle:before{content:"\\f206"}.fa-bus:before{content:"\\f207"}.fa-ioxhost:before{content:"\\f208"}.fa-angellist:before{content:"\\f209"}.fa-cc:before{content:"\\f20a"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\\f20b"}.fa-meanpath:before{content:"\\f20c"}.fa-buysellads:before{content:"\\f20d"}.fa-connectdevelop:before{content:"\\f20e"}.fa-dashcube:before{content:"\\f210"}.fa-forumbee:before{content:"\\f211"}.fa-leanpub:before{content:"\\f212"}.fa-sellsy:before{content:"\\f213"}.fa-shirtsinbulk:before{content:"\\f214"}.fa-simplybuilt:before{content:"\\f215"}.fa-skyatlas:before{content:"\\f216"}.fa-cart-plus:before{content:"\\f217"}.fa-cart-arrow-down:before{content:"\\f218"}.fa-diamond:before{content:"\\f219"}.fa-ship:before{content:"\\f21a"}.fa-user-secret:before{content:"\\f21b"}.fa-motorcycle:before{content:"\\f21c"}.fa-street-view:before{content:"\\f21d"}.fa-heartbeat:before{content:"\\f21e"}.fa-venus:before{content:"\\f221"}.fa-mars:before{content:"\\f222"}.fa-mercury:before{content:"\\f223"}.fa-intersex:before,.fa-transgender:before{content:"\\f224"}.fa-transgender-alt:before{content:"\\f225"}.fa-venus-double:before{content:"\\f226"}.fa-mars-double:before{content:"\\f227"}.fa-venus-mars:before{content:"\\f228"}.fa-mars-stroke:before{content:"\\f229"}.fa-mars-stroke-v:before{content:"\\f22a"}.fa-mars-stroke-h:before{content:"\\f22b"}.fa-neuter:before{content:"\\f22c"}.fa-genderless:before{content:"\\f22d"}.fa-facebook-official:before{content:"\\f230"}.fa-pinterest-p:before{content:"\\f231"}.fa-whatsapp:before{content:"\\f232"}.fa-server:before{content:"\\f233"}.fa-user-plus:before{content:"\\f234"}.fa-user-times:before{content:"\\f235"}.fa-hotel:before,.fa-bed:before{content:"\\f236"}.fa-viacoin:before{content:"\\f237"}.fa-train:before{content:"\\f238"}.fa-subway:before{content:"\\f239"}.fa-medium:before{content:"\\f23a"}.fa-yc:before,.fa-y-combinator:before{content:"\\f23b"}.fa-optin-monster:before{content:"\\f23c"}.fa-opencart:before{content:"\\f23d"}.fa-expeditedssl:before{content:"\\f23e"}.fa-battery-4:before,.fa-battery:before,.fa-battery-full:before{content:"\\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\f244"}.fa-mouse-pointer:before{content:"\\f245"}.fa-i-cursor:before{content:"\\f246"}.fa-object-group:before{content:"\\f247"}.fa-object-ungroup:before{content:"\\f248"}.fa-sticky-note:before{content:"\\f249"}.fa-sticky-note-o:before{content:"\\f24a"}.fa-cc-jcb:before{content:"\\f24b"}.fa-cc-diners-club:before{content:"\\f24c"}.fa-clone:before{content:"\\f24d"}.fa-balance-scale:before{content:"\\f24e"}.fa-hourglass-o:before{content:"\\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\f253"}.fa-hourglass:before{content:"\\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\f255"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:"\\f256"}.fa-hand-scissors-o:before{content:"\\f257"}.fa-hand-lizard-o:before{content:"\\f258"}.fa-hand-spock-o:before{content:"\\f259"}.fa-hand-pointer-o:before{content:"\\f25a"}.fa-hand-peace-o:before{content:"\\f25b"}.fa-trademark:before{content:"\\f25c"}.fa-registered:before{content:"\\f25d"}.fa-creative-commons:before{content:"\\f25e"}.fa-gg:before{content:"\\f260"}.fa-gg-circle:before{content:"\\f261"}.fa-tripadvisor:before{content:"\\f262"}.fa-odnoklassniki:before{content:"\\f263"}.fa-odnoklassniki-square:before{content:"\\f264"}.fa-get-pocket:before{content:"\\f265"}.fa-wikipedia-w:before{content:"\\f266"}.fa-safari:before{content:"\\f267"}.fa-chrome:before{content:"\\f268"}.fa-firefox:before{content:"\\f269"}.fa-opera:before{content:"\\f26a"}.fa-internet-explorer:before{content:"\\f26b"}.fa-tv:before,.fa-television:before{content:"\\f26c"}.fa-contao:before{content:"\\f26d"}.fa-500px:before{content:"\\f26e"}.fa-amazon:before{content:"\\f270"}.fa-calendar-plus-o:before{content:"\\f271"}.fa-calendar-minus-o:before{content:"\\f272"}.fa-calendar-times-o:before{content:"\\f273"}.fa-calendar-check-o:before{content:"\\f274"}.fa-industry:before{content:"\\f275"}.fa-map-pin:before{content:"\\f276"}.fa-map-signs:before{content:"\\f277"}.fa-map-o:before{content:"\\f278"}.fa-map:before{content:"\\f279"}.fa-commenting:before{content:"\\f27a"}.fa-commenting-o:before{content:"\\f27b"}.fa-houzz:before{content:"\\f27c"}.fa-vimeo:before{content:"\\f27d"}.fa-black-tie:before{content:"\\f27e"}.fa-fonticons:before{content:"\\f280"}.fa-reddit-alien:before{content:"\\f281"}.fa-edge:before{content:"\\f282"}.fa-credit-card-alt:before{content:"\\f283"}.fa-codiepie:before{content:"\\f284"}.fa-modx:before{content:"\\f285"}.fa-fort-awesome:before{content:"\\f286"}.fa-usb:before{content:"\\f287"}.fa-product-hunt:before{content:"\\f288"}.fa-mixcloud:before{content:"\\f289"}.fa-scribd:before{content:"\\f28a"}.fa-pause-circle:before{content:"\\f28b"}.fa-pause-circle-o:before{content:"\\f28c"}.fa-stop-circle:before{content:"\\f28d"}.fa-stop-circle-o:before{content:"\\f28e"}.fa-shopping-bag:before{content:"\\f290"}.fa-shopping-basket:before{content:"\\f291"}.fa-hashtag:before{content:"\\f292"}.fa-bluetooth:before{content:"\\f293"}.fa-bluetooth-b:before{content:"\\f294"}.fa-percent:before{content:"\\f295"}.fa-gitlab:before{content:"\\f296"}.fa-wpbeginner:before{content:"\\f297"}.fa-wpforms:before{content:"\\f298"}.fa-envira:before{content:"\\f299"}.fa-universal-access:before{content:"\\f29a"}.fa-wheelchair-alt:before{content:"\\f29b"}.fa-question-circle-o:before{content:"\\f29c"}.fa-blind:before{content:"\\f29d"}.fa-audio-description:before{content:"\\f29e"}.fa-volume-control-phone:before{content:"\\f2a0"}.fa-braille:before{content:"\\f2a1"}.fa-assistive-listening-systems:before{content:"\\f2a2"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:"\\f2a3"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:"\\f2a4"}.fa-glide:before{content:"\\f2a5"}.fa-glide-g:before{content:"\\f2a6"}.fa-signing:before,.fa-sign-language:before{content:"\\f2a7"}.fa-low-vision:before{content:"\\f2a8"}.fa-viadeo:before{content:"\\f2a9"}.fa-viadeo-square:before{content:"\\f2aa"}.fa-snapchat:before{content:"\\f2ab"}.fa-snapchat-ghost:before{content:"\\f2ac"}.fa-snapchat-square:before{content:"\\f2ad"}.fa-pied-piper:before{content:"\\f2ae"}.fa-first-order:before{content:"\\f2b0"}.fa-yoast:before{content:"\\f2b1"}.fa-themeisle:before{content:"\\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\\f2b4"}.fa-handshake-o:before{content:"\\f2b5"}.fa-envelope-open:before{content:"\\f2b6"}.fa-envelope-open-o:before{content:"\\f2b7"}.fa-linode:before{content:"\\f2b8"}.fa-address-book:before{content:"\\f2b9"}.fa-address-book-o:before{content:"\\f2ba"}.fa-vcard:before,.fa-address-card:before{content:"\\f2bb"}.fa-vcard-o:before,.fa-address-card-o:before{content:"\\f2bc"}.fa-user-circle:before{content:"\\f2bd"}.fa-user-circle-o:before{content:"\\f2be"}.fa-user-o:before{content:"\\f2c0"}.fa-id-badge:before{content:"\\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\\f2c3"}.fa-quora:before{content:"\\f2c4"}.fa-free-code-camp:before{content:"\\f2c5"}.fa-telegram:before{content:"\\f2c6"}.fa-thermometer-4:before,.fa-thermometer:before,.fa-thermometer-full:before{content:"\\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\\f2cb"}.fa-shower:before{content:"\\f2cc"}.fa-bathtub:before,.fa-s15:before,.fa-bath:before{content:"\\f2cd"}.fa-podcast:before{content:"\\f2ce"}.fa-window-maximize:before{content:"\\f2d0"}.fa-window-minimize:before{content:"\\f2d1"}.fa-window-restore:before{content:"\\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\\f2d4"}.fa-bandcamp:before{content:"\\f2d5"}.fa-grav:before{content:"\\f2d6"}.fa-etsy:before{content:"\\f2d7"}.fa-imdb:before{content:"\\f2d8"}.fa-ravelry:before{content:"\\f2d9"}.fa-eercast:before{content:"\\f2da"}.fa-microchip:before{content:"\\f2db"}.fa-snowflake-o:before{content:"\\f2dc"}.fa-superpowers:before{content:"\\f2dd"}.fa-wpexplorer:before{content:"\\f2de"}.fa-meetup:before{content:"\\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.p-component,.p-component *{box-sizing:border-box}.p-hidden{display:none}.p-hidden-space{visibility:hidden}.p-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.p-hidden-accessible input,.p-hidden-accessible select{transform:scale(0)}.p-reset{margin:0;padding:0;border:0;outline:0;text-decoration:none;font-size:100%;list-style:none}.p-disabled,.p-disabled *{cursor:default!important;pointer-events:none}.p-component-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.p-overflow-hidden{overflow:hidden}.p-unselectable-text{-webkit-user-select:none;user-select:none}.p-scrollbar-measure{width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px}@keyframes p-fadein{0%{opacity:0}to{opacity:1}}input[type=button],input[type=submit],input[type=reset],input[type=file]::-webkit-file-upload-button,button{border-radius:0}.p-link{text-align:left;background-color:transparent;margin:0;padding:0;border:none;cursor:pointer;-webkit-user-select:none;user-select:none}.p-link:disabled{cursor:default}.p-sr-only{border:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;word-wrap:normal!important}.p-connected-overlay{opacity:0;transform:scaleY(.8);transition:transform .12s cubic-bezier(0,0,.2,1),opacity .12s cubic-bezier(0,0,.2,1)}.p-connected-overlay-visible{opacity:1;transform:scaleY(1)}.p-connected-overlay-hidden{opacity:0;transform:scaleY(1);transition:opacity .1s linear}.p-toggleable-content.ng-animating{overflow:hidden}.p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}.p-colorpicker-panel .p-colorpicker-color{background:transparent url(color.dae87a04d07ca92b.png) no-repeat left top}.p-colorpicker-panel .p-colorpicker-hue{background:transparent url(hue.8b1818380241e6ac.png) no-repeat left top}.p-inputtext{margin:0}.p-fluid .p-inputtext{width:100%}.p-inputgroup{display:flex;align-items:stretch;width:100%}.p-inputgroup-addon{display:flex;align-items:center;justify-content:center}.p-inputgroup .p-float-label{display:flex;align-items:stretch;width:100%}.p-inputgroup .p-inputtext,.p-fluid .p-inputgroup .p-inputtext,.p-inputgroup .p-inputwrapper,.p-inputgroup .p-inputwrapper>.p-component{flex:1 1 auto;width:1%}.p-float-label{display:block;position:relative}.p-float-label label{position:absolute;pointer-events:none;top:50%;margin-top:-.5rem;transition-property:all;transition-timing-function:ease;line-height:1}.p-float-label textarea~label{top:1rem}.p-float-label input:focus~label,.p-float-label input.p-filled~label,.p-float-label textarea:focus~label,.p-float-label textarea.p-filled~label,.p-float-label .p-inputwrapper-focus~label,.p-float-label .p-inputwrapper-filled~label{top:-.75rem;font-size:12px}.p-float-label .input:-webkit-autofill~label{top:-20px;font-size:12px}.p-float-label .p-placeholder,.p-float-label input::placeholder,.p-float-label .p-inputtext::placeholder{opacity:0;transition-property:all;transition-timing-function:ease}.p-float-label .p-focus .p-placeholder,.p-float-label input:focus::placeholder,.p-float-label .p-inputtext:focus::placeholder{opacity:1;transition-property:all;transition-timing-function:ease}.p-input-icon-left,.p-input-icon-right{position:relative;display:inline-block}.p-input-icon-left>i,.p-input-icon-right>i{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-input-icon-left,.p-fluid .p-input-icon-right{display:block;width:100%}.p-inputtextarea-resizable{overflow:hidden;resize:none}.p-fluid .p-inputtextarea{width:100%}.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}.p-radiobutton{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-radiobutton-box{display:flex;justify-content:center;align-items:center}.p-radiobutton-icon{-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0) scale(.1);border-radius:50%;visibility:hidden}.p-radiobutton-box.p-highlight .p-radiobutton-icon{transform:translateZ(0) scale(1);visibility:visible}p-radiobutton{display:inline-flex;vertical-align:bottom;align-items:center}.p-radiobutton-label{line-height:1}.p-ripple{overflow:hidden;position:relative}.p-ink{display:block;position:absolute;background:rgba(255,255,255,.5);border-radius:100%;transform:scale(0)}.p-ink-active{animation:ripple .4s linear}.p-ripple-disabled .p-ink{display:none!important}@keyframes ripple{to{opacity:0;transform:scale(2.5)}}.p-tooltip{position:absolute;display:none;padding:.25em .5rem;max-width:12.5rem}.p-tooltip.p-tooltip-right,.p-tooltip.p-tooltip-left{padding:0 .25rem}.p-tooltip.p-tooltip-top,.p-tooltip.p-tooltip-bottom{padding:.25em 0}.p-tooltip .p-tooltip-text{white-space:pre-line;word-break:break-word}.p-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.p-tooltip-right .p-tooltip-arrow{top:50%;left:0;margin-top:-.25rem;border-width:.25em .25em .25em 0}.p-tooltip-left .p-tooltip-arrow{top:50%;right:0;margin-top:-.25rem;border-width:.25em 0 .25em .25rem}.p-tooltip.p-tooltip-top{padding:.25em 0}.p-tooltip-top .p-tooltip-arrow{bottom:0;left:50%;margin-left:-.25rem;border-width:.25em .25em 0}.p-tooltip-bottom .p-tooltip-arrow{top:0;left:50%;margin-left:-.25rem;border-width:0 .25em .25rem}.control{border-radius:4px}.list-items{padding:0}.fullscreen:-webkit-full-screen{height:100%;margin:0}.fullscreen:fullscreen{height:100%}.fullscreen{margin-bottom:10px;width:100%;height:500px;display:flex;position:relative}.mapa{width:100%;height:100%;display:flex;justify-content:center}.mapa .ol-zoom{top:3.5em;right:.5em;left:unset}.mapa:-webkit-full-screen{height:100%}.mapa:fullscreen{height:100%}.mapa:-webkit-full-screen{height:100%!important;margin:0}.mapa .ol-rotate{top:3em}.control{display:inline-block;width:350px;position:absolute;z-index:1;margin-left:auto;max-width:100%}.ol-mouse-position{bottom:10px;top:auto;color:#000;background:rgba(255,255,255,.5);padding:5px;border-radius:10px;right:.5em;font-size:.9em}.ol-attribution{display:none}.dropdown-button{background-color:#fff;color:gray;padding:16px;font-size:16px;border:none;cursor:pointer;width:100%;border-radius:4px 4px 0 0}.dropdown-content{display:none;position:absolute;background-color:#f9f9f9;border-top:1px;border-color:gray;width:100%;box-shadow:0 8px 16px #0006;z-index:1;padding:0 20px;overflow:auto;max-height:350px;border-radius:0 0 8px 8px}.break{flex-basis:100%;height:0}.list-item-layer{display:flex;flex-direction:row;justify-content:flex-end;padding:1rem}.info-item{display:flex;flex-direction:row;justify-content:flex-start;margin-top:10px}.list-item-layer:hover{background-color:#f3f3f3}.item-title{width:80%;text-overflow:ellipsis;font-size:1em;overflow:hidden}.drag{cursor:move}.control-label{white-space:nowrap;text-overflow:ellipsis;font-size:1em;overflow:hidden}.ol-popup{position:absolute;background-color:#fff;filter:drop-shadow(0 1px 4px rgba(0,0,0,.2));padding:15px;border-radius:10px;border:1px solid #cccccc;bottom:12px;left:-50px;min-width:180px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.opacity{cursor:pointer;width:30%}::ng-deep .ol-zoom{margin-top:50px}::ng-deep .ol-zoomslider{margin-top:50px}.ol-zoomslider{top:5.5em;right:.5em;left:unset}.ol-zoom .ol-zoom-out{margin-top:13.5em}#map-popup-content{margin-top:10px;max-height:200px;overflow:auto}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px;cursor:pointer}.ol-popup-closer:after{content:"\\2716"}.base-map-container{display:flex;position:absolute;top:80px;right:.5em}.btn-base-map{padding:.5rem 1rem;border:none;outline:none;background-color:#fff;color:gray;border-radius:3px;cursor:pointer}.btn-base-map:hover{border:1px solid #d0d0d0;margin:-1px}.btn-base-map.active{box-shadow:0 0 0 .125rem #0d80fa80}.drop-base-map-wrapper{position:relative;display:flex;flex-direction:row-reverse}.drop-base-map-menu{display:none;position:absolute;white-space:nowrap;border-radius:25px}.drop-base-map-menu.active{display:block;background-color:#fff;position:absolute;white-space:nowrap;border-radius:25px}.drop-base-mapdown{top:100%;margin-top:.125rem}.drop-base-mapup{bottom:100%;margin-bottom:.125rem}.drop-base-mapleft{right:100%;top:0%;margin-right:.125rem}.drop-base-mapright{left:100%;top:0%;margin-left:.125rem}.drop-base-map-menu a{display:block;padding:.5rem 1rem;text-decoration:none;color:#343434}.layer-icon{content:url(layers-icon.f58a0fe68605cb95.svg);width:30px;height:30px}.compass{bottom:40px;width:60px;right:.5em;top:auto!important}.ol-compassctrl{bottom:40px;width:60px;height:60px;top:auto!important}.legend{display:inline-block!important;width:350px;position:absolute;z-index:9999;bottom:50px}\n','.ol-control i{cursor:default}.ol-control.ol-bar{left:50%;min-height:1em;min-width:1em;position:absolute;top:.5em;transform:translate(-50%);-webkit-transform:translate(-50%,0);white-space:nowrap}.ol-control.ol-toggle .ol-option-bar{display:none}.ol-control.ol-bar .ol-control{position:relative;inset:auto;display:inline-block;vertical-align:middle;background-color:transparent;padding:0;margin:0;transform:none;-webkit-transform:none}.ol-control.ol-bar .ol-bar{position:static}.ol-control.ol-bar .ol-control button{margin:2px 1px;outline:none}.ol-control.ol-bar.ol-left{left:.5em;top:50%;transform:translateY(-50%)}.ol-control.ol-bar.ol-left .ol-control{display:block}.ol-control.ol-bar.ol-right{left:auto;right:.5em;top:50%;transform:translateY(-50%)}.ol-control.ol-bar.ol-right .ol-control{display:block}.ol-control.ol-bar.ol-bottom{top:auto;bottom:.5em}.ol-control.ol-bar.ol-top.ol-left,.ol-control.ol-bar.ol-top.ol-right{top:4.5em;transform:none}.ol-touch .ol-control.ol-bar.ol-top.ol-left,.ol-touch .ol-control.ol-bar.ol-top.ol-right{top:5.5em}.ol-control.ol-bar.ol-bottom.ol-left,.ol-control.ol-bar.ol-bottom.ol-right{top:auto;bottom:.5em;transform:none}.ol-control.ol-bar.ol-group{margin:1px 1px 1px 0}.ol-control.ol-bar.ol-right .ol-group,.ol-control.ol-bar.ol-left .ol-group{margin:1px 1px 0}.ol-control.ol-bar.ol-group button{border-radius:0;margin:0 0 0 1px}.ol-control.ol-bar.ol-right.ol-group button,.ol-control.ol-bar.ol-left.ol-group button,.ol-control.ol-bar.ol-right .ol-group button,.ol-control.ol-bar.ol-left .ol-group button{margin:0 0 1px}.ol-control.ol-bar.ol-group .ol-control:first-child>button{border-radius:5px 0 0 5px}.ol-control.ol-bar.ol-group .ol-control:last-child>button{border-radius:0 5px 5px 0}.ol-control.ol-bar.ol-left.ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-right.ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-left .ol-group .ol-control:first-child>button,.ol-control.ol-bar.ol-right .ol-group .ol-control:first-child>button{border-radius:5px 5px 0 0}.ol-control.ol-bar.ol-left.ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-right.ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-left .ol-group .ol-control:last-child>button,.ol-control.ol-bar.ol-right .ol-group .ol-control:last-child>button{border-radius:0 0 5px 5px}.ol-control.ol-bar .ol-rotate{opacity:1;visibility:visible}.ol-control.ol-bar .ol-rotate button{display:block}.ol-control.ol-bar .ol-toggle.ol-active>button,.ol-control.ol-bar .ol-toggle.ol-active button:hover{background-color:#0af;color:#fff}.ol-control.ol-toggle button:disabled{background-color:#ccc}.ol-control.ol-bar .ol-control.ol-option-bar{display:none;position:absolute;top:100%;left:0;margin:5px 0;border-radius:0;background-color:#fffc;box-shadow:0 0 0 1px #003c8880,1px 1px 2px #00000080}.ol-control.ol-bar .ol-option-bar:before{content:"";border:.5em solid transparent;border-color:transparent transparent rgba(0,60,136,.5);position:absolute;bottom:100%;left:.3em;pointer-events:none}.ol-control.ol-bar .ol-option-bar .ol-control{display:table-cell}.ol-control.ol-bar .ol-control .ol-bar{display:none}.ol-control.ol-bar .ol-control.ol-active>.ol-option-bar{display:block}.ol-control.ol-bar .ol-control.ol-collapsed ul{display:none}.ol-control.ol-bar .ol-control.ol-text-button>div:hover,.ol-control.ol-bar .ol-control.ol-text-button>div{background-color:transparent;color:#003c8880;width:auto;min-width:1.375em;margin:0}.ol-control.ol-bar .ol-control.ol-text-button{font-size:.9em;border-left:1px solid rgba(0,60,136,.8);border-radius:0}.ol-control.ol-bar .ol-control.ol-text-button:first-child{border-left:0}.ol-control.ol-bar .ol-control.ol-text-button>div{padding:.11em .3em;font-weight:400;font-size:1.14em;font-family:Arial,Helvetica,sans-serif}.ol-control.ol-bar .ol-control.ol-text-button div:hover{color:#003c88}.ol-control.ol-bar.ol-bottom .ol-option-bar{top:auto;bottom:100%}.ol-control.ol-bar.ol-bottom .ol-option-bar:before{border-color:rgba(0,60,136,.5) transparent transparent;bottom:auto;top:100%}.ol-control.ol-bar.ol-left .ol-option-bar{left:100%;top:0;bottom:auto;margin:0 5px}.ol-control.ol-bar.ol-left .ol-option-bar:before{border-color:transparent rgba(0,60,136,.5) transparent transparent;inset:.3em 100% auto auto}.ol-control.ol-bar.ol-right .ol-option-bar{inset:0 100% auto auto;margin:0 5px}.ol-control.ol-bar.ol-right .ol-option-bar:before{border-color:transparent transparent transparent rgba(0,60,136,.5);bottom:auto;left:100%;top:.3em}.ol-control.ol-bar.ol-left .ol-option-bar .ol-option-bar,.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar{inset:100% auto auto .3em;margin:5px 0}.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar{right:.3em;left:auto}.ol-control.ol-bar.ol-left .ol-option-bar .ol-option-bar:before,.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar:before{border-color:transparent transparent rgba(0,60,136,.5);inset:auto auto 100% .3em}.ol-control.ol-bar.ol-right .ol-option-bar .ol-option-bar:before{right:.3em;left:auto}.ol-control-title{position:absolute;top:0;left:0;right:0}.ol-center-position{position:absolute;bottom:0;left:50%;transform:translate(-50%);background-color:#fffc;padding:.1em 1em}.ol-compassctrl{display:none;top:1em;left:auto;right:1em}.ol-compassctrl.ol-visible{display:block!important}.ol-ext-dialog{position:fixed;top:-100%;left:0;width:150%;height:100%;opacity:0;background-color:#00000080;z-index:1000;pointer-events:none!important;transition:opacity .2s,top 0s .2s}.ol-ext-dialog.ol-visible{opacity:1;top:0;pointer-events:all!important;transition:opacity .2s,top 0s}.ol-viewport .ol-ext-dialog{position:absolute}.ol-ext-dialog>form>h2{margin:0 .5em .5em 0;display:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ol-ext-dialog>form.ol-title>h2{display:block}.ol-ext-dialog>form{position:absolute;top:0;left:33.33%;min-width:5em;max-width:60%;min-height:3em;max-height:100%;background-color:#fff;border:1px solid #333;box-shadow:3px 3px 4px #00000080;transform:translate(-50%,-30%);transition:top .2s,transform .2s;padding:1em;box-sizing:border-box;overflow-x:hidden;overflow-y:auto}.ol-ext-dialog>form.ol-closebox{padding-top:1.5em}.ol-ext-dialog>form.ol-title{padding-top:1em}.ol-ext-dialog>form.ol-button{padding-bottom:.5em}.ol-ext-dialog.ol-zoom>form{top:30%;transform:translate(-50%,-30%) scale(0)}.ol-ext-dialog.ol-visible>form{top:30%}.ol-ext-dialog.ol-zoom.ol-visible>form{transform:translate(-50%,-30%) scale(1)}.ol-ext-dialog>form .ol-content{overflow-x:hidden;overflow-y:auto}.ol-ext-dialog>form .ol-closebox{position:absolute;top:.5em;right:.5em;width:1em;height:1em;cursor:pointer;display:none}.ol-ext-dialog>form.ol-closebox .ol-closebox{display:block}.ol-ext-dialog>form .ol-closebox:before,.ol-ext-dialog>form .ol-closebox:after{content:"";position:absolute;background-color:currentColor;top:50%;left:50%;width:1em;height:.1em;border-radius:.1em;transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-dialog>form .ol-closebox:before{transform:translate(-50%,-50%) rotate(-45deg)}.ol-ext-dialog>form .ol-buttons{text-align:right;overflow-x:hidden}.ol-ext-dialog>form .ol-buttons input{margin-top:.5em;padding:.5em;background:none;border:0;font-size:1em;color:#003c88;cursor:pointer;border-radius:.25em;outline-width:0}.ol-ext-dialog>form .ol-buttons input:hover{background-color:#003c881a}.ol-ext-dialog>form .ol-buttons input[type=submit]{font-weight:700}.ol-ext-dialog .ol-progress-message{font-size:.9em;text-align:center;padding-bottom:.5em}.ol-ext-dialog .ol-progress-bar{border:1px solid #369;width:20em;height:1em;max-width:100%;padding:2px;margin:.5em auto 0;overflow:hidden}.ol-ext-dialog .ol-progress-bar>div{background:#369;height:100%;width:50%;transition:width .3s}.ol-ext-dialog .ol-progress-bar>div.notransition{transition:unset}.ol-ext-dialog.ol-fullscreen-dialog form{transform:none;inset:1em;max-width:calc(66.6% - 2em);text-align:center;background:transparent;box-shadow:none;border:none;color:#fff}.ol-ext-dialog.ol-fullscreen-dialog form .ol-closebox{top:0;right:0;font-size:2em}.ol-ext-dialog.ol-fullscreen-dialog .ol-closebox:before,.ol-ext-dialog.ol-fullscreen-dialog .ol-closebox:after{border:.1em solid currentColor}.ol-ext-dialog.ol-fullscreen-dialog img,.ol-ext-dialog.ol-fullscreen-dialog video{max-width:100%}body>.ol-ext-dialog .ol-content{max-height:calc(100vh - 10em)}body>.ol-ext-dialog>form{overflow:visible}.ol-editbar .ol-button button{position:relative;display:inline-block;font-style:normal;box-sizing:border-box;vertical-align:middle}.ol-editbar .ol-button button:before,.ol-editbar .ol-button button:after{content:"";border-width:0;position:absolute;box-sizing:border-box;background-color:currentColor}.ol-editbar .ol-button button:focus{outline:none}.ol-editbar .ol-selection>button:before{width:.6em;height:1em;background-color:transparent;border:.5em solid currentColor;border-width:0 .25em .65em;border-color:currentColor transparent;box-shadow:0 .6em 0 -.23em;top:.35em;left:.5em;transform:translate(-50%,-50%) rotate(-30deg)}.ol-editbar .ol-selection0>button:after{width:.28em;height:.6em;background-color:transparent;border:.5em solid currentColor;border-width:0 .05em .7em;border-color:currentColor transparent;top:.5em;left:.7em;transform:rotate(-45deg)}.ol-editbar .ol-delete button:after,.ol-editbar .ol-delete button:before{width:1em;height:.2em;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg)}.ol-editbar .ol-delete button:after{transform:translate(-50%,-50%) rotate(-45deg)}.ol-editbar .ol-info button:before{width:.25em;height:.6em;border-radius:.03em;top:.47em;left:50%;transform:translate(-50%)}.ol-editbar .ol-info button:after{width:.25em;height:.2em;border-radius:.03em;box-shadow:-.1em .35em,-.1em .82em,.1em .82em;top:.12em;left:50%;transform:translate(-50%)}.ol-editbar .ol-drawpoint button:before{width:.7em;height:.7em;border-radius:50%;border:.15em solid currentColor;background-color:transparent;top:.2em;left:50%;transform:translate(-50%)}.ol-editbar .ol-drawpoint button:after{width:.4em;height:.4em;border:.15em solid currentColor;border-color:currentColor transparent;border-width:.4em .2em 0;background-color:transparent;top:.8em;left:50%;transform:translate(-50%)}.ol-editbar .ol-drawline>button:before,.ol-editbar .ol-drawpolygon>button:before,.ol-editbar .ol-drawhole>button:before{width:.8em;height:.8em;border:.13em solid currentColor;background-color:transparent;border-width:.2em .13em .09em;top:.2em;left:.25em;transform:rotate(10deg) perspective(1em) rotateX(40deg)}.ol-editbar .ol-drawline>button:before{border-bottom:0}.ol-editbar .ol-drawline>button:after,.ol-editbar .ol-drawhole>button:after,.ol-editbar .ol-drawpolygon>button:after{width:.3em;height:.3em;top:.2em;left:.25em;box-shadow:-.2em .55em,.6em .1em,.65em .7em}.ol-editbar .ol-drawhole>button:after{box-shadow:-.2em .55em,.6em .1em,.65em .7em,.25em .35em}.ol-editbar .ol-offset>button i,.ol-editbar .ol-transform>button i{position:absolute;width:.9em;height:.9em;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-editbar .ol-offset>button i{width:.8em;height:.8em}.ol-editbar .ol-offset>button i:before,.ol-editbar .ol-transform>button i:before,.ol-editbar .ol-transform>button i:after{content:"";height:1em;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);box-shadow:.5em 0 0 .1em,-.5em 0 0 .1em;width:.1em;position:absolute;background-color:currentColor}.ol-editbar .ol-offset>button i:before{box-shadow:.45em 0 0 .1em,-.45em 0 0 .1em}.ol-editbar .ol-transform>button i:after{transform:translate(-50%,-50%) rotate(-45deg)}.ol-editbar .ol-split>button:before{width:.3em;height:.3em;top:.81em;left:.75em;border-radius:50%;box-shadow:.1em -.4em,-.15em -.25em}.ol-editbar .ol-split>button:after{width:.8em;height:.8em;top:.15em;left:-.1em;border:.1em solid currentColor;border-width:0 .2em .2em 0;background-color:transparent;border-radius:.1em;transform:rotate(20deg) scaleY(.6) rotate(-45deg)}.ol-editbar .ol-drawregular>button:before{width:.9em;height:.9em;top:50%;left:50%;border:.1em solid currentColor;background-color:transparent;transform:translate(-50%,-50%)}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div{border:.5em solid currentColor;border-color:transparent currentColor;display:inline-block;cursor:pointer;vertical-align:text-bottom}.ol-editbar .ol-drawregular .ol-bar:before,.ol-control.ol-bar.ol-editbar .ol-drawregular .ol-bar{left:50%;transform:translate(-50%)}.ol-editbar .ol-drawregular .ol-bar .ol-text-button{min-width:6em;text-align:center}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div:first-child{border-width:.5em .5em .5em 0;margin:0 .5em 0 0}.ol-editbar .ol-drawregular .ol-bar .ol-text-button>div>div>div:last-child{border-width:.5em 0 .5em .5em;margin:0 0 0 .5em}.ol-gauge{top:.5em;left:50%;transform:translate(-50%)}.ol-gauge>*{display:inline-block;vertical-align:middle}.ol-gauge>span{margin:0 .5em}.ol-gauge>div{display:inline-block;width:200px;border:1px solid rgba(0,60,136,.5);border-radius:3px;padding:1px}.ol-gauge button{height:.8em;margin:0;max-width:100%}.ol-control.ol-bookmark{top:.5em;left:3em;background-color:#ffffff80}.ol-control.ol-bookmark button{position:relative}.ol-control.ol-bookmark>button:before{content:"";position:absolute;border-width:10px 5px 4px;border-style:solid;border-color:currentColor;border-bottom-color:transparent;top:50%;left:50%;transform:translate(-50%,-50%);height:0}.ol-control.ol-bookmark>div{display:none;min-width:5em}.ol-control.ol-bookmark input{font-size:.9em;margin:.1em 0;padding:0 .5em}.ol-control.ol-bookmark ul{margin:0;padding:0;list-style:none;min-width:10em}.ol-control.ol-bookmark li{color:#003c88cc;font-size:.9em;padding:0 .2em 0 .5em;cursor:default;clear:both}.ol-control.ol-bookmark li:hover{background-color:#003c8880;color:#fff}.ol-control.ol-bookmark>div button{width:1em;height:.8em;float:right;background-color:transparent;cursor:pointer;border-radius:0}.ol-control.ol-bookmark>div button:before{content:"\\2a2f";color:#936;font-size:1.2em;line-height:1em;border-radius:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-bookmark ul li button,.ol-bookmark input{display:none}.ol-bookmark.ol-editable ul li button,.ol-bookmark.ol-editable input{display:block}.ol-control.ol-geobt{inset:auto .5em 3em auto}.ol-touch .ol-control.ol-geobt{bottom:3.5em}.ol-control.ol-geobt button:before{content:"";position:absolute;background:transparent;top:50%;left:50%;transform:translate(-50%,-50%);border:.16em solid currentColor;width:.4em;height:.4em;border-radius:50%}.ol-control.ol-geobt button:after{content:"";position:absolute;width:.2em;height:.2em;background:transparent;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:.42em 0,-.42em 0,0 .42em,0 -.42em}.ol-control.ol-bar.ol-geobar .ol-control{display:inline-block;vertical-align:middle}.ol-control.ol-bar.ol-geobar .ol-bar{display:none}.ol-bar.ol-geobar.ol-active .ol-bar{display:inline-block}.ol-bar.ol-geobar .geolocBt button:before,.ol-bar.ol-geobar .geolocBt button:after{content:"";display:block;position:absolute;border:1px solid transparent;border-width:.3em .8em 0 .2em;border-color:currentColor transparent transparent;transform:rotate(-30deg);top:.45em;left:.15em;font-size:1.2em}.ol-bar.ol-geobar .geolocBt button:after{border-width:0 .8em .3em .2em;border-color:transparent transparent currentColor;transform:rotate(-61deg)}.ol-bar.ol-geobar .startBt button:before{content:"";display:block;position:absolute;width:1em;height:1em;background-color:#800;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-bar.ol-geobar .pauseBt button:before,.ol-bar.ol-geobar .pauseBt button:after{content:"";display:block;position:absolute;width:.25em;height:1em;background-color:currentColor;top:50%;left:35%;transform:translate(-50%,-50%)}.ol-bar.ol-geobar .pauseBt button:after{left:65%}.ol-control.ol-bar.ol-geobar .centerBt,.ol-control.ol-bar.ol-geobar .pauseBt,.ol-bar.ol-geobar.pauseTrack .startBt,.ol-bar.ol-geobar.centerTrack .startBt,.ol-bar.ol-geobar.centerTrack.pauseTrack .pauseBt,.ol-bar.ol-geobar.centerTrack .pauseBt{display:none}.ol-bar.ol-geobar.pauseTrack .pauseBt,.ol-bar.ol-geobar.centerTrack .centerBt{display:inline-block}.ol-control.ol-globe{position:absolute;left:.5em;bottom:.5em;border-radius:50%;opacity:.7;transform:scale(.5);transform-origin:0 100%;-webkit-transform:scale(.5);-webkit-transform-origin:0 100%}.ol-control.ol-globe:hover{opacity:.9}.ol-control.ol-globe .panel{display:block;width:170px;height:170px;background-color:#fff;cursor:pointer;border-radius:50%;overflow:hidden;box-shadow:0 0 10px 5px #ffffff80}.ol-control.ol-globe .panel .ol-viewport{border-radius:50%}.ol-control.ol-globe .ol-pointer{display:block;background-color:#fff;width:10px;height:10px;border:10px solid red;position:absolute;top:50%;left:50%;transform:translate(-15px,-40px);-webkit-transform:translate(-15px,-40px);border-radius:50%;z-index:1;transition:opacity .15s,top 0s,left 0s;-webkit-transition:opacity .15s,top 0s,left 0s}.ol-control.ol-globe .ol-pointer.hidden{opacity:0;transition:opacity .15s,top 3s,left 5s;-webkit-transition:opacity .15s,top 3s,left 5s}.ol-control.ol-globe .ol-pointer:before{border-radius:50%;box-shadow:6px 6px 10px 5px #000;content:"";display:block;height:0;left:0;position:absolute;top:23px;width:0}.ol-control.ol-globe .ol-pointer:after{content:"";width:0;height:0;display:block;position:absolute;border-width:20px 10px 0;border-color:red transparent;border-style:solid;left:-50%;top:100%}.ol-control.ol-globe .panel:before{border-radius:50%;box-shadow:-20px -20px 80px 2px #000000b3 inset;content:"";display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ol-control.ol-globe .panel:after{border-radius:50%;box-shadow:0 0 20px 7px #fff;content:"";display:block;height:0;left:23%;position:absolute;top:20%;transform:rotate(-40deg);width:20%;z-index:1}.ol-control.ol-globe.ol-collapsed .panel{display:none}.ol-control-top.ol-globe{bottom:auto;top:5em;transform-origin:0 0;-webkit-transform-origin:0 0}.ol-control-right.ol-globe{left:auto;right:.5em;transform-origin:100% 100%;-webkit-transform-origin:100% 100%}.ol-control-right.ol-control-top.ol-globe{left:auto;right:.5em;transform-origin:100% 0;-webkit-transform-origin:100% 0}.ol-gridreference{background:#fff;border:1px solid #000;overflow:auto;max-height:100%;top:0;right:0}.ol-gridreference input{width:100%}.ol-gridreference ul{margin:0;padding:0;list-style:none}.ol-gridreference li{padding:0 .5em;cursor:pointer}.ol-gridreference ul li:hover{background-color:#ccc}.ol-gridreference li.ol-title,.ol-gridreference li.ol-title:hover{background:rgba(0,60,136,.5);color:#fff;cursor:default}.ol-gridreference ul li .ol-ref{margin-left:.5em}.ol-gridreference ul li .ol-ref:before{content:"("}.ol-gridreference ul li .ol-ref:after{content:")"}.ol-control.ol-imageline{bottom:0;left:0;right:0;padding:0;overflow:visible;transition:.3s;border-radius:0}.ol-control.ol-imageline.ol-collapsed{transform:translateY(100%)}.ol-imageline>div{height:4em;position:relative;white-space:nowrap;scroll-behavior:smooth;overflow:hidden;width:100%}.ol-imageline>div.ol-move{scroll-behavior:unset}.ol-control.ol-imageline button{position:absolute;top:-1em;transform:translateY(-100%);margin:.65em;box-shadow:0 0 0 .15em #fff6}.ol-control.ol-imageline button:before{content:"";position:absolute;transform:translate(-50%,-50%) rotate(135deg);top:40%;left:50%;width:.4em;height:.4em;border:.1em solid currentColor;border-width:.15em .15em 0 0}.ol-control.ol-imageline.ol-collapsed button:before{top:60%;transform:translate(-50%,-50%) rotate(-45deg)}.ol-imageline,.ol-imageline:hover{background-color:#000000bf}.ol-imageline.ol-arrow:after,.ol-imageline.ol-arrow:before{content:"";position:absolute;top:50%;left:.2em;border-color:#fff #000;border-width:1em .6em 1em 0;border-style:solid;transform:translateY(-50%);z-index:1;opacity:.8;pointer-events:none;box-shadow:-.6em 0 0 1em #fff}.ol-imageline.ol-arrow:after{border-width:1em 0 1em .6em;left:auto;right:.2em;box-shadow:.6em 0 0 1em #fff}.ol-imageline.ol-scroll0.ol-arrow:before{display:none}.ol-imageline.ol-scroll1.ol-arrow:after{display:none}.ol-imageline .ol-image{position:relative;height:100%;display:inline-block;cursor:pointer}.ol-imageline img{max-height:100%;border:.25em solid transparent;box-sizing:border-box;opacity:0;transition:1s}.ol-imageline img.ol-loaded{opacity:1}.ol-imageline .ol-image.select{background-color:#fff}.ol-imageline .ol-image span{position:absolute;width:125%;max-height:2.4em;left:50%;bottom:0;display:none;color:#fff;background-color:#00000080;font-size:.8em;overflow:hidden;white-space:normal;text-align:center;line-height:1.2em;transform:translate(-50%) scaleX(.8)}.ol-imageline .ol-image:hover span{display:block}.ol-control.ol-routing.ol-isochrone .ol-method-time,.ol-control.ol-routing.ol-isochrone .ol-method-distance,.ol-control.ol-routing.ol-isochrone>button{position:relative}.ol-control.ol-routing.ol-isochrone .ol-method-time:before,.ol-control.ol-routing.ol-isochrone>button:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:.1em solid currentColor;width:.8em;height:.8em;border-radius:50%;box-shadow:0 -.5em 0 -.35em,.4em -.35em 0 -.35em;clip:unset}.ol-control.ol-routing.ol-isochrone .ol-method-time:after,.ol-control.ol-routing.ol-isochrone>button:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-60deg);border-radius:50%;border:.3em solid transparent;border-right-color:currentColor;box-shadow:none;box-sizing:border-box;clip:unset}.ol-control.ol-routing.ol-isochrone .ol-method-distance:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);width:1em;height:.5em;border:.1em solid currentColor;box-sizing:border-box}.ol-control.ol-routing.ol-isochrone .ol-method-distance:after{content:"";position:absolute;width:.1em;height:.15em;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-30deg);box-shadow:inset 0 -.15em,0 .1em,.25em .1em,-.25em .1em}.ol-control.ol-routing.ol-isochrone .ol-direction-direct:before,.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:before{content:"";position:absolute;top:50%;left:30%;transform:translate(-50%,-50%);width:.3em;height:.3em;border-radius:50%;border:.1em solid currentColor;box-sizing:border-box;box-shadow:.25em 0 0 -.05em}.ol-control.ol-routing.ol-isochrone .ol-direction-direct:after,.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:after{content:"";position:absolute;top:50%;left:70%;transform:translate(-50%,-50%);border:.4em solid transparent;border-width:.4em 0 .4em .4em;border-color:transparent currentColor}.ol-control.ol-routing.ol-isochrone .ol-direction-reverse:after{border-width:.4em .4em .4em 0}.ol-control.ol-isochrone.ol-collapsed .content{display:none}.ol-control.ol-isochrone input[type=number]{width:3em;text-align:right;margin:0 .1em}.ol-control.ol-isochrone .ol-distance input[type=number]{width:5em}.ol-isochrone .ol-time,.ol-isochrone .ol-distance{display:none}.ol-isochrone .ol-time.selected,.ol-isochrone .ol-distance.selected{display:block}.ol-control.ol-layerswitcher-popup{position:absolute;right:.5em;text-align:left;top:3em}.ol-control.ol-layerswitcher-popup .panel{clear:both;background:#fff}.ol-layerswitcher-popup .panel{list-style:none;padding:.25em;margin:0;overflow:hidden}.ol-layerswitcher-popup .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden}.ol-layerswitcher-popup.ol-collapsed .panel{display:none}.ol-layerswitcher-popup.ol-forceopen .panel{display:block}.ol-layerswitcher-popup button{background-color:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==);background-position:center;background-repeat:no-repeat;float:right;height:38px;width:38px}.ol-layerswitcher-popup li{color:#369;padding:.25em 1em;font-family:Trebuchet MS,Helvetica,sans-serif;cursor:pointer}.ol-layerswitcher-popup li.ol-header{display:none}.ol-layerswitcher-popup li.select,.ol-layerswitcher-popup li.ol-visible{background:rgba(0,60,136,.7);color:#fff}.ol-layerswitcher-popup li:hover{background:rgba(0,60,136,.9);color:#fff}.ol-control.ol-layerswitcher.ol-layer-shop{height:calc(100% - 4em);max-height:unset;max-width:16em;background-color:transparent;pointer-events:none!important;overflow:visible}.ol-control.ol-layerswitcher>*{pointer-events:auto}.ol-control.ol-layer-shop>button,.ol-control.ol-layer-shop .panel-container{box-shadow:0 0 0 3px #ffffff80}.ol-control.ol-layerswitcher.ol-layer-shop .panel-container{overflow-y:scroll;max-height:calc(100% - 6.5em);border:2px solid #369;border-width:2px 0;padding:0}.ol-control.ol-layer-shop .panel{padding:0;box-sizing:border-box;margin:.25em .5em}.ol-control.ol-layerswitcher.ol-layer-shop .panel-container.ol-scrolldiv{overflow:hidden}.ol-control.ol-layer-shop .ol-scroll{background-color:#0000004d;opacity:.5}.ol-layerswitcher.ol-layer-shop ul.panel li.ol-header{display:none}.ol-layerswitcher.ol-layer-shop ul.panel li{margin-right:0;padding-right:0}.ol-layerswitcher.ol-layer-shop .layerup{height:1.5em;width:1.4em;margin:0;box-sizing:border-box;border-radius:3px;background-color:transparent;color:#003c88}.ol-layerswitcher.ol-layer-shop .layerup:hover{background-color:#003c884d}.ol-layerswitcher.ol-layer-shop .layerup:before{top:50%;left:50%;transform:translate(-50%,-50%);border:0;background-color:currentColor;width:1em;height:2px;box-shadow:0 -4px,0 4px}.ol-layerswitcher.ol-layer-shop .layerup:after{content:unset}.ol-control.ol-layer-shop .ol-title-bar{background-color:#ffffff80;font-size:.9em;height:calc(2.8em - 4px);max-width:14.6em;padding:.7em .5em;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:right;transform:scaleY(1.1);transition:transform .1s,width 0s;transform-origin:100% 0}.ol-control.ol-layer-shop:hover .ol-title-bar{background-color:#ffffffb3}.ol-control.ol-layer-shop.ol-collapsed .ol-title-bar{max-width:10em;transform:scale(.9,1.1)}.ol-control.ol-layer-shop.ol-forceopen .ol-title-bar{max-width:14.6em;transform:scaleY(1.1)}.ol-control.ol-layer-shop .ol-bar{position:relative;height:1.75em;clear:both;box-shadow:0 0 0 3px #ffffff80;background-color:#fff;text-align:right;z-index:10}.ol-control.ol-layer-shop.ol-collapsed .ol-scroll,.ol-control.ol-layer-shop.ol-collapsed .ol-bar{border-width:2px 0 0;display:none}.ol-control.ol-layer-shop.ol-forceopen .ol-scroll,.ol-control.ol-layer-shop.ol-forceopen .ol-bar{display:block}.ol-control.ol-layer-shop .ol-bar>*{font-size:.9em;display:inline-block;vertical-align:middle;margin-top:.25em;background-color:transparent}.ol-layer-shop .ol-bar .ol-button,.ol-touch .ol-layer-shop .ol-bar .ol-button{position:relative;top:unset;left:unset;bottom:unset;right:unset;margin:0}.ol-layer-shop .ol-bar button{background-color:#fff;color:#003c88}.ol-layer-shop .ol-bar button:hover{background-color:#003c8833}.ol-touch .ol-layerswitcher.ol-layer-shop>button{font-size:1.7em}.ol-touch .ol-layer-shop .ol-bar{height:2em}.ol-touch .ol-layer-shop .ol-control button{font-size:1.4em}.ol-touch .ol-control.ol-layer-shop .panel{max-height:calc(100% - 7em)}.ol-touch .ol-control.ol-layer-shop .panel label{height:1.8em}.ol-touch .ol-control.ol-layer-shop .panel label span{margin-left:.5em;padding-top:.25em}.ol-touch .ol-control.ol-layer-shop .panel label:before,.ol-touch .ol-control.ol-layer-shop .panel label:after{font-size:1.3em;z-index:1}.ol-control.ol-layerswitcher{position:absolute;right:.5em;text-align:left;top:3em;max-height:calc(100% - 6em);box-sizing:border-box;overflow:hidden}.ol-control.ol-layerswitcher .ol-switchertopdiv,.ol-control.ol-layerswitcher .ol-switcherbottomdiv{display:block}.ol-control.ol-layerswitcher.ol-collapsed .ol-switchertopdiv,.ol-control.ol-layerswitcher.ol-collapsed .ol-switcherbottomdiv{display:none}.ol-layerswitcher.ol-forceopen.ol-collapsed .ol-switchertopdiv,.ol-layerswitcher.ol-forceopen.ol-collapsed .ol-switcherbottomdiv{display:block}.ol-control.ol-layerswitcher .ol-switchertopdiv,.ol-control.ol-layerswitcher .ol-switcherbottomdiv{position:absolute;top:0;left:0;right:0;height:45px;background:#fff;z-index:2;opacity:1;cursor:pointer;border-top:2px solid transparent;border-bottom:2px solid #369;margin:0 2px;box-sizing:border-box}.ol-control.ol-layerswitcher .ol-switcherbottomdiv{top:auto;bottom:0;height:2em;border-top:2px solid #369;border-bottom:2px solid transparent}.ol-control.ol-layerswitcher .ol-switchertopdiv:before,.ol-control.ol-layerswitcher .ol-switcherbottomdiv:before{content:"";position:absolute;left:50%;top:50%;border:10px solid transparent;width:0;height:0;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);opacity:.8}.ol-control.ol-layerswitcher .ol-switchertopdiv:hover:before,.ol-control.ol-layerswitcher .ol-switcherbottomdiv:hover:before{opacity:1}.ol-control.ol-layerswitcher .ol-switchertopdiv:before{border-bottom-color:#369;border-top:0}.ol-control.ol-layerswitcher .ol-switcherbottomdiv:before{border-top-color:#369;border-bottom:0}.ol-control.ol-layerswitcher .panel-container{background-color:#fff;border-radius:0 0 2px 2px;clear:both;display:block;padding:.5em .5em 0}.ol-layerswitcher .panel{list-style:none;padding:0;margin:0;overflow:hidden;font-family:Tahoma,Geneva,sans-serif;font-size:.9em;transition:top .3s;position:relative;top:0}.ol-layerswitcher .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden;clear:both}.ol-layerswitcher input[type=radio],.ol-layerswitcher input[type=checkbox]{display:none}.ol-layerswitcher .panel li{-weblit-transition:-webkit-transform .2s linear;transition:transform .2s linear;clear:both;display:block;border:1px solid transparent;box-sizing:border-box}.ol-layerswitcher .panel li.ol-layer-select{background-color:#003c8833;margin:0 -.5em;padding:0 .5em}.ol-layerswitcher .panel li.drag{opacity:.5;transform:scale(.8);-webkit-transform:scale(.8)}.ol-dragover{background:rgba(51,102,153,.5);opacity:.8}.ol-layerswitcher .panel li.forbidden,.forbidden .ol-layerswitcher-buttons div,.forbidden .layerswitcher-opacity div{background:rgba(255,0,0,.5);color:red!important}.ol-layerswitcher.drag,.ol-layerswitcher.drag *{cursor:not-allowed!important;cursor:no-drop!important}.ol-layerswitcher.drag .panel li.dropover,.ol-layerswitcher.drag .panel li.dropover *{cursor:pointer!important;cursor:n-resize!important;cursor:ns-resize!important;cursor:grab!important;cursor:grabbing!important}.ol-layerswitcher .panel li.dropover{background:rgba(51,102,153,.5)}.ol-layerswitcher .panel li label{display:inline-block;height:1.4em;max-width:12em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0 0 0 1.7em;position:relative}.ol-layerswitcher .panel li label span{display:inline-block;width:100%;height:100%;overflow:hidden;text-overflow:ellipsis;padding-right:.2em}.ol-layerswitcher [type=radio]+label:before,.ol-layerswitcher [type=checkbox]+label:before,.ol-layerswitcher [type=radio]:checked+label:after,.ol-layerswitcher [type=checkbox]:checked+label:after{content:"";position:absolute;left:.1em;top:.1em;width:1.2em;height:1.2em;border:2px solid #369;background:#fff;box-sizing:border-box}.ol-layerswitcher [type=radio]+label:before,.ol-layerswitcher [type=radio]+label:after{border-radius:50%}.ol-layerswitcher [type=radio]:checked+label:after{background:#369 none repeat scroll 0 0;margin:.3em;width:.6em;height:.6em}.ol-layerswitcher [type=checkbox]:checked+label:after{background:transparent;border-width:0 3px 3px 0;border-style:solid;border-color:#369;width:.7em;height:1em;transform:rotate(45deg);left:.55em;top:-.05em;box-shadow:1px 0 1px 1px #fff}.ol-layerswitcher .panel li.ol-layer-hidden{opacity:.6}.ol-layerswitcher.ol-collapsed .panel-container{display:none}.ol-layerswitcher.ol-forceopen .panel-container{display:block}.ol-layerswitcher-image>button,.ol-layerswitcher>button{background-color:#fff;float:right;z-index:10;position:relative;font-size:1.7em}.ol-touch .ol-layerswitcher-image>button,.ol-touch .ol-layerswitcher>button{font-size:2.5em}.ol-layerswitcher-image>button:before,.ol-layerswitcher-image>button:after,.ol-layerswitcher>button:before,.ol-layerswitcher>button:after{content:"";position:absolute;width:.75em;height:.75em;border-radius:.15em;transform:scaleY(.8) rotate(45deg)}.ol-layerswitcher-image>button:before,.ol-layerswitcher>button:before{background:#e2e4e1;top:.32em;left:.34em;box-shadow:.1em .1em #325158}.ol-layerswitcher-image>button:after,.ol-layerswitcher>button:after{top:.22em;left:.34em;background:#83bcc5;background-image:radial-gradient(circle at .85em .6em,#70b3be 0,#70b3be .65em,#83bcc5 .65em)}.ol-layerswitcher-buttons{display:block;float:right;text-align:right}.ol-layerswitcher-buttons>div{display:inline-block;position:relative;cursor:pointer;height:1em;width:1em;margin:2px;line-height:1em;text-align:center;background:#369;vertical-align:middle;color:#fff}.ol-layerswitcher .panel li>div{display:inline-block;position:relative}.ol-layerswitcher .ol-separator{display:block;width:0;height:0;padding:0;margin:0}.ol-layerswitcher .layerup{float:right;height:2.5em;background-color:#369;opacity:.5;cursor:move;cursor:ns-resize}.ol-layerswitcher .layerup:before,.ol-layerswitcher .layerup:after{border-color:#fff transparent;border-style:solid;border-width:.4em .4em 0;content:"";height:0;position:absolute;bottom:3px;left:.1em;width:0}.ol-layerswitcher .layerup:after{border-width:0 .4em .4em;top:3px;bottom:auto}.ol-layerswitcher .layerInfo{background:#369;border-radius:100%}.ol-layerswitcher .layerInfo:before{color:#fff;content:"i";display:block;font-size:.8em;font-weight:700;text-align:center;width:1.25em;position:absolute;left:0;top:0}.ol-layerswitcher .layerTrash{background:#369}.ol-layerswitcher .layerTrash:before{color:#fff;content:"\\d7";font-size:1em;top:50%;left:0;right:0;text-align:center;line-height:1em;margin:-.5em 0;position:absolute}.ol-layerswitcher .layerExtent{background:#369}.ol-layerswitcher .layerExtent:before{border-right:1px solid #fff;border-bottom:1px solid #fff;content:"";display:block;position:absolute;inset:6px 2px 3px 6px}.ol-layerswitcher .layerExtent:after{border-left:1px solid #fff;border-top:1px solid #fff;content:"";display:block;position:absolute;inset:3px 6px 6px 2px}.ol-layerswitcher .expend-layers,.ol-layerswitcher .collapse-layers{margin:0 2px;background-color:transparent}.ol-layerswitcher .expend-layers:before,.ol-layerswitcher .collapse-layers:before{content:"";position:absolute;top:50%;left:0;margin-top:-2px;height:4px;width:100%;background:#369}.ol-layerswitcher .expend-layers:after{content:"";position:absolute;left:50%;top:0;margin-left:-2px;width:4px;height:100%;background:#369}.ol-layerswitcher .layerswitcher-opacity{position:relative;border:1px solid #369;height:3px;width:120px;margin:5px 1em 10px 7px;box-sizing:border-box;border-radius:3px;background:#69c;background:linear-gradient(to right,rgba(0,60,136,0),rgba(0,60,136,.6));cursor:pointer;box-shadow:1px 1px 1px #00000080}.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor,.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor:before{position:absolute;width:20px;height:20px;top:50%;left:50%;background:rgba(0,60,136,.5);border-radius:50%;transform:translate(-50%,-50%);z-index:1}.ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor:before{content:"";position:absolute;width:50%;height:50%}.ol-touch .ol-layerswitcher .layerswitcher-opacity .layerswitcher-opacity-cursor{width:26px;height:26px}.ol-layerswitcher .layerswitcher-opacity-label{display:none;position:absolute;right:-2.5em;bottom:5px;font-size:.8em}.ol-layerswitcher .layerswitcher-opacity-label:after{content:"%"}.ol-layerswitcher .layerswitcher-progress{display:block;margin:-4px 1em 2px 7px;width:120px}.ol-layerswitcher .layerswitcher-progress div{background-color:#369;height:2px;display:block;width:0}.ol-control.ol-layerswitcher-image{position:absolute;right:.5em;text-align:left;top:1em;transition:all .2s ease 0s;-webkit-transition:all .2s ease 0s}.ol-control.ol-layerswitcher-image.ol-collapsed{top:3em;transition:none}.ol-layerswitcher-image .panel{list-style:none;padding:.25em;margin:0;overflow:hidden}.ol-layerswitcher-image .panel ul{list-style:none;padding:0 0 0 20px;overflow:hidden}.ol-layerswitcher-image.ol-collapsed .panel{display:none}.ol-layerswitcher-image.ol-forceopen .panel{display:block;clear:both}.ol-layerswitcher-image button{float:right;display:none}.ol-layerswitcher-image.ol-collapsed button{display:block;position:relative}.ol-layerswitcher-image li{border-radius:4px;border:3px solid transparent;box-shadow:1px 1px 4px #00000080;display:inline-block;width:64px;height:64px;margin:2px;position:relative;background-color:#fff;overflow:hidden;vertical-align:middle;cursor:pointer}.ol-layerswitcher-image li.ol-layer-hidden{opacity:.5;border-color:#555}.ol-layerswitcher-image li.ol-header{display:none}.ol-layerswitcher-image li img{position:absolute;max-width:100%}.ol-layerswitcher-image li.select,.ol-layerswitcher-image li.ol-visible{border:3px solid red}.ol-layerswitcher-image li p{display:none}.ol-layerswitcher-image li:hover p{background-color:#00000080;color:#fff;bottom:0;display:block;left:0;margin:0;overflow:hidden;position:absolute;right:0;text-align:center;height:1.2em;font-family:Verdana,Geneva,sans-serif;font-size:.8em}.ol-control.ol-legend{bottom:.5em;left:.5em;z-index:1;max-height:90%;max-width:90%;overflow-x:hidden;overflow-y:auto;background-color:#fff9}.ol-control.ol-legend:hover{background-color:#fffc}.ol-control.ol-legend.ol-collapsed{overflow:hidden}.ol-control.ol-legend button{position:relative;display:none}.ol-control.ol-legend.ol-collapsed button{display:block}.ol-control.ol-legend.ol-uncollapsible button{display:none}.ol-control.ol-legend>ul,.ol-control.ol-legend>canvas{margin:2px}.ol-control.ol-legend button.ol-closebox{display:block;position:absolute;top:0;right:0;background:none;cursor:pointer;z-index:1}.ol-control.ol-legend.ol-uncollapsible button.ol-closebox,.ol-control.ol-legend.ol-collapsed button.ol-closebox{display:none}.ol-control.ol-legend button.ol-closebox:before{content:"\\d7";background:none;color:#003c8880;font-size:1.3em}.ol-control.ol-legend button.ol-closebox:hover:before{color:#003c88}.ol-control.ol-legend .ol-legendImg{display:block}.ol-control.ol-legend.ol-collapsed .ol-legendImg{display:none}.ol-control.ol-legend.ol-uncollapsible .ol-legendImg{display:block}.ol-control.ol-legend>button:first-child:before,.ol-control.ol-legend>button:first-child:after{content:"";position:absolute;top:.25em;left:.2em;width:.2em;height:.2em;background-color:currentColor;box-shadow:0 .35em,0 .7em}.ol-control.ol-legend button:first-child:after{top:.27em;left:.55em;height:.15em;width:.6em}ul.ol-legend{position:absolute;top:0;left:0;width:100%;margin:0;padding:0;list-style:none}.ol-control.ol-legend.ol-collapsed ul{display:none}.ol-control.ol-legend.ol-uncollapsible ul{display:block}ul.ol-legend li.ol-title{text-align:center;font-weight:700}ul.ol-legend li.ol-title>div:first-child{width:0!important}ul.ol-legend li{overflow:hidden;padding:0;white-space:nowrap}ul.ol-legend li div{display:inline-block;vertical-align:top}.ol-control.ol-legend .ol-legend{display:inline-block}.ol-control.ol-legend.ol-collapsed .ol-legend{display:none}.ol-control.ol-mapzone{position:absolute;right:.5em;text-align:left;top:.5em;max-height:calc(100% - 6em);box-sizing:border-box;overflow:hidden}.ol-control.ol-mapzone.ol-collapsed{top:3em}.ol-control.ol-mapzone button{position:relative;float:right;margin-top:2.5em}.ol-touch .ol-control.ol-mapzone button{margin-top:1.67em}.ol-control.ol-mapzone.ol-collapsed button{margin-top:0}.ol-control.ol-mapzone button i{border:.1em solid currentColor;border-radius:50%;width:.9em;height:.9em;overflow:hidden;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-control.ol-mapzone button i:before{content:"";background-color:currentColor;width:.4em;height:.4em;position:absolute;left:.5em;top:.3em;border-radius:50%;box-shadow:.05em .3em 0 -.051em currentColor,-.05em -.35em 0 -.1em currentColor,-.5em -.35em 0 0 currentColor,-.65em .1em 0 -.03em currentColor,-.65em -.05em 0 -.05em currentColor}.ol-mapzone>div{position:relative;display:inline-block;width:5em;height:5em;margin:0 .2em 0 0}.ol-control.ol-mapzone.ol-collapsed>div{display:none}.ol-mapzone>div p{margin:0;position:absolute;bottom:0;color:#fff;font-weight:700;text-align:center;width:160%;overflow:hidden;font-family:Lucida Grande,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif;transform:scaleX(.625);transform-origin:0 0;cursor:default}.ol-notification{width:150%;bottom:0;border:0;background:none;margin:0;padding:0}.ol-notification>div,.ol-notification>div:hover{position:absolute;background-color:#000c;color:#fff;bottom:0;left:33.33%;max-width:calc(66% - 4em);min-width:5em;max-height:5em;min-height:1em;border-radius:4px 4px 0 0;padding:.2em .5em;text-align:center;box-sizing:border-box;transform:translate(-50%);transition:.3s;opacity:1}.ol-notification.ol-collapsed>div{bottom:-5em;opacity:0}.ol-notification a{color:#9cf;cursor:pointer}.ol-notification .ol-close,.ol-notification .ol-close:hover{padding-right:1.5em}.ol-notification .closeBox{position:absolute;top:0;right:.3em}.ol-notification .closeBox:before{content:"\\d7"}.ol-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0006;padding:1em;color:#fff;box-sizing:border-box;z-index:1;opacity:0;display:none;cursor:default;overflow:hidden;transition:all .5s;pointer-events:none;z-index:9}.ol-overlay.slide-up{transform:translateY(100%);-webkit-transform:translateY(100%)}.ol-overlay.slide-down{transform:translateY(-100%)}.ol-overlay.slide-left{transform:translate(-100%)}.ol-overlay.slide-right{transform:translate(100%)}.ol-overlay.zoom{top:50%;left:50%;opacity:.5;transform:translate(-50%,-50%) scale(0)}.ol-overlay.zoomout{transform:scale(3)}.ol-overlay.zoomrotate{top:50%;left:50%;opacity:.5;transform:translate(-50%,-50%) scale(0) rotate(360deg)}.ol-overlay.stretch{top:50%;left:50%;opacity:.5;transform:translate(-50%,-50%) scaleX(0)}.ol-overlay.stretchy{top:50%;left:50%;opacity:.5;transform:translate(-50%,-50%) scaleY(0)}.ol-overlay.wipe{opacity:1}.ol-overlay.flip{transform:perspective(600px) rotateY(180deg)}.ol-overlay.card{opacity:.5;transform:translate(-80%,100%) rotate(-.5turn)}.ol-overlay.book{transform:perspective(600px) rotateY(-180deg) scaleX(.6);transform-origin:10% 50%}.ol-overlay.book.visible{transform-origin:10% 50%}.ol-overlay.ol-visible{opacity:1;inset:0;transform:none;pointer-events:all}.ol-overlay .ol-closebox{position:absolute;top:1em;right:1em;width:1em;height:1em;cursor:pointer;z-index:1}.ol-overlay .ol-closebox:before{content:"\\274c";display:block;text-align:center;vertical-align:middle}.ol-overlay .ol-fullscreen-image{position:absolute;inset:0}.ol-overlay .ol-fullscreen-image img{position:absolute;max-width:100%;max-height:100%;box-sizing:border-box;padding:1em;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-overlay .ol-fullscreen-image.ol-has-title img{padding-bottom:3em}.ol-overlay .ol-fullscreen-image p{background-color:#00000080;padding:.5em;position:absolute;left:0;right:0;bottom:0;margin:0;text-align:center}.ol-control.ol-overview{position:absolute;left:.5em;text-align:left;bottom:.5em}.ol-control.ol-overview .panel{display:block;width:150px;height:150px;margin:2px;background-color:#fff;border:1px solid #369;cursor:pointer}.ol-overview:not(.ol-collapsed) button{position:absolute;bottom:2px;left:2px;z-index:2}.ol-control.ol-overview.ol-collapsed .panel{display:none}.ol-overview.ol-collapsed button:before{content:"\\bb"}.ol-overview button:before{content:"\\ab"}.ol-control-right.ol-overview{left:auto;right:.5em}.ol-control-right.ol-overview:not(.ol-collapsed) button{left:auto;right:2px}.ol-control-right.ol-overview.ol-collapsed button:before{content:"\\ab"}.ol-control-right.ol-overview button:before{content:"\\bb"}.ol-control-top.ol-overview{bottom:auto;top:5em}.ol-control-top.ol-overview:not(.ol-collapsed) button{bottom:auto;top:2px}.ol-permalink{position:absolute;top:.5em;right:2.5em}.ol-touch .ol-permalink{right:3em}.ol-permalink button i{position:absolute;width:1em;height:1em;display:block;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-permalink button i:before{content:"\\2197";position:absolute;border:1px solid currentColor;left:0;top:0;width:.3em;height:1em;box-sizing:border-box;border-width:1px 0 0 1px;padding:0 .2em}.ol-permalink button i:after{content:"";position:absolute;border:1px solid currentColor;right:0;bottom:0;width:1em;height:.3em;box-sizing:border-box;border-width:0 1px 1px 0;padding:.2em}.ol-control.ol-print{top:.5em;left:3em}.ol-control.ol-print button:before{content:"";width:.9em;height:.35em;position:absolute;left:50%;top:50%;transform:translate(-50%);box-shadow:inset 0 0 0 .1em,inset .55em 0,0 .2em 0 -.1em}.ol-control.ol-print button:after{content:"";width:.7em;height:.6em;position:absolute;left:50%;top:25%;transform:translate(-50%);box-shadow:inset 0 0 0 .15em}.ol-ext-print-dialog{width:100%;height:100%}.ol-ext-print-dialog>form .ol-closebox{right:auto;left:16.5em;z-index:1;color:#999}.ol-ext-print-dialog .ol-content[data-status=printing]{opacity:.5}.ol-ext-print-dialog .ol-content .ol-error{display:none;background:#b00;color:#ff0;text-align:center;padding:1em .5em;font-weight:700;margin:0 -1em}.ol-ext-print-dialog .ol-content[data-status=error] .ol-error{display:block}.ol-ext-print-dialog>form,.ol-ext-print-dialog.ol-visible>form{transition:none;inset:1em;transform:none;max-width:100%;max-height:100%;background-color:#eee;padding:0}.ol-ext-print-dialog .ol-print-map{position:absolute;top:0;bottom:0;right:0;width:calc(100% - 18em);overflow:hidden}.ol-ext-print-dialog .ol-print-map .ol-page{position:absolute;left:50%;top:50%;background:#fff;box-sizing:border-box}.ol-ext-print-dialog .ol-print-map .ol-page.margin{box-sizing:content-box}.ol-ext-print-dialog .ol-map{width:100%;height:100%}.ol-ext-print-dialog .ol-print-map .ol-control{display:none!important}.ol-ext-print-dialog .ol-print-param{position:absolute;overflow-x:hidden;top:0;bottom:0;left:0;width:18em;background-color:#fff;padding:1em;box-sizing:border-box}.ol-ext-print-dialog .ol-print-param h2{display:block;color:#003c88b3;font-size:1.1em}.ol-ext-print-dialog .ol-print-param ul{padding:0;list-style:none}.ol-ext-print-dialog .ol-print-param li{position:relative;margin:.5em 0;font-size:.9em}.ol-ext-print-dialog .ol-print-param li.hidden{display:none}.ol-ext-print-dialog .ol-print-param label{width:8em;display:inline-block;vertical-align:middle}.ol-ext-print-dialog select{outline:none;vertical-align:middle}.ol-ext-print-dialog .ol-orientation{text-align:center}.ol-ext-print-dialog .ol-orientation label{position:relative;width:7em;cursor:pointer}.ol-ext-print-dialog .ol-orientation input{position:absolute;opacity:0;width:0;height:0}.ol-ext-print-dialog .ol-orientation span{position:relative;width:80%;display:block;padding:3.5em 0 .2em}.ol-ext-print-dialog .ol-orientation span:before{content:"";position:absolute;width:2em;height:2.6em;bottom:1.5em;left:50%;transform:translate(-50%);color:#333;background-color:currentColor;border:1px solid currentColor;border-radius:0 1em 0 0;opacity:.5;overflow:hidden;box-shadow:inset 1.3em -1.91em #ddd}.ol-ext-print-dialog .ol-orientation .landscape span:before{width:2.6em;height:2em;margin:.2em 0;box-shadow:inset 1.91em -1.3em #ddd}.ol-ext-print-dialog .ol-orientation input:checked+span{opacity:1;box-shadow:0 0 .2em #00000080}.ol-ext-print-dialog .ol-ext-toggle-switch span{position:absolute;right:-2em;top:50%;transform:translateY(-50%)}.ol-print-title input[type=text]{margin-top:.5em;width:calc(100% - 6em);margin-left:6em}.ol-ext-print-dialog .ol-size option:first-child{font-style:italic}.ol-ext-print-dialog .ol-saveas,.ol-ext-print-dialog .ol-savelegend{text-align:center}.ol-ext-print-dialog .ol-saveas select,.ol-ext-print-dialog .ol-savelegend select{background-color:#003c88b3;color:#fff;padding:.5em;margin:1em 0 0;font-size:1em;border:0;font-weight:700;max-width:12em}.ol-ext-print-dialog .ol-saveas select option,.ol-ext-print-dialog .ol-savelegend select option{background-color:#fff;color:#666}.ol-ext-print-dialog .ol-savelegend select{margin-top:0}.ol-ext-print-dialog .ol-ext-buttons{text-align:right;border-top:1px solid #ccc;padding:.8em .5em;margin:0 -1em}.ol-ext-print-dialog button{font-size:1em;margin:0 .2em;border:1px solid #999;background:none;padding:.3em 1em;color:#333}.ol-ext-print-dialog button[type=submit]{background-color:#003c88b3;color:#fff;font-weight:700}.ol-ext-print-dialog .ol-clipboard-copy{position:absolute;pointer-events:none;top:0;background-color:#00000080;color:#fff;padding:.5em 1em;border-radius:1em;left:50%;transform:translate(-50%);width:-moz-fit-content;width:fit-content;transition:0s;opacity:0}.ol-ext-print-dialog .ol-clipboard-copy.visible{animation:1s ol-clipboard-copy}.ol-ext-print-dialog .ol-print-map .ol-control.ol-canvas-control,.ol-ext-print-dialog .ol-print-map .ol-control.ol-print-compass{display:block!important}.ol-ext-print-dialog .ol-print-map .ol-control.olext-print-compass{top:0;right:0;width:60px;height:60px;margin:20px}@keyframes ol-clipboard-copy{0%{opacity:0;top:0}80%{opacity:1;top:-3em}to{opacity:0;top:-3em}}@media print{body.ol-print-document{margin:0!important;padding:0!important}body.ol-print-document>*{display:none!important}body.ol-print-document>.ol-ext-print-dialog{display:block!important}body.ol-print-document>.ol-ext-print-dialog .ol-content{max-height:unset!important;max-width:unset!important;width:unset!important;height:unset!important}.ol-ext-print-dialog>form,.ol-ext-print-dialog{position:unset;box-shadow:none;background:none!important;border:0}.ol-ext-print-dialog>form>*,.ol-ext-print-dialog .ol-print-param{display:none!important;background:none}.ol-ext-print-dialog .ol-content{display:block!important;border:0;background:none}.ol-ext-print-dialog .ol-print-map{position:unset;background:none;width:auto;overflow:visible}.ol-ext-print-dialog .ol-print-map .ol-page{transform:none!important;box-shadow:none!important;position:unset}}@media (max-width: 25em){.ol-ext-print-dialog .ol-print-param{width:13em}.ol-ext-print-dialog .ol-print-map{width:calc(100% - 13em)}.ol-ext-print-dialog .ol-print-param .ol-print-title input[type=text]{width:100%;margin:0}}.ol-profil{position:relative;-webkit-user-select:none;user-select:none}.ol-control.ol-profil{position:absolute;top:.5em;right:3em;text-align:right;overflow:hidden}.ol-profil .ol-zoom-out{position:absolute;top:10px;right:10px;width:1em;height:1em;padding:0;border:1px solid #000;border-radius:2px;cursor:pointer}.ol-profil .ol-zoom-out:before{content:"";height:2px;width:60%;background:currentColor;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.ol-profil .ol-inner{position:relative;padding:.5em;font-size:.8em}.ol-control.ol-profil .ol-inner{display:block;background-color:#ffffffb3;margin:2.3em 2px 2px}.ol-control.ol-profil.ol-collapsed .ol-inner{display:none}.ol-profil canvas{display:block}.ol-profil button{display:block;position:absolute;right:0;overflow:hidden}.ol-profil button i{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:1em;height:1em;overflow:hidden}.ol-profil button i:before,.ol-profil button i:after{content:"";position:absolute;display:block;background-color:currentColor;width:1em;height:.9em;transform:scaleX(.8) translate(-.25em,.5em) rotate(45deg)}.ol-profil button i:after{transform:scaleX(.8) translate(.35em,.7em) rotate(45deg)}.ol-profil.ol-collapsed button{position:static}.ol-profil .ol-profilbar,.ol-profil .ol-profilcursor{position:absolute;pointer-events:none;width:1px;display:none}.ol-profil .ol-profilcursor{width:0;height:0}.ol-profil .ol-profilcursor:before{content:"";pointer-events:none;display:block;margin:-2px;width:5px;height:5px}.ol-profil .ol-profilbar,.ol-profil .ol-profilcursor:before{background:red}.ol-profil table{text-align:center;width:100%}.ol-profil table span{display:block}.ol-profilpopup{background-color:#ffffff80;margin:.5em;padding:0 .5em;position:absolute;top:-1em;white-space:nowrap}.ol-profilpopup.ol-left{right:0}.ol-profil table td{padding:0 2px}.ol-profil table .track-info{display:table-row}.ol-profil table .point-info,.ol-profil .over table .track-info{display:none}.ol-profil .over table .point-info{display:table-row}.ol-profil p{text-align:center;margin:0}.ol-control.ol-progress-bar{position:absolute;inset:0;padding:0;pointer-events:none!important;background-color:transparent}.ol-control.ol-progress-bar>.ol-bar{position:absolute;background-color:#003c8880;left:0;bottom:0;height:.5em;width:0;transition:width .2s;box-sizing:border-box}.ol-progress-bar>.ol-waiting{display:none}.ol-viewport .ol-control.ol-progress-bar>.ol-waiting{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:2em;display:block;animation:1s linear infinite ol-progress-bar-blink}@keyframes ol-progress-bar-blink{0%,30%{visibility:hidden}to{visibility:visible}}.ol-control.ol-routing{top:.5em;left:3em;max-height:90%;overflow-y:auto}.ol-touch .ol-control.ol-routing{left:3.5em}.ol-control.ol-routing.ol-searching{opacity:.5}.ol-control.ol-routing .ol-car,.ol-control.ol-routing>button{position:relative}.ol-control.ol-routing .ol-car:after,.ol-control.ol-routing>button:after{content:"";position:absolute;width:.78em;height:.6em;border-radius:40% 50% 0 0/50% 70% 0 0;box-shadow:inset 0 0 0 .065em,-.35em .14em 0 -.09em,inset 0 -.37em,inset -.14em .005em;clip:rect(0 1em .5em -1em);top:.35em;left:.4em}.ol-control.ol-routing .ol-car:before,.ol-control.ol-routing>button:before{content:"";position:absolute;width:.28em;height:.28em;border-radius:50%;box-shadow:inset 0 0 0 1em,.65em 0;top:.73em;left:.2em}.ol-control.ol-routing .ol-pedestrian:after{content:"";position:absolute;width:.3em;height:.4em;top:.25em;left:50%;transform:translate(-50%);box-shadow:inset .3em 0,.1em .5em 0 -.1em,-.1em .5em 0 -.1em,.25em .1em 0 -.1em,-.25em .1em 0 -.1em;border-top:.2em solid transparent}.ol-control.ol-routing .ol-pedestrian:before{content:"";position:absolute;width:.3em;height:.3em;top:.1em;left:50%;transform:translate(-50%);border-radius:50%;background-color:currentColor}.ol-control.ol-routing .content{margin:.5em}.ol-control.ol-routing.ol-collapsed .content,.ol-routing .ol-search.ol-collapsed ul,.ol-routing .ol-search ul .copy{display:none}.ol-routing .content .search-input>div>*{display:inline-block;vertical-align:top}.ol-routing .ol-result ul{list-style:none;display:block}.ol-routing .ol-result li{position:relative;min-height:1.65em}.ol-routing .ol-result li i{display:block;font-size:.8em;font-weight:700}.ol-routing .ol-result li:before{content:"";border:5px solid transparent;position:absolute;left:-1.75em;border-bottom-color:#369;border-width:.6em .4em .6em;transform-origin:50% 125%;box-shadow:0 .65em 0 -.25em #369;top:-.8em}.ol-routing .ol-result li:after{content:"";position:absolute;width:.3em;height:.6em;left:-1.5em;background:#369;top:.6em}.ol-routing .ol-result li.R:before{transform:rotate(90deg)}.ol-routing .ol-result li.FR:before{transform:rotate(45deg)}.ol-routing .ol-result li.L:before{transform:rotate(-90deg)}.ol-routing .ol-result li.FL:before{transform:rotate(-45deg)}.ol-routing .content>i{vertical-align:middle;margin:0 .3em 0 .1em;font-style:normal}.ol-routing .ol-button,.ol-routing .ol-button:focus,.ol-routing .ol-pedestrian,.ol-routing .ol-car{font-size:1.1em;position:relative;display:inline-block;width:1.4em;height:1.4em;color:#003c88;background-color:transparent;margin:0 .1em;opacity:.5;vertical-align:middle;outline:none;cursor:pointer}.ol-routing .ol-button:hover,.ol-routing .ol-button.selected,.ol-routing i.selected{opacity:1;background:transparent}.ol-control.ol-routing{background-color:#ffffff40}.ol-control.ol-routing:hover{background-color:#ffffffbf}.search-input>div>button:before{content:"\\b1"}.ol-viewport .ol-scale{left:.5em;bottom:2.5em;text-align:center;-webkit-transform:scaleX(.8);-webkit-transform-origin:0 0;transform:scaleX(.8);transform-origin:0 0;background-color:#ffffffbf}.ol-viewport .ol-scale input{background:none;border:0;width:8em;text-align:center}.ol-search{top:.5em;left:3em}.ol-touch .ol-search{left:3.5em}.ol-search button{top:2px;left:2px;float:left}.ol-control.ol-search>button:before{content:"";position:absolute;box-sizing:border-box;width:.7em;height:.7em;background-color:transparent;border:.12em solid currentColor;border-radius:100%;top:.35em;left:.35em}.ol-control.ol-search>button:after{content:"";position:absolute;top:1.1em;left:.95em;width:.45em;height:.15em;background-color:currentColor;border-radius:.05em;transform:rotate(45deg);box-shadow:-.18em 0 0 -.03em}.ol-search button.ol-revers{float:none;background-image:none;display:inline-block;vertical-align:bottom;position:relative;top:0;left:0}.ol-search.ol-revers button.ol-revers{background-color:#00883c80}.ol-control.ol-search.ol-collapsed button.ol-revers{display:none}.ol-search button.ol-revers:before{content:"";border:.1em solid currentColor;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;width:.55em;height:.55em;box-sizing:border-box}.ol-search button.ol-revers:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:.2em;height:.2em;background-color:transparent;box-shadow:.35em 0 currentColor,0 .35em currentColor,-.35em 0 currentColor,0 -.35em currentColor}.ol-search input{display:inline-block;border:0;margin:1px 1px 1px 2px;font-size:1.14em;padding-left:.3em;height:1.375em;box-sizing:border-box;transition:all .1s}.ol-touch .ol-search input,.ol-touch .ol-search ul{font-size:1.5em}.ol-search.ol-revers>ul,.ol-control.ol-search.ol-collapsed>*{display:none}.ol-control.ol-search.ol-collapsed>button{display:block}.ol-search ul{list-style:none;padding:0;margin:0;display:block;clear:both;cursor:pointer;max-width:17em;overflow-x:hidden;z-index:1;background:#fff}.ol-search ul li{padding:.1em .5em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ol-search ul li.select,.ol-search ul li:hover{background-color:#003c8880;color:#fff}.ol-search ul li img{float:left;max-height:2em}.ol-search li.copy{background:rgba(0,0,0,.5);color:#fff}.ol-search li.copy a{color:#fff;text-decoration:none}.ol-search.searching:before{content:"";position:absolute;height:3px;left:0;top:1.6em;animation:pulse .5s infinite alternate linear;background:red;z-index:2}@keyframes pulse{0%{left:0;right:95%}50%{left:30%;right:30%}to{left:95%;right:0}}.ol-search.IGNF-parcelle input{width:13.5em}.ol-search.IGNF-parcelle input:read-only{background:#ccc;opacity:.8}.ol-search.IGNF-parcelle.ol-collapsed-list>ul.autocomplete{display:none}.ol-search.IGNF-parcelle label{display:block;clear:both}.ol-search.IGNF-parcelle>div input,.ol-search.IGNF-parcelle>div label{width:5em;box-sizing:border-box;display:inline-block;margin:.1em;font-size:1em}.ol-search.IGNF-parcelle ul.autocomplete-page{margin-top:.5em;width:100%;text-align:center;display:none}.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-parcelle,.ol-search.IGNF-parcelle.ol-collapsed-list ul.autocomplete-page{display:block}.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-page,.ol-search.IGNF-parcelle.ol-collapsed ul.autocomplete-parcelle,.ol-search.IGNF-parcelle ul.autocomplete-parcelle{display:none}.ol-search.IGNF-parcelle ul.autocomplete-page li{display:inline-block;color:#fff;background:rgba(0,60,136,.5);border-radius:50%;width:1.3em;height:1.3em;padding:.1em;margin:0 .1em}.ol-search.IGNF-parcelle ul.autocomplete-page li.selected{background:rgba(0,60,136,1)}.ol-searchgps input.search{display:none}.ol-control.ol-searchgps>button:first-child{background-image:none}.ol-control.ol-searchgps>button:first-child:before{content:"x/y";position:unset;display:block;transform:scaleX(.8);border:unset;border-radius:0;width:auto;height:auto}.ol-control.ol-searchgps>button:first-child:after{content:unset}.ol-control.ol-searchgps .ol-latitude,.ol-control.ol-searchgps .ol-longitude{clear:both}.ol-control.ol-searchgps .ol-latitude label,.ol-control.ol-searchgps .ol-longitude label{width:5.5em;display:inline-block;text-align:right;transform:scaleX(.8);margin:0 -.8em 0 0;transform-origin:0 0}.ol-control.ol-searchgps .ol-latitude input,.ol-control.ol-searchgps .ol-longitude input{max-width:10em}.ol-control.ol-searchgps .ol-ext-toggle-switch{cursor:pointer;float:right;margin:.5em;font-size:.9em}.ol-searchgps .ol-decimal{display:inline-block;margin-right:.7em}.ol-searchgps .ol-dms,.ol-searchgps.ol-dms .ol-decimal{display:none;width:3em;text-align:right}.ol-searchgps.ol-dms .ol-dms{display:inline-block}.ol-searchgps span.ol-dms{width:.5em;text-align:left}.ol-searchgps.ol-control.ol-collapsed button.ol-geoloc{display:none}.ol-searchgps button.ol-geoloc{top:0;float:right;margin-right:3px;background-image:none;position:relative}.ol-searchgps button.ol-geoloc:before{content:"";position:absolute;left:50%;top:50%;width:.6em;height:.6em;border:.1em solid currentColor;border-radius:50%;transform:translate(-50%,-50%)}.ol-searchgps button.ol-geoloc:after{content:"";position:absolute;left:50%;top:50%;width:.2em;height:.2em;background-color:transparent;transform:translate(-50%,-50%);box-shadow:.45em 0 currentColor,-.45em 0 currentColor,0 -.45em currentColor,0 .45em currentColor,.25em 0 currentColor,-.25em 0 currentColor,0 -.25em currentColor,0 .25em currentColor}.ol-control.ol-select{top:.5em;left:3em;background-color:#ffffff80}.ol-control.ol-select:hover{background-color:#ffffffb3}.ol-touch .ol-control.ol-select{left:3.5em}.ol-control.ol-select>button:before{content:"A";font-size:.6em;font-weight:400;position:absolute;box-sizing:content-box;width:1em;height:1em;background-color:transparent;border:.2em solid currentColor;border-radius:100%;top:.5em;left:.5em;line-height:1em;text-align:center}.ol-control.ol-select>button:after{content:"";position:absolute;top:1.15em;left:1em;width:.45em;height:.15em;background-color:currentColor;border-radius:.05em;transform:rotate(45deg);box-shadow:-.18em 0 0 -.03em}.ol-select>div button{width:auto;padding:0 .5em;float:right;font-weight:400;height:1.2em;line-height:1.2em}.ol-select .ol-delete{width:1.5em;height:1em;vertical-align:middle;display:inline-block;position:relative;cursor:pointer}.ol-select .ol-delete:before{content:"\\d7";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;text-align:center;font-weight:700}.ol-control.ol-select input{font-size:1em}.ol-control.ol-select select{font-size:1em;max-width:10em}.ol-control.ol-select select option.ol-default{color:#999;font-style:italic}.ol-control.ol-select>div{display:block;margin:.25em}.ol-control.ol-select.ol-collapsed>div{display:none}.ol-control.ol-select.ol-select-check{max-width:20em}.ol-control.ol-select label.ol-ext-check{margin-right:1em}.ol-control.ol-select label.ol-ext-toggle-switch span{font-size:1.1em}.ol-select ul{list-style:none;margin:0;padding:0}.ol-control.ol-select input[type=search],.ol-control.ol-select input[type=text]{width:8em}.ol-select .ol-autocomplete{display:inline}.ol-select .ol-autocomplete ul{position:absolute;display:block;background:#fff;border:1px solid #999;min-width:10em;font-size:.85em}.ol-select .ol-autocomplete ul li{padding:0 .5em}.ol-select .ol-autocomplete ul li:hover{color:#fff;background:rgba(0,60,136,.5)}.ol-select ul.ol-hidden{display:none}.ol-select-multi li>div:hover,.ol-select-multi li>div.ol-control.ol-select{position:relative;top:unset;left:unset;background:transparent}.ol-select-multi li>div>button,.ol-select-multi li>div .ol-ok{display:none}.ol-select-multi li .ol-control.ol-select.ol-collapsed>div,.ol-select-multi li>div>div{display:block}.ol-control.ol-status{top:0;left:0;background:rgba(0,0,0,.2);color:#fff;font-size:.9em;padding:.3em 3em;border-radius:0;width:100%;box-sizing:border-box;pointer-events:none!important;display:none}.ol-control.ol-status.ol-visible{display:initial}.ol-control.ol-status.ol-bottom{top:auto;bottom:0}.ol-control.ol-status.ol-left{top:0;bottom:0;padding:.3em .5em .3em 3em;width:auto}.ol-control.ol-status.ol-right{inset:0 0 0 auto;padding:.3em 3em .3em .5em;width:auto}.ol-control.ol-status.ol-center{top:50%;transform:translateY(-50%)}.ol-control.ol-storymap{top:.5em;left:.5em;bottom:.5em;max-width:35%;border-radius:.5em;position:absolute;height:auto;background-color:#ffffff80}.ol-storymap{overflow:hidden;padding:0;height:100%;position:relative}.ol-storymap>div{overflow:hidden;padding:0;height:100%;position:relative;scroll-behavior:smooth;-webkit-user-select:none;user-select:none}.ol-storymap>div.ol-move{scroll-behavior:unset}.ol-control.ol-storymap .chapter{position:relative;padding:.5em;overflow:hidden}.ol-control.ol-storymap .chapter:last-child{margin-bottom:100%}.ol-storymap .chapter{cursor:pointer;opacity:.4}.ol-storymap .chapter.ol-select{cursor:default;opacity:1;background-color:#fffc}.ol-storymap .ol-scroll-top,.ol-storymap .ol-scroll-next{position:relative;min-height:1.7em;color:#003c8880;text-align:center;cursor:pointer}.ol-storymap .ol-scroll-next span{padding-bottom:1.4em;display:block}.ol-storymap .ol-scroll-top span{padding-top:1.4em;display:block}.ol-storymap .ol-scroll-top:before,.ol-storymap .ol-scroll-next:before{content:"";border:.3em solid currentColor;border-radius:.3em;border-color:transparent currentColor currentColor transparent;width:.8em;height:.8em;display:block;position:absolute;left:50%;transform:translate(-50%) rotate(45deg);animation:ol-bounce-bottom .35s linear infinite alternate;pointer-events:none}.ol-storymap .ol-scroll-top:before{border-color:currentColor transparent transparent currentColor;animation:ol-bounce-top .35s linear infinite alternate}@keyframes ol-bounce-top{0%{top:-.2em}to{top:.5em}}@keyframes ol-bounce-bottom{0%{bottom:-.2em}to{bottom:.5em}}.ol-storymap img[data-title]{cursor:pointer}.ol-storymap.scrollLine,.ol-storymap.scrollBox{top:0;bottom:0;background-color:transparent;border-radius:0;max-width:40%}.ol-storymap.scrollLine .chapter,.ol-storymap.scrollBox .chapter{background-color:#fff;margin:100% 0}.ol-storymap.scrollLine .chapter:first-child,.ol-storymap.scrollBox .chapter:first-child{margin-top:3em}.ol-storymap.scrollLine .chapter.ol-select,.ol-storymap.scrollLine .chapter,.ol-storymap.scrollBox .chapter.ol-select,.ol-storymap.scrollBox .chapter{opacity:1}.ol-storymap.scrollLine .ol-scrolldiv,.ol-storymap.scrollBox .ol-scrolldiv{padding-right:30px}.ol-storymap.scrollLine:before,.ol-storymap.scrollBox:before{content:"";position:absolute;width:2px;height:100%;top:0;bottom:0;right:14px;background-color:#fff}.ol-storymap.scrollLine .ol-scroll,.ol-storymap.scrollBox .ol-scroll{display:block!important;padding:0;width:1px;opacity:1!important;right:15px;overflow:visible;transition:none}.ol-storymap.scrollLine .ol-scroll>div{background-color:transparent;overflow:visible;left:50%;transform:translate(-50%);box-shadow:unset}.ol-storymap.scrollLine .ol-scroll>div:before{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#0af;border:2px solid #fff;left:50%;top:50%;transform:translate(-50%,-50%)}.ol-storymap.scrollBox .ol-scroll>div{display:none}.ol-storymap.scrollBox .chapter:after{content:"";width:20px;height:20px;position:absolute;top:Min(30%,5em);right:-24.5px;box-shadow:0 0 0 2px #fff,inset 0 0 0 15px #0af;border-radius:50%;border:5px solid transparent;box-sizing:border-box;z-index:1}.ol-swipe{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);touch-action:none}.ol-swipe:before{content:"";position:absolute;top:-5000px;bottom:-5000px;left:50%;width:4px;background:#fff;z-index:-1;transform:translate(-2px)}.ol-swipe.horizontal:before{inset:50% -5000px auto;width:auto;height:4px}.ol-swipe,.ol-swipe button{cursor:ew-resize}.ol-swipe.horizontal,.ol-swipe.horizontal button{cursor:ns-resize}.ol-swipe:after,.ol-swipe button:before,.ol-swipe button:after{content:"";position:absolute;top:25%;bottom:25%;left:50%;width:2px;background:currentColor;transform:translate(-1px);-webkit-transform:translate(-1px,0)}.ol-swipe button:after{transform:translate(4px)}.ol-swipe button:before{transform:translate(-6px)}.ol-control.ol-timeline{bottom:0;left:0;right:0;transition:.3s;background-color:#fff6}.ol-control.ol-timeline.ol-collapsed{transform:translateY(100%)}.ol-timeline{overflow:hidden;padding:2px 0 0}.ol-timeline .ol-scroll{overflow:hidden;scroll-behavior:smooth;line-height:1em;height:6em;padding:0 50%}.ol-timeline .ol-scroll.ol-move{scroll-behavior:unset}.ol-timeline.ol-hasbutton .ol-scroll{margin-left:1.5em;padding:0 calc(50% - .75em)}.ol-timeline .ol-buttons{display:none;position:absolute;top:0;background:rgba(255,255,255,.5);width:1.5em;bottom:0;left:0;z-index:10}.ol-timeline.ol-hasbutton .ol-buttons{display:block}.ol-timeline .ol-buttons button{font-size:1em;margin:1px;position:relative}.ol-timeline .ol-buttons .ol-zoom-in:before,.ol-timeline .ol-buttons .ol-zoom-out:before{content:"+";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-timeline .ol-buttons .ol-zoom-out:before{content:"\\2212"}.ol-timeline .ol-scroll>div{height:100%;position:relative}.ol-timeline .ol-scroll .ol-times{background:rgba(255,255,255,.5);height:1em;bottom:0;position:absolute;left:-1000px;right:-1000px}.ol-timeline .ol-scroll .ol-time{position:absolute;font-size:.7em;color:#999;bottom:0;transform:translate(-50%)}.ol-timeline .ol-scroll .ol-time.ol-year{color:#666;z-index:1}.ol-timeline .ol-scroll .ol-time:before{content:"";position:absolute;bottom:1.2em;left:50%;height:500px;border-left:1px solid currentColor}.ol-timeline .ol-scroll .ol-features{position:absolute;inset:0 -1000px 1em -200px;margin:0 0 0 200px;overflow:hidden}.ol-timeline .ol-scroll .ol-feature{position:absolute;font-size:.7em;color:#999;top:0;background:#fff;max-width:3em;max-height:2.4em;min-height:1em;line-height:1.2em;border:1px solid #ccc;overflow:hidden;padding:0 .5em 0 0;transition:all .3s;cursor:pointer;box-sizing:border-box}.ol-timeline.ol-zoomhover .ol-scroll .ol-feature:hover,.ol-timeline.ol-zoomhover .ol-scroll .ol-feature.ol-select{z-index:1;transform:scale(1.2);background:#eee}.ol-timeline .ol-center-date{display:none;position:absolute;left:50%;height:100%;width:2px;bottom:0;z-index:2;pointer-events:none;transform:translate(-50%);background-color:red;opacity:.4}.ol-timeline.ol-hasbutton .ol-center-date{left:calc(50% + .75em)}.ol-timeline.ol-pointer .ol-center-date{display:block}.ol-timeline.ol-pointer .ol-center-date:before,.ol-timeline.ol-pointer .ol-center-date:after{content:"";border:.3em solid transparent;border-width:.3em .25em;position:absolute;left:50%;transform:translate(-50%)}.ol-timeline.ol-pointer .ol-center-date:before{border-top-color:red;top:0}.ol-timeline.ol-pointer .ol-center-date:after{border-bottom-color:red;bottom:0}.ol-timeline.ol-interval .ol-center-date{display:block;background-color:transparent;border:0 solid #000;border-width:0 10000px;box-sizing:content-box;opacity:.2}.ol-control.ol-videorec{top:0;left:50%;transform:translate(-50%);white-space:nowrap}.ol-control.ol-videorec button{position:relative;display:inline-block;vertical-align:middle}.ol-control.ol-videorec button:before{content:"";position:absolute;top:50%;left:50%;width:.8em;height:.8em;transform:translate(-50%,-50%);background-color:currentColor}.ol-control.ol-videorec button.ol-start:before{width:.9em;height:.9em;border-radius:50%;background-color:#c00}.ol-control.ol-videorec button.ol-pause:before{width:.2em;background-color:transparent;box-shadow:-.2em 0,.2em 0}.ol-control.ol-videorec button.ol-resume:before{border-style:solid;background:transparent;width:auto;border-width:.4em 0 .4em .6em;border-color:transparent transparent transparent currentColor;box-sizing:border-box}.ol-control.ol-videorec button.ol-stop,.ol-control.ol-videorec button.ol-pause,.ol-control.ol-videorec button.ol-resume,.ol-control.ol-videorec[data-state=rec] .ol-start,.ol-control.ol-videorec[data-state=pause] .ol-start{display:none}.ol-control.ol-videorec[data-state=rec] .ol-stop,.ol-control.ol-videorec[data-state=pause] .ol-stop,.ol-control.ol-videorec[data-state=rec] .ol-pause,.ol-control.ol-videorec[data-state=pause] .ol-resume{display:inline-block}.ol-control.ol-wmscapabilities{top:.5em;right:2.5em}.ol-touch .ol-control.ol-wmscapabilities{right:3em}.ol-control.ol-wmscapabilities.ol-hidden{display:none}.ol-control.ol-wmscapabilities button:before{content:"+";position:absolute;top:calc(50% - .35em);left:50%;transform:translate(-50%,-50%)}.ol-control.ol-wmscapabilities button:after{content:"";width:.75em;height:.75em;position:absolute;background:transparent;top:calc(50% - .05em);left:50%;transform:scaleY(.6) translate(-50%,-50%) rotate(45deg);box-shadow:inset -.18em -.18em currentColor,-.4em .1em 0 -.25em currentColor,.1em -.35em 0 -.25em currentColor,.15em .15em currentColor;border-radius:.1em 0;border:.15em solid transparent;border-width:0 .15em .15em 0}.ol-wmscapabilities .ol-searching{opacity:.5}.ol-wmscapabilities .ol-searching .ol-url:after{content:"";width:.7em;height:.7em;background-color:currentColor;position:absolute;top:6em;border-radius:50%;display:block;left:calc(50% - .35em);box-shadow:0 1em currentColor,0 -1em currentColor,1em 0 currentColor,-1em 0 currentColor;animation:ol-wmscapabilities-rotate 2s linear infinite}@keyframes ol-wmscapabilities-rotate{to{transform:rotate(360deg)}}.ol-wmscapabilities .ol-url input{width:calc(100% - 10em);box-sizing:border-box;min-width:Min(100%,20em)}.ol-wmscapabilities .ol-url select{width:2em;height:100%;padding:1px}.ol-wmscapabilities .ol-url button{width:7.5em;margin-left:.5em}.ol-wmscapabilities .ol-result{display:none;margin-top:.5em}.ol-wmscapabilities .ol-result.ol-visible{display:block}.ol-wmscapabilities .ol-select-list{position:relative;border:1px solid #369;overflow-x:hidden;width:calc(100% - 120px);box-sizing:border-box;max-height:14.5em}.ol-wmscapabilities .ol-select-list div{padding:0 .5em;cursor:pointer;width:100%;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden}.ol-wmscapabilities .ol-select-list .level-1{padding-left:1em}.ol-wmscapabilities .ol-select-list .level-2{padding-left:1.5em}.ol-wmscapabilities .ol-select-list .level-3{padding-left:2em}.ol-wmscapabilities .ol-select-list .level-4{padding-left:2.5em}.ol-wmscapabilities .ol-select-list .level-5{padding-left:3em}.ol-wmscapabilities .ol-select-list .ol-info{font-style:italic}.ol-wmscapabilities .ol-select-list .ol-title{background-color:#003c881a}.ol-wmscapabilities .ol-select-list div:hover{background-color:#003c8880;color:#fff}.ol-wmscapabilities .ol-select-list div.selected{background-color:#003c88b3;color:#fff}.ol-wmscapabilities .ol-preview{width:100px;float:right;background:rgba(0,60,136,.1);color:#666;padding:0 5px 5px;text-align:center;margin-left:10px}.ol-wmscapabilities .ol-preview.tainted{width:100px;float:right;background:rgba(136,0,60,.1);color:#666;padding:0 5px 5px;text-align:center;margin-left:10px}.ol-wmscapabilities .ol-preview img{width:100%;display:block;background:#fff}.ol-wmscapabilities .ol-legend{max-width:100%;display:none}.ol-wmscapabilities .ol-legend.visible{display:block}.ol-wmscapabilities .ol-buttons{clear:both;text-align:right}.ol-wmscapabilities .ol-data p{margin:0}.ol-wmscapabilities .ol-data p.ol-title{font-weight:700;margin:1em 0 .5em}.ol-wmscapabilities .ol-error{color:#800}.ol-wmscapabilities ul.ol-wmsform{display:none;list-style:none;padding:0}.ol-wmscapabilities ul.ol-wmsform.visible{display:block}.ol-wmscapabilities .ol-wmsform label{display:inline-block;text-align:right;width:calc(40% - .5em);margin-right:.5em}.ol-wmscapabilities .ol-wmsform input{display:inline-block;width:60%;box-sizing:border-box}.ol-wmscapabilities .ol-wmsform input[type=checkbox]{width:auto}.ol-wmscapabilities .ol-wmsform button{float:right;margin:1em 0}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] input{width:calc(60% - 2em)}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button{position:relative;width:2em;height:1.6em;margin:0;vertical-align:middle;color:#444}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:before,.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:after{content:"";position:absolute;width:.25em;height:.9em;border:.1em solid currentColor;top:50%;left:50%;transform:translate(-50%,-50%) skewY(-15deg)}.ol-wmscapabilities ul.ol-wmsform li[data-param=extent] button:after{transform:translate(.4em) translate(-50%,-50%) skewY(15deg);box-shadow:-.8em .25em}.ol-ext-dialog.ol-wmscapabilities form{width:600px;min-height:15em;top:15%;transform:translate(-50%,-15%)}.ol-ext-dialog.ol-wmscapabilities .ol-content{max-height:calc(100vh - 6em)}.ol-ext-dialog.ol-wmtscapabilities [data-param=map],.ol-ext-dialog [data-param=style]{display:none}.ol-ext-dialog.ol-wmtscapabilities [data-param=style]{display:list-item}.ol-ext-dialog.ol-wmtscapabilities [data-param=proj],.ol-ext-dialog.ol-wmtscapabilities [data-param=version]{opacity:.6;pointer-events:none}.ol-ext-dialog.ol-wmscapabilities button.ol-wmsform{width:1.8em;text-align:center}.ol-ext-dialog.ol-wmscapabilities button.ol-wmsform:before{content:"+"}.ol-ext-dialog.ol-wmscapabilities .ol-form button.ol-wmsform:before{content:"-"}.ol-ext-dialog.ol-wmscapabilities .ol-form button.ol-load,.ol-ext-dialog.ol-wmscapabilities .ol-form .ol-legend{display:none}.ol-ext-dialog.ol-wmscapabilities .ol-form ul.ol-wmsform{display:block;clear:both}.ol-target-overlay .ol-target{border:1px solid transparent;box-shadow:0 0 1px 1px #fff;display:block;height:20px;width:0}.ol-target-overlay .ol-target:after,.ol-target-overlay .ol-target:before{content:"";border:1px solid #369;box-shadow:0 0 1px 1px #fff;display:block;width:20px;height:0;position:absolute;top:10px;left:-10px}.ol-target-overlay .ol-target:after{box-shadow:none;height:20px;width:0;top:0;left:0}.ol-overlaycontainer .ol-touch-cursor{width:56px;height:56px;margin:6px;border-radius:50%;cursor:pointer;background:rgba(255,255,255,.4);box-shadow:inset 0 0 0 5px #369}.ol-overlaycontainer .ol-touch-cursor:after{content:"";position:absolute;top:0;left:0;width:50%;height:50%;background:radial-gradient(circle at 100% 100%,transparent,transparent 70%,#369 70%,#369)}.ol-overlaycontainer .ol-touch-cursor .ol-button{position:absolute;color:#369;height:55%;width:55%;border-radius:50%;cursor:pointer;background:rgba(255,255,255,.4);box-shadow:inset 0 0 0 3px currentColor;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);transition:all .5s,opacity 0s,background 0s;overflow:hidden}.ol-overlaycontainer .ol-touch-cursor.active.disable .ol-button{opacity:.8;background:rgba(51,102,153,.2)}.ol-overlaycontainer .ol-touch-cursor.active .ol-button{transform:translate(-50%,-50%) scale(1)}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-0{top:-18%;left:118%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-1{top:50%;left:140%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-2{top:120%;left:120%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-3{top:140%;left:50%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-4{top:118%;left:-18%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-5{top:50%;left:-40%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-6{top:-18%;left:-18%}.ol-overlaycontainer .ol-touch-cursor.active .ol-button-7{top:-40%;left:50%}.ol-overlaycontainer .ol-touch-cursor .ol-button:before{content:"";width:1.5em;height:1em;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1em;text-align:center}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-add:before,.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-remove:before{content:"\\2212";line-height:.95em;font-size:1.375em;font-weight:700}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-add:before{content:"+"}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-x:before{content:"\\d7";font-size:1.2em;font-weight:700}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-move:before{content:"\\2725";font-size:1.2em}.ol-overlaycontainer .ol-touch-cursor .ol-button.ol-button-check:before{content:"\\2713";font-weight:700}.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-x,.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-remove,.ol-overlaycontainer .ol-touch-cursor.nodrawing .ol-button.ol-button-check{opacity:.8;background:rgba(51,102,153,.2)}.ol-overlaycontainer .ol-touch-cursor .ol-button>div{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-overlaycontainer .ol-touch-cursor .ol-button-type:before{content:"\\21ce";font-weight:700}.mapboxgl-canvas:focus{outline:none}.ol-perspective-map{position:absolute;left:50%;top:50%;width:200%;height:200%;transform:translate(-50%,-50%)}.ol-perspective-map .ol-layer{z-index:-1!important}.ol-perspective-map .ol-layers{transform:translateY(0) perspective(200px) rotateX(0) scaleY(1)}.ol-perspective-map .ol-overlaycontainer,.ol-perspective-map .ol-overlaycontainer-stopevent{width:50%!important;height:50%!important;top:50%;left:50%;transform:translate(-50%,-50%)}.ol-overlay-container .ol-magnify{background:rgba(0,0,0,.5);border:3px solid #369;border-radius:50%;height:150px;width:150px;overflow:hidden;box-shadow:5px 5px 5px #00000080;position:relative;z-index:0}.ol-overlay-container .ol-magnify:before{border-radius:50%;box-shadow:0 0 40px 2px #00000040 inset;content:"";display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ol-overlay-container .ol-magnify:after{border-radius:50%;box-shadow:0 0 20px 7px #fff;content:"";display:block;height:0;left:23%;position:absolute;top:20%;width:20%;z-index:1;transform:rotate(-40deg);-webkit-transform:rotate(-40deg)}.ol-popup.anim{visibility:hidden}.ol-popup.anim.visible{visibility:visible}.ol-popup.anim.visible>div{visibility:visible;transform:none;animation:ol-popup_bounce .4s ease 1}@keyframes ol-popup_bounce{0%{transform:scale(0)}50%{transform:scale(1.1)}80%{transform:scale(.95)}to{transform:scale(1)}}.ol-popup.anim.ol-popup-bottom.ol-popup-left>div{transform-origin:0 100%}.ol-popup.anim.ol-popup-bottom.ol-popup-right>div{transform-origin:100% 100%}.ol-popup.anim.ol-popup-bottom.ol-popup-center>div{transform-origin:50% 100%}.ol-popup.anim.ol-popup-top.ol-popup-left>div{transform-origin:0 0}.ol-popup.anim.ol-popup-top.ol-popup-right>div{transform-origin:100% 0}.ol-popup.anim.ol-popup-top.ol-popup-center>div{transform-origin:50% 0}.ol-popup.anim.ol-popup-middle.ol-popup-left>div{transform-origin:0 50%}.ol-popup.anim.ol-popup-middle.ol-popup-right>div{transform-origin:100% 50%}.ol-popup{font-size:.9em;-webkit-user-select:none;user-select:none}.ol-popup .ol-popup-content{overflow:hidden;cursor:default;padding:.25em .5em}.ol-popup.hasclosebox .ol-popup-content{margin-right:1.7em}.ol-popup .ol-popup-content:after{clear:both;content:"";display:block;font-size:0;height:0}.ol-popup .anchor{display:block;width:0px;height:0px;background:red;position:absolute;margin:-11px 22px;pointer-events:none}.ol-popup .anchor:after,.ol-popup .anchor:before{position:absolute}.ol-popup-right .anchor:after,.ol-popup-right .anchor:before{right:0}.ol-popup-top .anchor{top:0}.ol-popup-bottom .anchor{bottom:0}.ol-popup-right .anchor{right:0}.ol-popup-left .anchor{left:0}.ol-popup-center .anchor{left:50%;margin-left:0!important}.ol-popup-middle .anchor{top:50%;margin-top:0!important}.ol-popup-center.ol-popup-middle .anchor{display:none}.ol-popup.ol-fixed{margin:0!important;inset:.5em .5em auto auto!important;transform:none!important}.ol-popup.ol-fixed .anchor{display:none}.ol-popup.ol-fixed.anim>div{animation:none}.ol-popup .ol-fix{width:1em;height:.9em;background:#fff;position:relative;float:right;margin:.2em;cursor:pointer}.ol-popup .ol-fix:before{content:"";width:.8em;height:.7em;display:block;border:.1em solid #666;border-right-width:.1em;border-right-width:.3em;box-sizing:border-box;margin:.1em}.ol-popup.shadow{box-shadow:2px 2px 2px 2px #00000080}.ol-popup .closeBox{background-color:#003c8880;color:#fff;border:0;border-radius:2px;cursor:pointer;float:right;font-size:.9em;font-weight:700;width:1.4em;height:1.4em;margin:5px 5px 0 0;padding:0;position:relative;display:none}.ol-popup.hasclosebox .closeBox{display:block}.ol-popup .closeBox:hover{background-color:#003c88b3}.ol-popup .closeBox:after{content:"\\d7";font-size:1.5em;top:50%;left:0;right:0;width:100%;text-align:center;line-height:1em;margin:-.5em 0;position:absolute}.ol-popup.modifytouch{background-color:#eee}.ol-popup.modifytouch .ol-popup-content{padding:0 .25em;font-size:.85em;white-space:nowrap}.ol-popup.modifytouch .ol-popup-content a{text-decoration:none}.ol-popup.tooltips{background-color:#ffa}.ol-popup.tooltips .ol-popup-content{padding:0 .25em;font-size:.85em;white-space:nowrap}.ol-popup.default>div{background-color:#fff;border:1px solid #69f;border-radius:5px}.ol-popup.default{margin:-11px 0;transform:translateY(-22px)}.ol-popup-top.ol-popup.default{margin:11px 0;transform:none}.ol-popup-left.default{margin:-11px -22px;transform:translateY(-22px)}.ol-popup-top.ol-popup-left.default{margin:11px -22px;transform:none}.ol-popup-right.default{margin:-11px 22px;transform:translate(44px,-22px)}.ol-popup-top.ol-popup-right.default{margin:11px 22px;transform:translate(44px)}.ol-popup-middle.default{margin:0 10px;transform:none}.ol-popup-middle.ol-popup-right.default{margin:0 -10px;transform:translate(-20px)}.ol-popup.default .anchor{color:#69f}.ol-popup.default .anchor:after,.ol-popup.default .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:11px;margin:0 -11px}.ol-popup.default .anchor:after{border-color:#fff transparent;border-width:11px;margin:2px -11px}.ol-popup-top.default .anchor:before,.ol-popup-top.default .anchor:after{border-top:0;top:0}.ol-popup-bottom.default .anchor:before,.ol-popup-bottom.default .anchor:after{border-bottom:0;bottom:0}.ol-popup-middle.default .anchor:before{margin:-11px -33px;border-color:transparent currentColor}.ol-popup-middle.default .anchor:after{margin:-11px -31px;border-color:transparent #fff}.ol-popup-middle.ol-popup-left.default .anchor:before,.ol-popup-middle.ol-popup-left.default .anchor:after{border-left:0}.ol-popup-middle.ol-popup-right.default .anchor:before,.ol-popup-middle.ol-popup-right.default .anchor:after{border-right:0}.ol-popup.placemark{color:#c00;margin:-.65em 0;transform:translateY(-1.3em)}.ol-popup.placemark>div{position:relative;font-size:15px;background-color:#fff;border:0;box-shadow:inset 0 0 0 .45em;width:2em;height:2em;border-radius:50%;min-width:unset;box-sizing:border-box}.ol-popup.placemark .ol-popup-content{overflow:hidden;cursor:default;text-align:center;padding:.25em 0;width:1em;height:1em;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1em}.ol-popup.placemark .anchor{margin:0}.ol-popup.placemark .anchor:before{content:"";margin:-.5em;background:transparent;width:1em;height:.5em;border-radius:50%;box-shadow:0 1em .5em #00000080}.ol-popup.placemark .anchor:after{content:"";border-color:currentColor transparent;border-style:solid;border-width:1em .7em 0;margin:-.75em -.7em;bottom:0}.ol-popup.placemark.shield>div{border-radius:.2em}.ol-popup.placemark.shield .anchor:after{border-width:.8em 1em 0;margin:-.7em -1em}.ol-popup.placemark.blazon>div{border-radius:.2em}.ol-popup.placemark.pushpin{margin:-2.2em 0;transform:translateY(-4em)}.ol-popup.placemark.pushpin>div{border-radius:0;background:transparent!important;box-shadow:inset 2em 0 currentColor;width:1.1em}.ol-popup.placemark.pushpin>div:before{content:"";width:1.3em;height:1.5em;border-style:solid;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-color:currentColor transparent;border-width:.3em .5em .5em;pointer-events:none}.ol-popup.placemark.needle{margin:-2em 0;transform:translateY(-4em)}.ol-popup.placemark.pushpin .anchor,.ol-popup.placemark.needle .anchor{margin:-1.2em}.ol-popup.placemark.pushpin .anchor:after,.ol-popup.placemark.needle .anchor:after{border-style:solid;border-width:2em .15em 0;margin:-.55em -.2em;width:.1em}.ol-popup.placemark.pushpin .anchor:before,.ol-popup.placemark.needle .anchor:before{margin:-.75em -.5em}.ol-popup.placemark.flagv{margin:-2em 1em;transform:translateY(-4em)}.ol-popup.placemark.flagv>div{border-radius:0;box-shadow:none;background-color:transparent}.ol-popup.placemark.flagv>div:before{content:"";border:1em solid transparent;position:absolute;border-left:2em solid currentColor;pointer-events:none}.ol-popup.placemark.flagv .anchor{margin:-1.4em}.ol-popup.placemark.flag{margin:-2em 1em;transform:translateY(-4em)}.ol-popup.placemark.flag>div{border-radius:0;transform-origin:0% 150%!important}.ol-popup.placemark.flag .anchor{margin:-1.4em}.ol-popup.placemark.flagv .anchor:after,.ol-popup.placemark.flag .anchor:after{border-style:solid;border-width:2em .15em 0;margin:-.55em -1em;width:.1em}.ol-popup.placemark.flagv .anchor:before,.ol-popup.placemark.flag .anchor:before{margin:-.75em -1.25em}.ol-popup.placemark.flag.finish{margin:-2em 1em}.ol-popup.placemark.flag.finish>div{background-image:linear-gradient(45deg,currentColor 25%,transparent 25%,transparent 75%,currentColor 75%,currentColor),linear-gradient(45deg,currentColor 25%,transparent 25%,transparent 75%,currentColor 75%,currentColor);background-size:1em 1em;background-position:.5em 0,0 .5em;box-shadow:inset 0 0 0 .25em}.ol-popup.black .closeBox{background-color:#00000080;border-radius:5px;color:#f80}.ol-popup.black .closeBox:hover{background-color:#000000b3;color:#da2}.ol-popup.black{margin:-20px 0;transform:translateY(-40px)}.ol-popup.black>div{background-color:#0009;border-radius:5px;color:#fff}.ol-popup-top.ol-popup.black{margin:20px 0;transform:none}.ol-popup-left.black{margin:-20px -22px;transform:translateY(-40px)}.ol-popup-top.ol-popup-left.black{margin:20px -22px;transform:none}.ol-popup-right.black{margin:-20px 22px;transform:translate(44px,-40px)}.ol-popup-top.ol-popup-right.black{margin:20px 22px;transform:translate(44px)}.ol-popup-middle.black{margin:0 11px;transform:none}.ol-popup-left.ol-popup-middle.black{transform:none}.ol-popup-right.ol-popup-middle.black{margin:0 -11px;transform:translate(-22px)}.ol-popup.black .anchor{margin:-20px 11px;color:#0009}.ol-popup.black .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:20px 11px}.ol-popup-top.black .anchor:before{border-top:0;top:0}.ol-popup-bottom.black .anchor:before{border-bottom:0;bottom:0}.ol-popup-middle.black .anchor:before{margin:-20px -22px;border-color:transparent currentColor}.ol-popup-middle.ol-popup-left.black .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.black .anchor:before{border-right:0}.ol-popup-center.black .anchor:before{margin:0 -10px}.ol-popup.tips .closeBox{background-color:red;border-radius:50%;color:#fff;width:1.2em;height:1.2em}.ol-popup.tips .closeBox:hover{background-color:#f40}.ol-popup.tips{margin:-20px 0;transform:translateY(-40px)}.ol-popup.tips>div{background-color:#cea;border:5px solid #ad7;border-radius:5px;color:#333}.ol-popup-top.ol-popup.tips{margin:20px 0;transform:none}.ol-popup-left.tips{margin:-20px -22px;transform:translateY(-40px)}.ol-popup-top.ol-popup-left.tips{margin:20px -22px;transform:none}.ol-popup-right.tips{margin:-20px 22px;transform:translate(44px,-40px)}.ol-popup-top.ol-popup-right.tips{margin:20px 22px;transform:translate(44px)}.ol-popup-middle.tips{margin:0;transform:none}.ol-popup-left.ol-popup-middle.tips{margin:0 22px;transform:none}.ol-popup-right.ol-popup-middle.tips{margin:0 -22px;transform:translate(-44px)}.ol-popup.tips .anchor{margin:-18px 22px;color:#ad7}.ol-popup.tips .anchor:before{content:"";border-color:currentColor transparent;border-style:solid;border-width:20px 11px}.ol-popup-top.tips .anchor:before{border-top:0;top:0}.ol-popup-bottom.tips .anchor:before{border-bottom:0;bottom:0}.ol-popup-center.tips .anchor:before{border-width:20px 6px;margin:0 -6px}.ol-popup-left.tips .anchor:before{border-left:0;margin-left:0}.ol-popup-right.tips .anchor:before{border-right:0;margin-right:0}.ol-popup-middle.tips .anchor:before{margin:-6px -41px;border-color:transparent currentColor;border-width:6px 20px}.ol-popup-middle.ol-popup-left.tips .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.tips .anchor:before{border-right:0}.ol-popup.warning .closeBox{background-color:red;border-radius:50%;color:#fff;font-size:.83em}.ol-popup.warning .closeBox:hover{background-color:#f40}.ol-popup.warning{background-color:#fd0;border-radius:3px;border:4px dashed #f00;color:#900;margin:-28px 10px;transform:translateY(-56px)}.ol-popup-top.ol-popup.warning{margin:28px 10px;transform:none}.ol-popup-left.warning{margin:-28px -22px;transform:translateY(-56px)}.ol-popup-top.ol-popup-left.warning{margin:28px -22px;transform:none}.ol-popup-right.warning{margin:-28px 22px;transform:translate(44px,-56px)}.ol-popup-top.ol-popup-right.warning{margin:28px 22px;transform:translate(44px)}.ol-popup-middle.warning{margin:0;transform:none}.ol-popup-left.ol-popup-middle.warning{margin:0 22px;transform:none}.ol-popup-right.ol-popup-middle.warning{margin:0 -22px;transform:translate(-44px)}.ol-popup.warning .anchor{margin:-33px 7px}.ol-popup.warning .anchor:before{content:"";border-color:#f00 transparent;border-style:solid;border-width:30px 11px}.ol-popup-top.warning .anchor:before{border-top:0;top:0}.ol-popup-bottom.warning .anchor:before{border-bottom:0;bottom:0}.ol-popup-center.warning .anchor:before{margin:0 -21px}.ol-popup-middle.warning .anchor:before{margin:-10px -33px;border-color:transparent #f00;border-width:10px 22px}.ol-popup-middle.ol-popup-left.warning .anchor:before{border-left:0}.ol-popup-middle.ol-popup-right.warning .anchor:before{border-right:0}.ol-popup .ol-popupfeature table{width:100%}.ol-popup .ol-popupfeature table td{max-width:25em;overflow:hidden;text-overflow:ellipsis}.ol-popup .ol-popupfeature table td img{max-width:100px;max-height:100px}.ol-popup .ol-popupfeature tr:nth-child(2n+1){background-color:#eee}.ol-popup .ol-popupfeature .ol-zoombt{border:0;width:2em;height:2em;display:inline-block;color:#003c8880;position:relative;background:transparent;outline:none}.ol-popup .ol-popupfeature .ol-zoombt:before{content:"";position:absolute;box-sizing:border-box;width:1em;height:1em;background-color:transparent;border:.17em solid currentColor;border-radius:100%;top:.3em;left:.3em}.ol-popup .ol-popupfeature .ol-zoombt:after{content:"";position:absolute;box-sizing:border-box;top:1.35em;left:1.15em;border-width:.1em .3em;border-style:solid;border-radius:.03em;transform:rotate(45deg);box-shadow:-.2em 0 0 -.04em}.ol-popup .ol-popupfeature .ol-count{float:right;margin:.25em 0}.ol-popup .ol-popupfeature .ol-prev,.ol-popup .ol-popupfeature .ol-next{border-style:solid;border-color:transparent rgba(0,60,136,.5);border-width:.5em 0 .5em .5em;display:inline-block;vertical-align:bottom;margin:0 .5em;cursor:pointer}.ol-popup .ol-popupfeature .ol-prev{border-width:.5em .5em .5em 0}.ol-popup.tooltips.black{background-color:transparent}.ol-popup.tooltips.black>div{transform:scaleY(1.3);padding:.2em .5em;background-color:#00000080}.ol-popup-middle.tooltips.black .anchor:before{border-width:5px 10px;margin:-5px -21px}.ol-popup-center.ol-popup-middle,.ol-popup-top.ol-popup-left.ol-fixPopup,.ol-popup-top.ol-popup-right.ol-fixPopup,.ol-popup.ol-fixPopup{margin:0}.ol-miniscroll{position:relative}.ol-miniscroll:hover .ol-scroll{opacity:.5;transition:opacity 1s}.ol-miniscroll .ol-scroll{touch-action:none;position:absolute;right:0;width:9px;height:auto;max-height:100%;opacity:0;border-radius:9px;transition:opacity 1s .5s;overflow:hidden;z-index:1}.ol-miniscroll .ol-scroll>div{touch-action:none;position:absolute;top:0;right:0;width:9px;height:9px;box-shadow:inset 10px 0 currentColor;border-radius:9px/12px;border:2px solid transparent;box-sizing:border-box;cursor:pointer}.ol-miniscroll .ol-scroll.ol-100pc{opacity:0}.ol-viewport canvas.ol-fixedoverlay{position:absolute;top:0;left:0;width:100%;height:100%}.ol-ext-toggle-switch{cursor:pointer;position:relative}.ol-ext-toggle-switch input[type=radio],.ol-ext-toggle-switch input[type=checkbox]{display:none}.ol-ext-toggle-switch span{color:#003c8880;position:relative;cursor:pointer;background-color:#ccc;transition:.4s,background-color 0s,border-color 0s;width:1.6em;height:1em;display:inline-block;border-radius:1em;font-size:1.3em;vertical-align:middle;margin:-.15em .2em .15em}.ol-ext-toggle-switch span:before{position:absolute;content:"";height:1em;width:1em;left:0;top:50%;background-color:#fff;transition:.4s;border-radius:1em;display:block;transform:translateY(-50%);border:2px solid #ccc;box-sizing:border-box}.ol-ext-toggle-switch:hover span{background-color:#999}.ol-ext-toggle-switch:hover span:before{border-color:#999}.ol-ext-toggle-switch input:checked+span{background-color:currentColor}.ol-ext-toggle-switch input:checked+span:before{transform:translate(.6em,-50%);border-color:currentColor}.ol-ext-check{position:relative;display:inline-block}.ol-ext-check input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.ol-ext-check span{color:#003c8880;position:relative;display:inline-block;width:1em;height:1em;margin:-.1em .5em .1em;background-color:#ccc;vertical-align:middle}.ol-ext-check:hover span{background-color:#999}.ol-ext-checkbox input:checked~span{background-color:currentColor}.ol-ext-checkbox input:checked~span:before{content:"";position:absolute;width:.5em;height:.8em;top:50%;left:50%;transform:translateY(-.1em) translate(-50%,-50%) rotate(45deg);box-shadow:inset -.2em -.2em #fff}.ol-ext-radio span{width:1.1em;height:1.1em;border-radius:50%}.ol-ext-radio:hover input:checked~span{background-color:#ccc}.ol-ext-radio input:checked~span:before{content:"";position:absolute;width:50%;height:50%;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;background-color:currentColor}.ol-collection-list{margin:0;padding:0;list-style:none}.ol-collection-list li{position:relative;padding:0 2em 0 1em}.ol-collection-list li:hover{background-color:#003c8833}.ol-collection-list li.ol-select{background-color:#003c8880;color:#fff}.ol-collection-list li .ol-order{position:absolute;touch-action:none;right:0;top:50%;transform:translateY(-50%);width:2em;height:100%;cursor:n-resize}.ol-collection-list li .ol-order:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:18px;height:2px;background-color:currentColor;box-shadow:0 5px,0 -5px;border-radius:2px}.ol-ext-colorpicker.ol-popup{width:2em;height:1.5em;background-color:transparent;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 -1px,5px 4px}.ol-ext-colorpicker .ol-tabbar{background-color:#eee;border-bottom:1px solid #999;display:none}.ol-ext-colorpicker.ol-tab .ol-tabbar{display:block}.ol-ext-colorpicker .ol-tabbar>div{display:inline-block;background-color:#fff;padding:0 .5em;border:1px solid #999;border-radius:2px 2px 0 0;position:relative;top:1px;cursor:pointer}.ol-ext-colorpicker .ol-tabbar>div:nth-child(1){border-bottom-color:#fff}.ol-ext-colorpicker.ol-picker-tab .ol-tabbar>div:nth-child(1){border-bottom-color:#999}.ol-ext-colorpicker.ol-picker-tab .ol-tabbar>div:nth-child(2){border-bottom-color:#fff}.ol-ext-colorpicker.ol-popup.ol-tab .ol-popup{width:180px}.ol-ext-colorpicker.ol-tab .ol-palette{margin:0 10px}.ol-ext-colorpicker.ol-tab .ol-container{display:none}.ol-ext-colorpicker.ol-tab.ol-picker-tab .ol-container{display:block}.ol-ext-colorpicker.ol-tab.ol-picker-tab .ol-palette{display:none}.ol-ext-colorpicker.ol-popup .ol-popup{width:340px}.ol-ext-colorpicker.ol-popup .ol-vignet{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border:0;background-color:currentColor;pointer-events:none}.ol-ext-colorpicker .ol-container{position:relative;display:inline-block;vertical-align:top}.ol-ext-colorpicker .ol-cursor{pointer-events:none}.ol-ext-colorpicker .ol-picker{position:relative;cursor:crosshair;width:150px;height:150px;border:5px solid #fff;background-color:currentColor;background-image:linear-gradient(0,#000,transparent),linear-gradient(90deg,#fff,transparent)}.ol-ext-colorpicker .ol-picker .ol-cursor{position:absolute;left:50%;top:50%;border:1px solid rgba(0,0,0,.7);box-shadow:0 0 0 1px #ffffffb3;transform:translate(-50%,-50%);width:10px;height:10px;border-radius:50%}.ol-ext-colorpicker .ol-slider{position:relative;cursor:crosshair;background-color:#fff;height:10px;width:150px;margin:5px 0 10px;border:5px solid #fff;border-width:0 5px;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 -1px,5px 4px}.ol-ext-colorpicker .ol-slider>div{width:100%;height:100%;background-image:linear-gradient(45deg,transparent,#fff);pointer-events:none}.ol-ext-colorpicker .ol-slider .ol-cursor{position:absolute;width:4px;height:12px;border:1px solid #000;top:50%;left:0;background:transparent;transform:translate(-50%,-50%)}.ol-ext-colorpicker .ol-tint{position:absolute;cursor:crosshair;width:10px;height:150px;border:5px solid #fff;border-width:5px 0;box-sizing:border;top:0;right:5px;background-image:linear-gradient(0,#f00,#f0f,#00f,#0ff,#0f0,#ff0,#f00)}.ol-ext-colorpicker .ol-tint .ol-cursor{position:absolute;top:0;left:50%;border:1px solid #000;height:4px;width:12px;transform:translate(-50%,-50%)}.ol-ext-colorpicker .ol-clear{position:absolute;border:2px solid #999;right:4px;top:163px;width:10px;height:10px}.ol-ext-colorpicker .ol-clear:before,.ol-ext-colorpicker .ol-clear:after{content:"";position:absolute;width:15px;height:2px;background-color:#999;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-colorpicker .ol-clear:after{transform:translate(-50%,-50%) rotate(-45deg)}.ol-ext-colorpicker.ol-nopacity .ol-slider,.ol-ext-colorpicker.ol-nopacity .ol-clear,.ol-ext-colorpicker.ol-nopacity .ol-alpha{display:none}.ol-ext-colorpicker .ol-rgb{position:relative;padding:5px;width:170px;display:none}.ol-ext-colorpicker .ol-rgb input{width:25%;box-sizing:border-box;padding:0 0 0 2px;border:1px solid #999;border-radius:2px;font-size:13px}.ol-ext-colorpicker .ol-rgb input:nth-child(1){background-color:#ff00001a}.ol-ext-colorpicker .ol-rgb input:nth-child(2){background-color:#00ff001a}.ol-ext-colorpicker .ol-rgb input:nth-child(3){background-color:#0000ff1f}.ol-ext-colorpicker button,.ol-ext-colorpicker .ol-txt-color{font-size:13px;margin:0 5px 5px;text-align:center;width:170px;box-sizing:border-box;padding:0;border:1px solid #999;border-radius:2px;display:block}.ol-ext-colorpicker button{background-color:#eee}.ol-ext-colorpicker button:hover{background-color:#e9e9e9}.ol-ext-colorpicker .ol-txt-color.ol-error{background-color:#f003}.ol-ext-colorpicker .ol-palette{padding:2px;display:inline-block;width:152px}.ol-ext-colorpicker .ol-palette>div{width:15px;height:15px;display:inline-block;background-image:linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%),linear-gradient(45deg,#aaa 25%,transparent 25%,transparent 75%,#aaa 75%);background-size:10px 10px;background-position:0 0,5px 5px;margin:2px;box-shadow:0 0 2px #666;border-radius:1px;cursor:pointer;position:relative}.ol-ext-colorpicker .ol-palette>div:before{content:"";position:absolute;background-color:currentColor;width:100%;height:100%}.ol-ext-colorpicker .ol-palette>div.ol-select:after{content:"";position:absolute;width:6px;height:12px;box-shadow:1px 1px #fff,2px 2px #000;top:30%;left:50%;transform:translate(-50%,-50%) rotate(45deg)}.ol-ext-colorpicker .ol-palette>div:hover{box-shadow:0 0 2px 1px #d90}.ol-ext-colorpicker .ol-palette hr{margin:0}.ol-input-popup{display:inline-block;position:relative}.ol-input-popup .ol-popup{position:absolute;box-shadow:1px 1px 3px 1px #999;background-color:#fff;z-index:1;display:none;left:-5px;padding:0;margin:0;list-style:none;white-space:nowrap}.ol-input-popup.ol-hover:hover .ol-popup,.ol-input-popup.ol-focus .ol-popup{display:block}.ol-input-popup.ol-right .ol-popup{left:auto;right:-5px}.ol-input-popup.ol-middle .ol-popup{top:50%;transform:translateY(-50%)}.ol-input-popup .ol-popup li{position:relative;padding:10px 5px}.ol-input-popup li:hover,.ol-input-popup li.ol-selected{background-color:#ccc}.ol-input-popup.ol-fixed:hover .ol-popup,.ol-input-popup.ol-fixed .ol-popup{position:relative;left:0;box-shadow:unset;background-color:transparent;display:inline-block;vertical-align:middle}.ol-input-popup.ol-fixed.ol-left .ol-popup{float:left}.ol-input-popup>div{position:relative;display:inline-block;vertical-align:middle;border-radius:2px;border:1px solid #999;padding:3px 20px 3px 10px}.ol-input-popup>div:before{position:absolute;content:"";right:5px;top:50%;border:5px solid transparent;border-top:5px solid #999}.ol-ext-popup-input{display:inline-block;vertical-align:top}.ol-ext-popup-input.ol-popup{position:relative;width:2em;height:1.5em;display:inline-block;border:3px solid #fff;border-right-width:1em;box-shadow:0 0 2px 1px #666;border-radius:2px;box-sizing:content-box;-webkit-user-select:none;user-select:none;vertical-align:middle}.ol-ext-popup-input.ol-popup:after{content:"";position:absolute;border:.5em solid #aaa;border-width:.5em .3em 0;border-color:#999 transparent;right:-.8em;top:50%;transform:translateY(-50%);pointer-events:none}.ol-ext-popup-input *{box-sizing:content-box}.ol-ext-popup-input.ol-popup .ol-popup{position:absolute;top:100%;min-width:3em;min-height:3em;left:0;box-shadow:1px 1px 3px 1px #999;display:block;background-color:#fff;display:none;z-index:1}.ol-ext-popup-input.ol-popup .ol-popup.ol-visible{display:block}.ol-ext-popup-input.ol-popup-fixed .ol-popup{position:fixed;top:auto;left:auto}.ol-input-popup.ol-size li{display:table-cell;height:100%;padding:5px;vertical-align:middle}.ol-input-popup.ol-size li>*{background-color:#369;border-radius:50%;vertical-align:middle;width:1em;height:1em}.ol-input-popup.ol-size li>.ol-option-0{position:relative;width:1em;height:1em;border:2px solid currentColor;color:#aaa;background-color:transparent;box-sizing:border-box}.ol-input-popup.ol-size li>*:before{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.ol-input-popup.ol-size li>.ol-option-0:before{content:"";width:1em;height:2px;background-color:#aaa;transform:translate(-50%,-50%) rotate(-45deg)}.ol-input-slider{display:inline-block;position:relative}.ol-input-slider .ol-popup{position:absolute;box-shadow:1px 1px 3px 1px #999;background-color:#fff;z-index:1;display:none;left:-5px}.ol-input-slider.ol-right .ol-popup{left:auto;right:-5px}.ol-input-slider.ol-hover:hover .ol-popup,.ol-input-slider.ol-focus .ol-popup{display:block;white-space:nowrap}.ol-input-slider.ol-hover:hover .ol-popup>*,.ol-input-slider.ol-focus .ol-popup>*{display:inline-block;vertical-align:middle}.ol-input-slider.ol-hover:hover .ol-popup>.ol-before,.ol-input-slider.ol-focus .ol-popup>.ol-before{margin-left:10px}.ol-input-slider.ol-hover:hover .ol-popup>.ol-after,.ol-input-slider.ol-focus .ol-popup>.ol-after{margin-right:10px}.ol-input-slider .ol-slider{display:inline-block;vertical-align:middle;position:relative;width:100px;height:3px;border:0 solid transparent;border-width:10px 15px;box-shadow:inset 0 0 0 1px #999;box-sizing:content-box;cursor:pointer}.ol-input-slider .ol-slider>.ol-cursor{position:absolute;width:5px;height:10px;top:50%;transform:translate(-50%,-50%);background-color:#999;pointer-events:none}.ol-input-range .ol-slider{cursor:default;width:150px}.ol-input-range .ol-slider>.ol-cursor{pointer-events:all;cursor:pointer;width:10px;border-radius:50%;background-color:#003c88}.ol-input-range.ol-moving .ol-slider>.ol-cursor{pointer-events:none}.ol-input-range .ol-slider>.ol-back{position:absolute;top:50%;transform:translateY(-50%);left:30%;right:20%;height:100%;background-color:#003c88;pointer-events:none}.ol-input-slider.ol-fixed:hover .ol-popup,.ol-input-slider.ol-fixed .ol-popup{position:relative;left:0;box-shadow:unset;background-color:transparent;display:inline-block;vertical-align:middle}.ol-input-slider.ol-fixed.ol-left .ol-popup{float:left}.ol-input-slider.ol-size .ol-slider{height:auto;box-shadow:none}.ol-input-slider.ol-size .ol-slider .ol-back{width:0;color:#aaa;border:0 solid transparent;border-width:0 0 20px 100px;border-color:currentColor transparent;pointer-events:none}.ol-input-slider.ol-size .ol-slider>.ol-cursor{width:2px;height:calc(100% + 4px);border-width:5px 3px;border-style:solid;border-color:#f00 transparent;border-image:initial;background-color:transparent;box-shadow:inset 3px 0 red}.ol-input-popup.ol-width li{padding:5px}.ol-input-popup.ol-width li>*{background-color:#369;width:100px;height:1em}.ol-input-popup.ol-width li>.ol-option-0{position:relative;height:1px;background-image:linear-gradient(90deg,#aaa 2px,transparent 2px);background-color:transparent;background-size:4px}\n'],encapsulation:2}),n})();class J$ extends ud{constructor(e){super(e)}getType(){return"arraybuffer"}readFeature(e,t){let i=this.parseShapefile(e);if(i.features&&i.features.length>0)return super.readFeature(i.features[0],t)}parseShapefile(e){return{type:"FeatureCollection",features:KW.parseShp(e)}}readFeatures(e,t){let i=this.parseShapefile(e);return super.readFeatures(i,t)}readProjection(e){let t;return t=e instanceof ArrayBuffer?this.parseShapefile(e):e,super.readProjection(t)}}let hP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[eo,fm,yd,yd]}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[lP,zU,hP,cP,uP,eo,bK]}),n})();class oq extends Pe{constructor(e=1/0,t=1/0,i=Sv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}const pm={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return pm.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return pm.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let Kw;function pq(n,e,t){let i=t;return function aq(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function cq(n,e){if(!Kw){const t=Element.prototype;Kw=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&Kw.call(n,e)}(n,r)||(i=o,0))),i}class mq{constructor(e,t){this.componentFactory=t.get(fc).resolveComponentFactory(e)}create(e){return new _q(this.componentFactory,e)}}class _q{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new oq(1),this.events=this.eventEmitters.pipe(hA(i=>hs(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(An),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=pm.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function uq(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=Zo.create({providers:[],parent:this.injector}),i=function fq(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],l=pq(a,e,r);-1!==l&&i[l].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(oa),this.implementsOnChanges=function lq(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(_h).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(jt(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=pm.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new nf(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class yq extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}let vq=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function bq(n,e){const t=function dq(n,e){return e.get(fc).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new mq(n,e.injector),r=function hq(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function sq(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class o extends yq{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:l})=>{if(!this.hasOwnProperty(l))return;const c=this[l];delete this[l],a.setInputValue(l,c)})}return this._ngElementStrategy}attributeChangedCallback(a,l,c,h){this.ngElementStrategy.setInputValue(r[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const l=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(l)})}}return o.observedAttributes=Object.keys(r),t.forEach(({propName:s})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(a){this.ngElementStrategy.setInputValue(s,a)},configurable:!0,enumerable:!0})}),o}(Q$,{injector:this.injector});customElements.define("web-map-viewer",t)}}return n.\u0275fac=function(t){return new(t||n)(Tt(Zo))},n.\u0275mod=jn({type:n}),n.\u0275inj=Zn({imports:[gT,lP,hP,cP,uP,Q4,rq]}),n})();(function h3(){ED=!1})(),GV().bootstrapModule(vq).catch(n=>console.error(n))},5343:(ot,oe)=>{"use strict";oe.byteLength=function I(P){var k=Y(P),z=k[1];return 3*(k[0]+z)/4-z},oe.toByteArray=function O(P){var k,le,C=Y(P),z=C[0],K=C[1],N=new F(function L(P,k,C){return 3*(k+C)/4-C}(0,z,K)),ne=0,J=K>0?z-4:z;for(le=0;le<J;le+=4)k=Q[P.charCodeAt(le)]<<18|Q[P.charCodeAt(le+1)]<<12|Q[P.charCodeAt(le+2)]<<6|Q[P.charCodeAt(le+3)],N[ne++]=k>>16&255,N[ne++]=k>>8&255,N[ne++]=255&k;return 2===K&&(k=Q[P.charCodeAt(le)]<<2|Q[P.charCodeAt(le+1)]>>4,N[ne++]=255&k),1===K&&(k=Q[P.charCodeAt(le)]<<10|Q[P.charCodeAt(le+1)]<<4|Q[P.charCodeAt(le+2)]>>2,N[ne++]=k>>8&255,N[ne++]=255&k),N},oe.fromByteArray=function x(P){for(var k,C=P.length,z=C%3,K=[],N=16383,ne=0,J=C-z;ne<J;ne+=N)K.push(y(P,ne,ne+N>J?J:ne+N));return 1===z?K.push(ie[(k=P[C-1])>>2]+ie[k<<4&63]+"=="):2===z&&K.push(ie[(k=(P[C-2]<<8)+P[C-1])>>10]+ie[k>>4&63]+ie[k<<2&63]+"="),K.join("")};for(var ie=[],Q=[],F=typeof Uint8Array<"u"?Uint8Array:Array,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,R=U.length;T<R;++T)ie[T]=U[T],Q[U.charCodeAt(T)]=T;function Y(P){var k=P.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=P.indexOf("=");return-1===C&&(C=k),[C,C===k?0:4-C%4]}function b(P){return ie[P>>18&63]+ie[P>>12&63]+ie[P>>6&63]+ie[63&P]}function y(P,k,C){for(var K=[],N=k;N<C;N+=3)K.push(b((P[N]<<16&16711680)+(P[N+1]<<8&65280)+(255&P[N+2])));return K.join("")}Q["-".charCodeAt(0)]=62,Q["_".charCodeAt(0)]=63},3172:(ot,oe,ie)=>{"use strict";var Q=ie(5343),F=ie(8461),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;oe.Buffer=I,oe.SlowBuffer=function N(_){return+_!=_&&(_=0),I.alloc(+_)},oe.INSPECT_MAX_BYTES=50;var T=2147483647;function Y(_){if(_>T)throw new RangeError('The value "'+_+'" is invalid for option "size"');var m=new Uint8Array(_);return Object.setPrototypeOf(m,I.prototype),m}function I(_,m,v){if("number"==typeof _){if("string"==typeof m)throw new TypeError('The "string" argument must be of type string. Received type number');return y(_)}return L(_,m,v)}function L(_,m,v){if("string"==typeof _)return function x(_,m){if(("string"!=typeof m||""===m)&&(m="utf8"),!I.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var v=0|ne(_,m),w=Y(v),G=w.write(_,m);return G!==v&&(w=w.slice(0,G)),w}(_,m);if(ArrayBuffer.isView(_))return function k(_){if(Me(_,Uint8Array)){var m=new Uint8Array(_);return C(m.buffer,m.byteOffset,m.byteLength)}return P(_)}(_);if(null==_)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Me(_,ArrayBuffer)||_&&Me(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(_,SharedArrayBuffer)||_&&Me(_.buffer,SharedArrayBuffer)))return C(_,m,v);if("number"==typeof _)throw new TypeError('The "value" argument must not be of type number. Received type number');var w=_.valueOf&&_.valueOf();if(null!=w&&w!==_)return I.from(w,m,v);var G=function z(_){if(I.isBuffer(_)){var m=0|K(_.length),v=Y(m);return 0===v.length||_.copy(v,0,0,m),v}return void 0!==_.length?"number"!=typeof _.length||he(_.length)?Y(0):P(_):"Buffer"===_.type&&Array.isArray(_.data)?P(_.data):void 0}(_);if(G)return G;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof _[Symbol.toPrimitive])return I.from(_[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}function O(_){if("number"!=typeof _)throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function y(_){return O(_),Y(_<0?0:0|K(_))}function P(_){for(var m=_.length<0?0:0|K(_.length),v=Y(m),w=0;w<m;w+=1)v[w]=255&_[w];return v}function C(_,m,v){if(m<0||_.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');var w;return w=void 0===m&&void 0===v?new Uint8Array(_):void 0===v?new Uint8Array(_,m):new Uint8Array(_,m,v),Object.setPrototypeOf(w,I.prototype),w}function K(_){if(_>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|_}function ne(_,m){if(I.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||Me(_,ArrayBuffer))return _.byteLength;if("string"!=typeof _)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);var v=_.length,w=arguments.length>2&&!0===arguments[2];if(!w&&0===v)return 0;for(var G=!1;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return jt(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*v;case"hex":return v>>>1;case"base64":return V(_).length;default:if(G)return w?-1:jt(_).length;m=(""+m).toLowerCase(),G=!0}}function J(_,m,v){var w=!1;if((void 0===m||m<0)&&(m=0),m>this.length||((void 0===v||v>this.length)&&(v=this.length),v<=0)||(v>>>=0)<=(m>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return we(this,m,v);case"utf8":case"utf-8":return Ve(this,m,v);case"ascii":return it(this,m,v);case"latin1":case"binary":return Te(this,m,v);case"base64":return lt(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,m,v);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),w=!0}}function le(_,m,v){var w=_[m];_[m]=_[v],_[v]=w}function de(_,m,v,w,G){if(0===_.length)return-1;if("string"==typeof v?(w=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),he(v=+v)&&(v=G?0:_.length-1),v<0&&(v=_.length+v),v>=_.length){if(G)return-1;v=_.length-1}else if(v<0){if(!G)return-1;v=0}if("string"==typeof m&&(m=I.from(m,w)),I.isBuffer(m))return 0===m.length?-1:ve(_,m,v,w,G);if("number"==typeof m)return m&=255,"function"==typeof Uint8Array.prototype.indexOf?G?Uint8Array.prototype.indexOf.call(_,m,v):Uint8Array.prototype.lastIndexOf.call(_,m,v):ve(_,[m],v,w,G);throw new TypeError("val must be string, number or Buffer")}function ve(_,m,v,w,G){var ye,ee=1,X=_.length,ue=m.length;if(void 0!==w&&("ucs2"===(w=String(w).toLowerCase())||"ucs-2"===w||"utf16le"===w||"utf-16le"===w)){if(_.length<2||m.length<2)return-1;ee=2,X/=2,ue/=2,v/=2}function ge(tn,Kt){return 1===ee?tn[Kt]:tn.readUInt16BE(Kt*ee)}if(G){var Se=-1;for(ye=v;ye<X;ye++)if(ge(_,ye)===ge(m,-1===Se?0:ye-Se)){if(-1===Se&&(Se=ye),ye-Se+1===ue)return Se*ee}else-1!==Se&&(ye-=ye-Se),Se=-1}else for(v+ue>X&&(v=X-ue),ye=v;ye>=0;ye--){for(var ke=!0,Et=0;Et<ue;Et++)if(ge(_,ye+Et)!==ge(m,Et)){ke=!1;break}if(ke)return ye}return-1}function Ce(_,m,v,w){v=Number(v)||0;var G=_.length-v;w?(w=Number(w))>G&&(w=G):w=G;var ee=m.length;w>ee/2&&(w=ee/2);for(var X=0;X<w;++X){var ue=parseInt(m.substr(2*X,2),16);if(he(ue))return X;_[v+X]=ue}return X}function fe(_,m,v,w){return Oe(jt(m,_.length-v),_,v,w)}function De(_,m,v,w){return Oe(function Jn(_){for(var m=[],v=0;v<_.length;++v)m.push(255&_.charCodeAt(v));return m}(m),_,v,w)}function W(_,m,v,w){return Oe(V(m),_,v,w)}function Re(_,m,v,w){return Oe(function ri(_,m){for(var v,w,ee=[],X=0;X<_.length&&!((m-=2)<0);++X)w=(v=_.charCodeAt(X))>>8,ee.push(v%256),ee.push(w);return ee}(m,_.length-v),_,v,w)}function lt(_,m,v){return Q.fromByteArray(0===m&&v===_.length?_:_.slice(m,v))}function Ve(_,m,v){v=Math.min(_.length,v);for(var w=[],G=m;G<v;){var ge,ye,Se,ke,ee=_[G],X=null,ue=ee>239?4:ee>223?3:ee>191?2:1;if(G+ue<=v)switch(ue){case 1:ee<128&&(X=ee);break;case 2:128==(192&(ge=_[G+1]))&&(ke=(31&ee)<<6|63&ge)>127&&(X=ke);break;case 3:ye=_[G+2],128==(192&(ge=_[G+1]))&&128==(192&ye)&&(ke=(15&ee)<<12|(63&ge)<<6|63&ye)>2047&&(ke<55296||ke>57343)&&(X=ke);break;case 4:ye=_[G+2],Se=_[G+3],128==(192&(ge=_[G+1]))&&128==(192&ye)&&128==(192&Se)&&(ke=(15&ee)<<18|(63&ge)<<12|(63&ye)<<6|63&Se)>65535&&ke<1114112&&(X=ke)}null===X?(X=65533,ue=1):X>65535&&(w.push((X-=65536)>>>10&1023|55296),X=56320|1023&X),w.push(X),G+=ue}return function We(_){var m=_.length;if(m<=4096)return String.fromCharCode.apply(String,_);for(var v="",w=0;w<m;)v+=String.fromCharCode.apply(String,_.slice(w,w+=4096));return v}(w)}function it(_,m,v){var w="";v=Math.min(_.length,v);for(var G=m;G<v;++G)w+=String.fromCharCode(127&_[G]);return w}function Te(_,m,v){var w="";v=Math.min(_.length,v);for(var G=m;G<v;++G)w+=String.fromCharCode(_[G]);return w}function we(_,m,v){var w=_.length;(!m||m<0)&&(m=0),(!v||v<0||v>w)&&(v=w);for(var G="",ee=m;ee<v;++ee)G+=ce[_[ee]];return G}function pt(_,m,v){for(var w=_.slice(m,v),G="",ee=0;ee<w.length-1;ee+=2)G+=String.fromCharCode(w[ee]+256*w[ee+1]);return G}function Xe(_,m,v){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+m>v)throw new RangeError("Trying to access beyond buffer length")}function Pe(_,m,v,w,G,ee){if(!I.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>G||m<ee)throw new RangeError('"value" argument is out of bounds');if(v+w>_.length)throw new RangeError("Index out of range")}function mn(_,m,v,w,G,ee){if(v+w>_.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Ln(_,m,v,w,G){return m=+m,v>>>=0,G||mn(_,0,v,4),F.write(_,m,v,w,23,4),v+4}function gt(_,m,v,w,G){return m=+m,v>>>=0,G||mn(_,0,v,8),F.write(_,m,v,w,52,8),v+8}oe.kMaxLength=T,!(I.TYPED_ARRAY_SUPPORT=function R(){try{var _=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(_,m),42===_.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}}),I.poolSize=8192,I.from=function(_,m,v){return L(_,m,v)},Object.setPrototypeOf(I.prototype,Uint8Array.prototype),Object.setPrototypeOf(I,Uint8Array),I.alloc=function(_,m,v){return function b(_,m,v){return O(_),_<=0?Y(_):void 0!==m?"string"==typeof v?Y(_).fill(m,v):Y(_).fill(m):Y(_)}(_,m,v)},I.allocUnsafe=function(_){return y(_)},I.allocUnsafeSlow=function(_){return y(_)},I.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==I.prototype},I.compare=function(m,v){if(Me(m,Uint8Array)&&(m=I.from(m,m.offset,m.byteLength)),Me(v,Uint8Array)&&(v=I.from(v,v.offset,v.byteLength)),!I.isBuffer(m)||!I.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===v)return 0;for(var w=m.length,G=v.length,ee=0,X=Math.min(w,G);ee<X;++ee)if(m[ee]!==v[ee]){w=m[ee],G=v[ee];break}return w<G?-1:G<w?1:0},I.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(m,v){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return I.alloc(0);var w;if(void 0===v)for(v=0,w=0;w<m.length;++w)v+=m[w].length;var G=I.allocUnsafe(v),ee=0;for(w=0;w<m.length;++w){var X=m[w];if(Me(X,Uint8Array))ee+X.length>G.length?I.from(X).copy(G,ee):Uint8Array.prototype.set.call(G,X,ee);else{if(!I.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(G,ee)}ee+=X.length}return G},I.byteLength=ne,I.prototype._isBuffer=!0,I.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<m;v+=2)le(this,v,v+1);return this},I.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<m;v+=4)le(this,v,v+3),le(this,v+1,v+2);return this},I.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<m;v+=8)le(this,v,v+7),le(this,v+1,v+6),le(this,v+2,v+5),le(this,v+3,v+4);return this},I.prototype.toLocaleString=I.prototype.toString=function(){var m=this.length;return 0===m?"":0===arguments.length?Ve(this,0,m):J.apply(this,arguments)},I.prototype.equals=function(m){if(!I.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||0===I.compare(this,m)},I.prototype.inspect=function(){var m="",v=oe.INSPECT_MAX_BYTES;return m=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(m+=" ... "),"<Buffer "+m+">"},U&&(I.prototype[U]=I.prototype.inspect),I.prototype.compare=function(m,v,w,G,ee){if(Me(m,Uint8Array)&&(m=I.from(m,m.offset,m.byteLength)),!I.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(void 0===v&&(v=0),void 0===w&&(w=m?m.length:0),void 0===G&&(G=0),void 0===ee&&(ee=this.length),v<0||w>m.length||G<0||ee>this.length)throw new RangeError("out of range index");if(G>=ee&&v>=w)return 0;if(G>=ee)return-1;if(v>=w)return 1;if(this===m)return 0;for(var X=(ee>>>=0)-(G>>>=0),ue=(w>>>=0)-(v>>>=0),ge=Math.min(X,ue),ye=this.slice(G,ee),Se=m.slice(v,w),ke=0;ke<ge;++ke)if(ye[ke]!==Se[ke]){X=ye[ke],ue=Se[ke];break}return X<ue?-1:ue<X?1:0},I.prototype.includes=function(m,v,w){return-1!==this.indexOf(m,v,w)},I.prototype.indexOf=function(m,v,w){return de(this,m,v,w,!0)},I.prototype.lastIndexOf=function(m,v,w){return de(this,m,v,w,!1)},I.prototype.write=function(m,v,w,G){if(void 0===v)G="utf8",w=this.length,v=0;else if(void 0===w&&"string"==typeof v)G=v,w=this.length,v=0;else{if(!isFinite(v))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");v>>>=0,isFinite(w)?(w>>>=0,void 0===G&&(G="utf8")):(G=w,w=void 0)}var ee=this.length-v;if((void 0===w||w>ee)&&(w=ee),m.length>0&&(w<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var X=!1;;)switch(G){case"hex":return Ce(this,m,v,w);case"utf8":case"utf-8":return fe(this,m,v,w);case"ascii":case"latin1":case"binary":return De(this,m,v,w);case"base64":return W(this,m,v,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,m,v,w);default:if(X)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),X=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},I.prototype.slice=function(m,v){var w=this.length;(m=~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),(v=void 0===v?w:~~v)<0?(v+=w)<0&&(v=0):v>w&&(v=w),v<m&&(v=m);var G=this.subarray(m,v);return Object.setPrototypeOf(G,I.prototype),G},I.prototype.readUintLE=I.prototype.readUIntLE=function(m,v,w){m>>>=0,v>>>=0,w||Xe(m,v,this.length);for(var G=this[m],ee=1,X=0;++X<v&&(ee*=256);)G+=this[m+X]*ee;return G},I.prototype.readUintBE=I.prototype.readUIntBE=function(m,v,w){m>>>=0,v>>>=0,w||Xe(m,v,this.length);for(var G=this[m+--v],ee=1;v>0&&(ee*=256);)G+=this[m+--v]*ee;return G},I.prototype.readUint8=I.prototype.readUInt8=function(m,v){return m>>>=0,v||Xe(m,1,this.length),this[m]},I.prototype.readUint16LE=I.prototype.readUInt16LE=function(m,v){return m>>>=0,v||Xe(m,2,this.length),this[m]|this[m+1]<<8},I.prototype.readUint16BE=I.prototype.readUInt16BE=function(m,v){return m>>>=0,v||Xe(m,2,this.length),this[m]<<8|this[m+1]},I.prototype.readUint32LE=I.prototype.readUInt32LE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},I.prototype.readUint32BE=I.prototype.readUInt32BE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},I.prototype.readIntLE=function(m,v,w){m>>>=0,v>>>=0,w||Xe(m,v,this.length);for(var G=this[m],ee=1,X=0;++X<v&&(ee*=256);)G+=this[m+X]*ee;return G>=(ee*=128)&&(G-=Math.pow(2,8*v)),G},I.prototype.readIntBE=function(m,v,w){m>>>=0,v>>>=0,w||Xe(m,v,this.length);for(var G=v,ee=1,X=this[m+--G];G>0&&(ee*=256);)X+=this[m+--G]*ee;return X>=(ee*=128)&&(X-=Math.pow(2,8*v)),X},I.prototype.readInt8=function(m,v){return m>>>=0,v||Xe(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},I.prototype.readInt16LE=function(m,v){m>>>=0,v||Xe(m,2,this.length);var w=this[m]|this[m+1]<<8;return 32768&w?4294901760|w:w},I.prototype.readInt16BE=function(m,v){m>>>=0,v||Xe(m,2,this.length);var w=this[m+1]|this[m]<<8;return 32768&w?4294901760|w:w},I.prototype.readInt32LE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},I.prototype.readInt32BE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},I.prototype.readFloatLE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),F.read(this,m,!0,23,4)},I.prototype.readFloatBE=function(m,v){return m>>>=0,v||Xe(m,4,this.length),F.read(this,m,!1,23,4)},I.prototype.readDoubleLE=function(m,v){return m>>>=0,v||Xe(m,8,this.length),F.read(this,m,!0,52,8)},I.prototype.readDoubleBE=function(m,v){return m>>>=0,v||Xe(m,8,this.length),F.read(this,m,!1,52,8)},I.prototype.writeUintLE=I.prototype.writeUIntLE=function(m,v,w,G){m=+m,v>>>=0,w>>>=0,G||Pe(this,m,v,w,Math.pow(2,8*w)-1,0);var X=1,ue=0;for(this[v]=255&m;++ue<w&&(X*=256);)this[v+ue]=m/X&255;return v+w},I.prototype.writeUintBE=I.prototype.writeUIntBE=function(m,v,w,G){m=+m,v>>>=0,w>>>=0,G||Pe(this,m,v,w,Math.pow(2,8*w)-1,0);var X=w-1,ue=1;for(this[v+X]=255&m;--X>=0&&(ue*=256);)this[v+X]=m/ue&255;return v+w},I.prototype.writeUint8=I.prototype.writeUInt8=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,1,255,0),this[v]=255&m,v+1},I.prototype.writeUint16LE=I.prototype.writeUInt16LE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,2,65535,0),this[v]=255&m,this[v+1]=m>>>8,v+2},I.prototype.writeUint16BE=I.prototype.writeUInt16BE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,2,65535,0),this[v]=m>>>8,this[v+1]=255&m,v+2},I.prototype.writeUint32LE=I.prototype.writeUInt32LE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,4,4294967295,0),this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=255&m,v+4},I.prototype.writeUint32BE=I.prototype.writeUInt32BE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,4,4294967295,0),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=255&m,v+4},I.prototype.writeIntLE=function(m,v,w,G){if(m=+m,v>>>=0,!G){var ee=Math.pow(2,8*w-1);Pe(this,m,v,w,ee-1,-ee)}var X=0,ue=1,ge=0;for(this[v]=255&m;++X<w&&(ue*=256);)m<0&&0===ge&&0!==this[v+X-1]&&(ge=1),this[v+X]=(m/ue>>0)-ge&255;return v+w},I.prototype.writeIntBE=function(m,v,w,G){if(m=+m,v>>>=0,!G){var ee=Math.pow(2,8*w-1);Pe(this,m,v,w,ee-1,-ee)}var X=w-1,ue=1,ge=0;for(this[v+X]=255&m;--X>=0&&(ue*=256);)m<0&&0===ge&&0!==this[v+X+1]&&(ge=1),this[v+X]=(m/ue>>0)-ge&255;return v+w},I.prototype.writeInt8=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,1,127,-128),m<0&&(m=255+m+1),this[v]=255&m,v+1},I.prototype.writeInt16LE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,2,32767,-32768),this[v]=255&m,this[v+1]=m>>>8,v+2},I.prototype.writeInt16BE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,2,32767,-32768),this[v]=m>>>8,this[v+1]=255&m,v+2},I.prototype.writeInt32LE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,4,2147483647,-2147483648),this[v]=255&m,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24,v+4},I.prototype.writeInt32BE=function(m,v,w){return m=+m,v>>>=0,w||Pe(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=255&m,v+4},I.prototype.writeFloatLE=function(m,v,w){return Ln(this,m,v,!0,w)},I.prototype.writeFloatBE=function(m,v,w){return Ln(this,m,v,!1,w)},I.prototype.writeDoubleLE=function(m,v,w){return gt(this,m,v,!0,w)},I.prototype.writeDoubleBE=function(m,v,w){return gt(this,m,v,!1,w)},I.prototype.copy=function(m,v,w,G){if(!I.isBuffer(m))throw new TypeError("argument should be a Buffer");if(w||(w=0),!G&&0!==G&&(G=this.length),v>=m.length&&(v=m.length),v||(v=0),G>0&&G<w&&(G=w),G===w||0===m.length||0===this.length)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),m.length-v<G-w&&(G=m.length-v+w);var ee=G-w;return this===m&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(v,w,G):Uint8Array.prototype.set.call(m,this.subarray(w,G),v),ee},I.prototype.fill=function(m,v,w,G){if("string"==typeof m){if("string"==typeof v?(G=v,v=0,w=this.length):"string"==typeof w&&(G=w,w=this.length),void 0!==G&&"string"!=typeof G)throw new TypeError("encoding must be a string");if("string"==typeof G&&!I.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(1===m.length){var ee=m.charCodeAt(0);("utf8"===G&&ee<128||"latin1"===G)&&(m=ee)}}else"number"==typeof m?m&=255:"boolean"==typeof m&&(m=Number(m));if(v<0||this.length<v||this.length<w)throw new RangeError("Out of range index");if(w<=v)return this;var X;if(v>>>=0,w=void 0===w?this.length:w>>>0,m||(m=0),"number"==typeof m)for(X=v;X<w;++X)this[X]=m;else{var ue=I.isBuffer(m)?m:I.from(m,G),ge=ue.length;if(0===ge)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(X=0;X<w-v;++X)this[X+v]=ue[X%ge]}return this};var Dt=/[^+/0-9A-Za-z-_]/g;function jt(_,m){m=m||1/0;for(var v,w=_.length,G=null,ee=[],X=0;X<w;++X){if((v=_.charCodeAt(X))>55295&&v<57344){if(!G){if(v>56319){(m-=3)>-1&&ee.push(239,191,189);continue}if(X+1===w){(m-=3)>-1&&ee.push(239,191,189);continue}G=v;continue}if(v<56320){(m-=3)>-1&&ee.push(239,191,189),G=v;continue}v=65536+(G-55296<<10|v-56320)}else G&&(m-=3)>-1&&ee.push(239,191,189);if(G=null,v<128){if((m-=1)<0)break;ee.push(v)}else if(v<2048){if((m-=2)<0)break;ee.push(v>>6|192,63&v|128)}else if(v<65536){if((m-=3)<0)break;ee.push(v>>12|224,v>>6&63|128,63&v|128)}else{if(!(v<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;ee.push(v>>18|240,v>>12&63|128,v>>6&63|128,63&v|128)}}return ee}function V(_){return Q.toByteArray(function _n(_){if((_=(_=_.split("=")[0]).trim().replace(Dt,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(_))}function Oe(_,m,v,w){for(var G=0;G<w&&!(G+v>=m.length||G>=_.length);++G)m[G+v]=_[G];return G}function Me(_,m){return _ instanceof m||null!=_&&null!=_.constructor&&null!=_.constructor.name&&_.constructor.name===m.name}function he(_){return _!=_}var ce=function(){for(var _="0123456789abcdef",m=new Array(256),v=0;v<16;++v)for(var w=16*v,G=0;G<16;++G)m[w+G]=_[v]+_[G];return m}()},8461:(ot,oe)=>{oe.read=function(ie,Q,F,U,T){var R,Y,I=8*T-U-1,L=(1<<I)-1,O=L>>1,b=-7,y=F?T-1:0,x=F?-1:1,P=ie[Q+y];for(y+=x,R=P&(1<<-b)-1,P>>=-b,b+=I;b>0;R=256*R+ie[Q+y],y+=x,b-=8);for(Y=R&(1<<-b)-1,R>>=-b,b+=U;b>0;Y=256*Y+ie[Q+y],y+=x,b-=8);if(0===R)R=1-O;else{if(R===L)return Y?NaN:1/0*(P?-1:1);Y+=Math.pow(2,U),R-=O}return(P?-1:1)*Y*Math.pow(2,R-U)},oe.write=function(ie,Q,F,U,T,R){var Y,I,L,O=8*R-T-1,b=(1<<O)-1,y=b>>1,x=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,P=U?0:R-1,k=U?1:-1,C=Q<0||0===Q&&1/Q<0?1:0;for(Q=Math.abs(Q),isNaN(Q)||Q===1/0?(I=isNaN(Q)?1:0,Y=b):(Y=Math.floor(Math.log(Q)/Math.LN2),Q*(L=Math.pow(2,-Y))<1&&(Y--,L*=2),(Q+=Y+y>=1?x/L:x*Math.pow(2,1-y))*L>=2&&(Y++,L/=2),Y+y>=b?(I=0,Y=b):Y+y>=1?(I=(Q*L-1)*Math.pow(2,T),Y+=y):(I=Q*Math.pow(2,y-1)*Math.pow(2,T),Y=0));T>=8;ie[F+P]=255&I,P+=k,I/=256,T-=8);for(Y=Y<<T|I,O+=T;O>0;ie[F+P]=255&Y,P+=k,Y/=256,O-=8);ie[F+P-k]|=128*C}},3293:ot=>{"use strict";var ie,oe=global.MutationObserver||global.WebKitMutationObserver;if(oe){var Q=0,F=new oe(I),U=global.document.createTextNode("");F.observe(U,{characterData:!0}),ie=function(){U.data=Q=++Q%2}}else if(!global.setImmediate&&typeof global.MessageChannel<"u"){var T=new global.MessageChannel;T.port1.onmessage=I,ie=function(){T.port2.postMessage(0)}}else ie="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var O=global.document.createElement("script");O.onreadystatechange=function(){I(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},global.document.documentElement.appendChild(O)}:function(){setTimeout(I,0)};var R,Y=[];function I(){R=!0;for(var O,b,y=Y.length;y;){for(b=Y,Y=[],O=-1;++O<y;)b[O]();y=Y.length}R=!1}ot.exports=function L(O){1===Y.push(O)&&!R&&ie()}},5650:ot=>{ot.exports=function oe(ie,Q,F){function U(Y,I){if(!Q[Y]){if(!ie[Y]){if(T)return T(Y,!0);var O=new Error("Cannot find module '"+Y+"'");throw O.code="MODULE_NOT_FOUND",O}var b=Q[Y]={exports:{}};ie[Y][0].call(b.exports,function(y){return U(ie[Y][1][y]||y)},b,b.exports,oe,ie,Q,F)}return Q[Y].exports}for(var T=void 0,R=0;R<F.length;R++)U(F[R]);return U}({1:[function(oe,ie,Q){"use strict";var F=oe("./utils"),U=oe("./support"),T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Q.encode=function(R){for(var Y,I,L,b,y,x,P=[],k=0,C=R.length,z=C,K="string"!==F.getTypeOf(R);k<R.length;)z=C-k,L=K?(Y=R[k++],I=k<C?R[k++]:0,k<C?R[k++]:0):(Y=R.charCodeAt(k++),I=k<C?R.charCodeAt(k++):0,k<C?R.charCodeAt(k++):0),b=(3&Y)<<4|I>>4,y=1<z?(15&I)<<2|L>>6:64,x=2<z?63&L:64,P.push(T.charAt(Y>>2)+T.charAt(b)+T.charAt(y)+T.charAt(x));return P.join("")},Q.decode=function(R){var Y,I,L,O,b,y,x=0,P=0,k="data:";if(R.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var C,z=3*(R=R.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(R.charAt(R.length-1)===T.charAt(64)&&z--,R.charAt(R.length-2)===T.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=U.uint8array?new Uint8Array(0|z):new Array(0|z);x<R.length;)Y=T.indexOf(R.charAt(x++))<<2|(O=T.indexOf(R.charAt(x++)))>>4,I=(15&O)<<4|(b=T.indexOf(R.charAt(x++)))>>2,L=(3&b)<<6|(y=T.indexOf(R.charAt(x++))),C[P++]=Y,64!==b&&(C[P++]=I),64!==y&&(C[P++]=L);return C}},{"./support":30,"./utils":32}],2:[function(oe,ie,Q){"use strict";var F=oe("./external"),U=oe("./stream/DataWorker"),T=oe("./stream/Crc32Probe"),R=oe("./stream/DataLengthProbe");function Y(I,L,O,b,y){this.compressedSize=I,this.uncompressedSize=L,this.crc32=O,this.compression=b,this.compressedContent=y}Y.prototype={getContentWorker:function(){var I=new U(F.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new R("data_length")),L=this;return I.on("end",function(){if(this.streamInfo.data_length!==L.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new U(F.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Y.createWorkerFrom=function(I,L,O){return I.pipe(new T).pipe(new R("uncompressedSize")).pipe(L.compressWorker(O)).pipe(new R("compressedSize")).withStreamInfo("compression",L)},ie.exports=Y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(oe,ie,Q){"use strict";var F=oe("./stream/GenericWorker");Q.STORE={magic:"\0\0",compressWorker:function(){return new F("STORE compression")},uncompressWorker:function(){return new F("STORE decompression")}},Q.DEFLATE=oe("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(oe,ie,Q){"use strict";var F=oe("./utils"),U=function(){for(var T,R=[],Y=0;Y<256;Y++){T=Y;for(var I=0;I<8;I++)T=1&T?3988292384^T>>>1:T>>>1;R[Y]=T}return R}();ie.exports=function(T,R){return void 0!==T&&T.length?"string"!==F.getTypeOf(T)?function(Y,I,L,O){var b=U,y=0+L;Y^=-1;for(var x=0;x<y;x++)Y=Y>>>8^b[255&(Y^I[x])];return-1^Y}(0|R,T,T.length):function(Y,I,L,O){var b=U,y=0+L;Y^=-1;for(var x=0;x<y;x++)Y=Y>>>8^b[255&(Y^I.charCodeAt(x))];return-1^Y}(0|R,T,T.length):0}},{"./utils":32}],5:[function(oe,ie,Q){"use strict";Q.base64=!1,Q.binary=!1,Q.dir=!1,Q.createFolders=!0,Q.date=null,Q.compression=null,Q.compressionOptions=null,Q.comment=null,Q.unixPermissions=null,Q.dosPermissions=null},{}],6:[function(oe,ie,Q){"use strict";var F;F=typeof Promise<"u"?Promise:oe("lie"),ie.exports={Promise:F}},{lie:37}],7:[function(oe,ie,Q){"use strict";var F=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",U=oe("pako"),T=oe("./utils"),R=oe("./stream/GenericWorker"),Y=F?"uint8array":"array";function I(L,O){R.call(this,"FlateWorker/"+L),this._pako=null,this._pakoAction=L,this._pakoOptions=O,this.meta={}}Q.magic="\b\0",T.inherits(I,R),I.prototype.processChunk=function(L){this.meta=L.meta,null===this._pako&&this._createPako(),this._pako.push(T.transformTo(Y,L.data),!1)},I.prototype.flush=function(){R.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){R.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new U[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var L=this;this._pako.onData=function(O){L.push({data:O,meta:L.meta})}},Q.compressWorker=function(L){return new I("Deflate",L)},Q.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(oe,ie,Q){"use strict";function F(b,y){var x,P="";for(x=0;x<y;x++)P+=String.fromCharCode(255&b),b>>>=8;return P}function U(b,y,x,P,k,C){var z,K,N=b.file,ne=b.compression,J=C!==Y.utf8encode,le=T.transformTo("string",C(N.name)),de=T.transformTo("string",Y.utf8encode(N.name)),ve=N.comment,Ce=T.transformTo("string",C(ve)),fe=T.transformTo("string",Y.utf8encode(ve)),De=de.length!==N.name.length,W=fe.length!==ve.length,Re="",lt="",Ve="",yt=N.dir,We=N.date,it={crc32:0,compressedSize:0,uncompressedSize:0};y&&!x||(it.crc32=b.crc32,it.compressedSize=b.compressedSize,it.uncompressedSize=b.uncompressedSize);var Te=0;y&&(Te|=8),J||!De&&!W||(Te|=2048);var Pe,Ln,we=0,pt=0;yt&&(we|=16),"UNIX"===k?(pt=798,we|=(Ln=Pe=N.unixPermissions,Pe||(Ln=yt?16893:33204),(65535&Ln)<<16)):(pt=20,we|=function(Pe){return 63&(Pe||0)}(N.dosPermissions)),z=We.getUTCHours(),z<<=6,z|=We.getUTCMinutes(),z<<=5,z|=We.getUTCSeconds()/2,K=We.getUTCFullYear()-1980,K<<=4,K|=We.getUTCMonth()+1,K<<=5,K|=We.getUTCDate(),De&&(lt=F(1,1)+F(I(le),4)+de,Re+="up"+F(lt.length,2)+lt),W&&(Ve=F(1,1)+F(I(Ce),4)+fe,Re+="uc"+F(Ve.length,2)+Ve);var Xe="";return Xe+="\n\0",Xe+=F(Te,2),Xe+=ne.magic,Xe+=F(z,2),Xe+=F(K,2),Xe+=F(it.crc32,4),Xe+=F(it.compressedSize,4),Xe+=F(it.uncompressedSize,4),Xe+=F(le.length,2),Xe+=F(Re.length,2),{fileRecord:L.LOCAL_FILE_HEADER+Xe+le+Re,dirRecord:L.CENTRAL_FILE_HEADER+F(pt,2)+Xe+F(Ce.length,2)+"\0\0\0\0"+F(we,4)+F(P,4)+le+Re+Ce}}var T=oe("../utils"),R=oe("../stream/GenericWorker"),Y=oe("../utf8"),I=oe("../crc32"),L=oe("../signature");function O(b,y,x,P){R.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=x,this.encodeFileName=P,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}T.inherits(O,R),O.prototype.push=function(b){var y=b.meta.percent||0,x=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,R.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:x?(y+100*(x-P-1))/x:100}}))},O.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var y=this.streamFiles&&!b.file.dir;if(y){var x=U(b,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},O.prototype.closedSource=function(b){this.accumulate=!1;var P,y=this.streamFiles&&!b.file.dir,x=U(b,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),y)this.push({data:(P=b,L.DATA_DESCRIPTOR+F(P.crc32,4)+F(P.compressedSize,4)+F(P.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},O.prototype.flush=function(){for(var b=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var k,C,z,ne,P=(k=this.dirRecords.length,C=this.bytesWritten-b,z=b,ne=T.transformTo("string",(0,this.encodeFileName)(this.zipComment)),L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+F(k,2)+F(k,2)+F(C,4)+F(z,4)+F(ne.length,2)+ne);this.push({data:P,meta:{percent:100}})},O.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},O.prototype.registerPrevious=function(b){this._sources.push(b);var y=this;return b.on("data",function(x){y.processChunk(x)}),b.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),b.on("error",function(x){y.error(x)}),this},O.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},O.prototype.error=function(b){var y=this._sources;if(!R.prototype.error.call(this,b))return!1;for(var x=0;x<y.length;x++)try{y[x].error(b)}catch{}return!0},O.prototype.lock=function(){R.prototype.lock.call(this);for(var b=this._sources,y=0;y<b.length;y++)b[y].lock()},ie.exports=O},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(oe,ie,Q){"use strict";var F=oe("../compressions"),U=oe("./ZipFileWorker");Q.generateWorker=function(T,R,Y){var I=new U(R.streamFiles,Y,R.platform,R.encodeFileName),L=0;try{T.forEach(function(O,b){L++;var y=function(C,z){var K=C||z,N=F[K];if(!N)throw new Error(K+" is not a valid compression method !");return N}(b.options.compression,R.compression),P=b.dir,k=b.date;b._compressWorker(y,b.options.compressionOptions||R.compressionOptions||{}).withStreamInfo("file",{name:O,dir:P,date:k,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(I)}),I.entriesCount=L}catch(O){I.error(O)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(oe,ie,Q){"use strict";function F(){if(!(this instanceof F))return new F;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var U=new F;for(var T in this)"function"!=typeof this[T]&&(U[T]=this[T]);return U}}(F.prototype=oe("./object")).loadAsync=oe("./load"),F.support=oe("./support"),F.defaults=oe("./defaults"),F.version="3.10.1",F.loadAsync=function(U,T){return(new F).loadAsync(U,T)},F.external=oe("./external"),ie.exports=F},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(oe,ie,Q){"use strict";var F=oe("./utils"),U=oe("./external"),T=oe("./utf8"),R=oe("./zipEntries"),Y=oe("./stream/Crc32Probe"),I=oe("./nodejsUtils");function L(O){return new U.Promise(function(b,y){var x=O.decompressed.getContentWorker().pipe(new Y);x.on("error",function(P){y(P)}).on("end",function(){x.streamInfo.crc32!==O.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}ie.exports=function(O,b){var y=this;return b=F.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:T.utf8decode}),I.isNode&&I.isStream(O)?U.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):F.prepareContent("the loaded zip file",O,!0,b.optimizedBinaryString,b.base64).then(function(x){var P=new R(b);return P.load(x),P}).then(function(x){var P=[U.Promise.resolve(x)],k=x.files;if(b.checkCRC32)for(var C=0;C<k.length;C++)P.push(L(k[C]));return U.Promise.all(P)}).then(function(x){for(var P=x.shift(),k=P.files,C=0;C<k.length;C++){var z=k[C],K=z.fileNameStr,N=F.resolve(z.fileNameStr);y.file(N,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:b.createFolders}),z.dir||(y.file(N).unsafeOriginalName=K)}return P.zipComment.length&&(y.comment=P.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(oe,ie,Q){"use strict";var F=oe("../utils"),U=oe("../stream/GenericWorker");function T(R,Y){U.call(this,"Nodejs stream input adapter for "+R),this._upstreamEnded=!1,this._bindStream(Y)}F.inherits(T,U),T.prototype._bindStream=function(R){var Y=this;(this._stream=R).pause(),R.on("data",function(I){Y.push({data:I,meta:{percent:0}})}).on("error",function(I){Y.isPaused?this.generatedError=I:Y.error(I)}).on("end",function(){Y.isPaused?Y._upstreamEnded=!0:Y.end()})},T.prototype.pause=function(){return!!U.prototype.pause.call(this)&&(this._stream.pause(),!0)},T.prototype.resume=function(){return!!U.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ie.exports=T},{"../stream/GenericWorker":28,"../utils":32}],13:[function(oe,ie,Q){"use strict";var F=oe("readable-stream").Readable;function U(T,R,Y){F.call(this,R),this._helper=T;var I=this;T.on("data",function(L,O){I.push(L)||I._helper.pause(),Y&&Y(O)}).on("error",function(L){I.emit("error",L)}).on("end",function(){I.push(null)})}oe("../utils").inherits(U,F),U.prototype._read=function(){this._helper.resume()},ie.exports=U},{"../utils":32,"readable-stream":16}],14:[function(oe,ie,Q){"use strict";ie.exports={isNode:typeof Buffer<"u",newBufferFrom:function(F,U){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(F,U);if("number"==typeof F)throw new Error('The "data" argument must not be a number');return new Buffer(F,U)},allocBuffer:function(F){if(Buffer.alloc)return Buffer.alloc(F);var U=new Buffer(F);return U.fill(0),U},isBuffer:function(F){return Buffer.isBuffer(F)},isStream:function(F){return F&&"function"==typeof F.on&&"function"==typeof F.pause&&"function"==typeof F.resume}}},{}],15:[function(oe,ie,Q){"use strict";function F(N,ne,J){var le,de=T.getTypeOf(ne),ve=T.extend(J||{},I);ve.date=ve.date||new Date,null!==ve.compression&&(ve.compression=ve.compression.toUpperCase()),"string"==typeof ve.unixPermissions&&(ve.unixPermissions=parseInt(ve.unixPermissions,8)),ve.unixPermissions&&16384&ve.unixPermissions&&(ve.dir=!0),ve.dosPermissions&&16&ve.dosPermissions&&(ve.dir=!0),ve.dir&&(N=k(N)),ve.createFolders&&(le=P(N))&&C.call(this,le,!0),J&&void 0!==J.binary||(ve.binary=!("string"===de&&!1===ve.binary&&!1===ve.base64)),(ne instanceof L&&0===ne.uncompressedSize||ve.dir||!ne||0===ne.length)&&(ve.base64=!1,ve.binary=!0,ne="",ve.compression="STORE",de="string");var fe;fe=ne instanceof L||ne instanceof R?ne:y.isNode&&y.isStream(ne)?new x(N,ne):T.prepareContent(N,ne,ve.binary,ve.optimizedBinaryString,ve.base64);var De=new O(N,fe,ve);this.files[N]=De}var U=oe("./utf8"),T=oe("./utils"),R=oe("./stream/GenericWorker"),Y=oe("./stream/StreamHelper"),I=oe("./defaults"),L=oe("./compressedObject"),O=oe("./zipObject"),b=oe("./generate"),y=oe("./nodejsUtils"),x=oe("./nodejs/NodejsStreamInputAdapter"),P=function(N){"/"===N.slice(-1)&&(N=N.substring(0,N.length-1));var ne=N.lastIndexOf("/");return 0<ne?N.substring(0,ne):""},k=function(N){return"/"!==N.slice(-1)&&(N+="/"),N},C=function(N,ne){return ne=void 0!==ne?ne:I.createFolders,N=k(N),this.files[N]||F.call(this,N,null,{dir:!0,createFolders:ne}),this.files[N]};function z(N){return"[object RegExp]"===Object.prototype.toString.call(N)}var K={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var ne,J,le;for(ne in this.files)le=this.files[ne],(J=ne.slice(this.root.length,ne.length))&&ne.slice(0,this.root.length)===this.root&&N(J,le)},filter:function(N){var ne=[];return this.forEach(function(J,le){N(J,le)&&ne.push(le)}),ne},file:function(N,ne,J){if(1!==arguments.length)return F.call(this,N=this.root+N,ne,J),this;if(z(N)){var le=N;return this.filter(function(ve,Ce){return!Ce.dir&&le.test(ve)})}var de=this.files[this.root+N];return de&&!de.dir?de:null},folder:function(N){if(!N)return this;if(z(N))return this.filter(function(de,ve){return ve.dir&&N.test(de)});var J=C.call(this,this.root+N),le=this.clone();return le.root=J.name,le},remove:function(N){var ne=this.files[N=this.root+N];if(ne||("/"!==N.slice(-1)&&(N+="/"),ne=this.files[N]),ne&&!ne.dir)delete this.files[N];else for(var J=this.filter(function(de,ve){return ve.name.slice(0,N.length)===N}),le=0;le<J.length;le++)delete this.files[J[le].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var ne,J={};try{if((J=T.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:U.utf8encode})).type=J.type.toLowerCase(),J.compression=J.compression.toUpperCase(),"binarystring"===J.type&&(J.type="string"),!J.type)throw new Error("No output type specified.");T.checkSupport(J.type),"darwin"!==J.platform&&"freebsd"!==J.platform&&"linux"!==J.platform&&"sunos"!==J.platform||(J.platform="UNIX"),"win32"===J.platform&&(J.platform="DOS"),ne=b.generateWorker(this,J,J.comment||this.comment||"")}catch(de){(ne=new R("error")).error(de)}return new Y(ne,J.type||"string",J.mimeType)},generateAsync:function(N,ne){return this.generateInternalStream(N).accumulate(ne)},generateNodeStream:function(N,ne){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(ne)}};ie.exports=K},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(oe,ie,Q){"use strict";ie.exports=oe("stream")},{stream:void 0}],17:[function(oe,ie,Q){"use strict";var F=oe("./DataReader");function U(T){F.call(this,T);for(var R=0;R<this.data.length;R++)T[R]=255&T[R]}oe("../utils").inherits(U,F),U.prototype.byteAt=function(T){return this.data[this.zero+T]},U.prototype.lastIndexOfSignature=function(T){for(var R=T.charCodeAt(0),Y=T.charCodeAt(1),I=T.charCodeAt(2),L=T.charCodeAt(3),O=this.length-4;0<=O;--O)if(this.data[O]===R&&this.data[O+1]===Y&&this.data[O+2]===I&&this.data[O+3]===L)return O-this.zero;return-1},U.prototype.readAndCheckSignature=function(T){var R=T.charCodeAt(0),Y=T.charCodeAt(1),I=T.charCodeAt(2),L=T.charCodeAt(3),O=this.readData(4);return R===O[0]&&Y===O[1]&&I===O[2]&&L===O[3]},U.prototype.readData=function(T){if(this.checkOffset(T),0===T)return[];var R=this.data.slice(this.zero+this.index,this.zero+this.index+T);return this.index+=T,R},ie.exports=U},{"../utils":32,"./DataReader":18}],18:[function(oe,ie,Q){"use strict";var F=oe("../utils");function U(T){this.data=T,this.length=T.length,this.index=0,this.zero=0}U.prototype={checkOffset:function(T){this.checkIndex(this.index+T)},checkIndex:function(T){if(this.length<this.zero+T||T<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+T+"). Corrupted zip ?")},setIndex:function(T){this.checkIndex(T),this.index=T},skip:function(T){this.setIndex(this.index+T)},byteAt:function(){},readInt:function(T){var R,Y=0;for(this.checkOffset(T),R=this.index+T-1;R>=this.index;R--)Y=(Y<<8)+this.byteAt(R);return this.index+=T,Y},readString:function(T){return F.transformTo("string",this.readData(T))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var T=this.readInt(4);return new Date(Date.UTC(1980+(T>>25&127),(T>>21&15)-1,T>>16&31,T>>11&31,T>>5&63,(31&T)<<1))}},ie.exports=U},{"../utils":32}],19:[function(oe,ie,Q){"use strict";var F=oe("./Uint8ArrayReader");function U(T){F.call(this,T)}oe("../utils").inherits(U,F),U.prototype.readData=function(T){this.checkOffset(T);var R=this.data.slice(this.zero+this.index,this.zero+this.index+T);return this.index+=T,R},ie.exports=U},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(oe,ie,Q){"use strict";var F=oe("./DataReader");function U(T){F.call(this,T)}oe("../utils").inherits(U,F),U.prototype.byteAt=function(T){return this.data.charCodeAt(this.zero+T)},U.prototype.lastIndexOfSignature=function(T){return this.data.lastIndexOf(T)-this.zero},U.prototype.readAndCheckSignature=function(T){return T===this.readData(4)},U.prototype.readData=function(T){this.checkOffset(T);var R=this.data.slice(this.zero+this.index,this.zero+this.index+T);return this.index+=T,R},ie.exports=U},{"../utils":32,"./DataReader":18}],21:[function(oe,ie,Q){"use strict";var F=oe("./ArrayReader");function U(T){F.call(this,T)}oe("../utils").inherits(U,F),U.prototype.readData=function(T){if(this.checkOffset(T),0===T)return new Uint8Array(0);var R=this.data.subarray(this.zero+this.index,this.zero+this.index+T);return this.index+=T,R},ie.exports=U},{"../utils":32,"./ArrayReader":17}],22:[function(oe,ie,Q){"use strict";var F=oe("../utils"),U=oe("../support"),T=oe("./ArrayReader"),R=oe("./StringReader"),Y=oe("./NodeBufferReader"),I=oe("./Uint8ArrayReader");ie.exports=function(L){var O=F.getTypeOf(L);return F.checkSupport(O),"string"!==O||U.uint8array?"nodebuffer"===O?new Y(L):U.uint8array?new I(F.transformTo("uint8array",L)):new T(F.transformTo("array",L)):new R(L)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(oe,ie,Q){"use strict";Q.LOCAL_FILE_HEADER="PK\x03\x04",Q.CENTRAL_FILE_HEADER="PK\x01\x02",Q.CENTRAL_DIRECTORY_END="PK\x05\x06",Q.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",Q.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",Q.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(oe,ie,Q){"use strict";var F=oe("./GenericWorker"),U=oe("../utils");function T(R){F.call(this,"ConvertWorker to "+R),this.destType=R}U.inherits(T,F),T.prototype.processChunk=function(R){this.push({data:U.transformTo(this.destType,R.data),meta:R.meta})},ie.exports=T},{"../utils":32,"./GenericWorker":28}],25:[function(oe,ie,Q){"use strict";var F=oe("./GenericWorker"),U=oe("../crc32");function T(){F.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}oe("../utils").inherits(T,F),T.prototype.processChunk=function(R){this.streamInfo.crc32=U(R.data,this.streamInfo.crc32||0),this.push(R)},ie.exports=T},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(oe,ie,Q){"use strict";var F=oe("../utils"),U=oe("./GenericWorker");function T(R){U.call(this,"DataLengthProbe for "+R),this.propName=R,this.withStreamInfo(R,0)}F.inherits(T,U),T.prototype.processChunk=function(R){R&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+R.data.length),U.prototype.processChunk.call(this,R)},ie.exports=T},{"../utils":32,"./GenericWorker":28}],27:[function(oe,ie,Q){"use strict";var F=oe("../utils"),U=oe("./GenericWorker");function T(R){U.call(this,"DataWorker");var Y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,R.then(function(I){Y.dataIsReady=!0,Y.data=I,Y.max=I&&I.length||0,Y.type=F.getTypeOf(I),Y.isPaused||Y._tickAndRepeat()},function(I){Y.error(I)})}F.inherits(T,U),T.prototype.cleanUp=function(){U.prototype.cleanUp.call(this),this.data=null},T.prototype.resume=function(){return!!U.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,F.delay(this._tickAndRepeat,[],this)),!0)},T.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(F.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},T.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var R=null,Y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":R=this.data.substring(this.index,Y);break;case"uint8array":R=this.data.subarray(this.index,Y);break;case"array":case"nodebuffer":R=this.data.slice(this.index,Y)}return this.index=Y,this.push({data:R,meta:{percent:this.max?this.index/this.max*100:0}})},ie.exports=T},{"../utils":32,"./GenericWorker":28}],28:[function(oe,ie,Q){"use strict";function F(U){this.name=U||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}F.prototype={push:function(U){this.emit("data",U)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(U){this.emit("error",U)}return!0},error:function(U){return!this.isFinished&&(this.isPaused?this.generatedError=U:(this.isFinished=!0,this.emit("error",U),this.previous&&this.previous.error(U),this.cleanUp()),!0)},on:function(U,T){return this._listeners[U].push(T),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(U,T){if(this._listeners[U])for(var R=0;R<this._listeners[U].length;R++)this._listeners[U][R].call(this,T)},pipe:function(U){return U.registerPrevious(this)},registerPrevious:function(U){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=U.streamInfo,this.mergeStreamInfo(),this.previous=U;var T=this;return U.on("data",function(R){T.processChunk(R)}),U.on("end",function(){T.end()}),U.on("error",function(R){T.error(R)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var U=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),U=!0),this.previous&&this.previous.resume(),!U},flush:function(){},processChunk:function(U){this.push(U)},withStreamInfo:function(U,T){return this.extraStreamInfo[U]=T,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var U in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,U)&&(this.streamInfo[U]=this.extraStreamInfo[U])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var U="Worker "+this.name;return this.previous?this.previous+" -> "+U:U}},ie.exports=F},{}],29:[function(oe,ie,Q){"use strict";var F=oe("../utils"),U=oe("./ConvertWorker"),T=oe("./GenericWorker"),R=oe("../base64"),Y=oe("../support"),I=oe("../external"),L=null;if(Y.nodestream)try{L=oe("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(y,x,P){var k=x;switch(x){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=x,this._mimeType=P,F.checkSupport(k),this._worker=y.pipe(new U(k)),y.lock()}catch(C){this._worker=new T("error"),this._worker.error(C)}}b.prototype={accumulate:function(y){return function O(y,x){return new I.Promise(function(P,k){var C=[],z=y._internalType,K=y._outputType,N=y._mimeType;y.on("data",function(ne,J){C.push(ne),x&&x(J)}).on("error",function(ne){C=[],k(ne)}).on("end",function(){try{var ne=function(J,le,de){switch(J){case"blob":return F.newBlob(F.transformTo("arraybuffer",le),de);case"base64":return R.encode(le);default:return F.transformTo(J,le)}}(K,function(J,le){var de,ve=0,Ce=null,fe=0;for(de=0;de<le.length;de++)fe+=le[de].length;switch(J){case"string":return le.join("");case"array":return Array.prototype.concat.apply([],le);case"uint8array":for(Ce=new Uint8Array(fe),de=0;de<le.length;de++)Ce.set(le[de],ve),ve+=le[de].length;return Ce;case"nodebuffer":return Buffer.concat(le);default:throw new Error("concat : unsupported type '"+J+"'")}}(z,C),N);P(ne)}catch(J){k(J)}C=[]}).resume()})}(this,y)},on:function(y,x){var P=this;return this._worker.on(y,"data"===y?function(k){x.call(P,k.data,k.meta)}:function(){F.delay(x,arguments,P)}),this},resume:function(){return F.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(F.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new L(this,{objectMode:"nodebuffer"!==this._outputType},y)}},ie.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(oe,ie,Q){"use strict";if(Q.base64=!0,Q.array=!0,Q.string=!0,Q.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Q.nodebuffer=typeof Buffer<"u",Q.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")Q.blob=!1;else{var F=new ArrayBuffer(0);try{Q.blob=0===new Blob([F],{type:"application/zip"}).size}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);U.append(F),Q.blob=0===U.getBlob("application/zip").size}catch{Q.blob=!1}}}try{Q.nodestream=!!oe("readable-stream").Readable}catch{Q.nodestream=!1}},{"readable-stream":16}],31:[function(oe,ie,Q){"use strict";for(var F=oe("./utils"),U=oe("./support"),T=oe("./nodejsUtils"),R=oe("./stream/GenericWorker"),Y=new Array(256),I=0;I<256;I++)Y[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function L(){R.call(this,"utf-8 decode"),this.leftOver=null}function O(){R.call(this,"utf-8 encode")}Y[254]=Y[254]=1,Q.utf8encode=function(b){return U.nodebuffer?T.newBufferFrom(b,"utf-8"):function(y){var x,P,k,C,z,K=y.length,N=0;for(C=0;C<K;C++)55296==(64512&(P=y.charCodeAt(C)))&&C+1<K&&56320==(64512&(k=y.charCodeAt(C+1)))&&(P=65536+(P-55296<<10)+(k-56320),C++),N+=P<128?1:P<2048?2:P<65536?3:4;for(x=U.uint8array?new Uint8Array(N):new Array(N),C=z=0;z<N;C++)55296==(64512&(P=y.charCodeAt(C)))&&C+1<K&&56320==(64512&(k=y.charCodeAt(C+1)))&&(P=65536+(P-55296<<10)+(k-56320),C++),P<128?x[z++]=P:(P<2048?x[z++]=192|P>>>6:(P<65536?x[z++]=224|P>>>12:(x[z++]=240|P>>>18,x[z++]=128|P>>>12&63),x[z++]=128|P>>>6&63),x[z++]=128|63&P);return x}(b)},Q.utf8decode=function(b){return U.nodebuffer?F.transformTo("nodebuffer",b).toString("utf-8"):function(y){var x,P,k,C,z=y.length,K=new Array(2*z);for(x=P=0;x<z;)if((k=y[x++])<128)K[P++]=k;else if(4<(C=Y[k]))K[P++]=65533,x+=C-1;else{for(k&=2===C?31:3===C?15:7;1<C&&x<z;)k=k<<6|63&y[x++],C--;1<C?K[P++]=65533:k<65536?K[P++]=k:(K[P++]=55296|(k-=65536)>>10&1023,K[P++]=56320|1023&k)}return K.length!==P&&(K.subarray?K=K.subarray(0,P):K.length=P),F.applyFromCharCode(K)}(b=F.transformTo(U.uint8array?"uint8array":"array",b))},F.inherits(L,R),L.prototype.processChunk=function(b){var y=F.transformTo(U.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(U.uint8array){var x=y;(y=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),y.set(x,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var P=function(C,z){var K;for((z=z||C.length)>C.length&&(z=C.length),K=z-1;0<=K&&128==(192&C[K]);)K--;return K<0||0===K?z:K+Y[C[K]]>z?K:z}(y),k=y;P!==y.length&&(U.uint8array?(k=y.subarray(0,P),this.leftOver=y.subarray(P,y.length)):(k=y.slice(0,P),this.leftOver=y.slice(P,y.length))),this.push({data:Q.utf8decode(k),meta:b.meta})},L.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Q.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Q.Utf8DecodeWorker=L,F.inherits(O,R),O.prototype.processChunk=function(b){this.push({data:Q.utf8encode(b.data),meta:b.meta})},Q.Utf8EncodeWorker=O},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(oe,ie,Q){"use strict";var F=oe("./support"),U=oe("./base64"),T=oe("./nodejsUtils"),R=oe("./external");function Y(x){return x}function I(x,P){for(var k=0;k<x.length;++k)P[k]=255&x.charCodeAt(k);return P}oe("setimmediate"),Q.newBlob=function(x,P){Q.checkSupport("blob");try{return new Blob([x],{type:P})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(x),k.getBlob(P)}catch{throw new Error("Bug : can't construct the Blob.")}}};var L={stringifyByChunk:function(x,P,k){var C=[],z=0,K=x.length;if(K<=k)return String.fromCharCode.apply(null,x);for(;z<K;)C.push(String.fromCharCode.apply(null,"array"===P||"nodebuffer"===P?x.slice(z,Math.min(z+k,K)):x.subarray(z,Math.min(z+k,K)))),z+=k;return C.join("")},stringifyByChar:function(x){for(var P="",k=0;k<x.length;k++)P+=String.fromCharCode(x[k]);return P},applyCanBeUsed:{uint8array:function(){try{return F.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return F.nodebuffer&&1===String.fromCharCode.apply(null,T.allocBuffer(1)).length}catch{return!1}}()}};function O(x){var P=65536,k=Q.getTypeOf(x),C=!0;if("uint8array"===k?C=L.applyCanBeUsed.uint8array:"nodebuffer"===k&&(C=L.applyCanBeUsed.nodebuffer),C)for(;1<P;)try{return L.stringifyByChunk(x,k,P)}catch{P=Math.floor(P/2)}return L.stringifyByChar(x)}function b(x,P){for(var k=0;k<x.length;k++)P[k]=x[k];return P}Q.applyFromCharCode=O;var y={};y.string={string:Y,array:function(x){return I(x,new Array(x.length))},arraybuffer:function(x){return y.string.uint8array(x).buffer},uint8array:function(x){return I(x,new Uint8Array(x.length))},nodebuffer:function(x){return I(x,T.allocBuffer(x.length))}},y.array={string:O,array:Y,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return T.newBufferFrom(x)}},y.arraybuffer={string:function(x){return O(new Uint8Array(x))},array:function(x){return b(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:Y,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return T.newBufferFrom(new Uint8Array(x))}},y.uint8array={string:O,array:function(x){return b(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:Y,nodebuffer:function(x){return T.newBufferFrom(x)}},y.nodebuffer={string:O,array:function(x){return b(x,new Array(x.length))},arraybuffer:function(x){return y.nodebuffer.uint8array(x).buffer},uint8array:function(x){return b(x,new Uint8Array(x.length))},nodebuffer:Y},Q.transformTo=function(x,P){if(P=P||"",!x)return P;Q.checkSupport(x);var k=Q.getTypeOf(P);return y[k][x](P)},Q.resolve=function(x){for(var P=x.split("/"),k=[],C=0;C<P.length;C++){var z=P[C];"."===z||""===z&&0!==C&&C!==P.length-1||(".."===z?k.pop():k.push(z))}return k.join("/")},Q.getTypeOf=function(x){return"string"==typeof x?"string":"[object Array]"===Object.prototype.toString.call(x)?"array":F.nodebuffer&&T.isBuffer(x)?"nodebuffer":F.uint8array&&x instanceof Uint8Array?"uint8array":F.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},Q.checkSupport=function(x){if(!F[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},Q.MAX_VALUE_16BITS=65535,Q.MAX_VALUE_32BITS=-1,Q.pretty=function(x){var P,k,C="";for(k=0;k<(x||"").length;k++)C+="\\x"+((P=x.charCodeAt(k))<16?"0":"")+P.toString(16).toUpperCase();return C},Q.delay=function(x,P,k){setImmediate(function(){x.apply(k||null,P||[])})},Q.inherits=function(x,P){function k(){}k.prototype=P.prototype,x.prototype=new k},Q.extend=function(){var x,P,k={};for(x=0;x<arguments.length;x++)for(P in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],P)&&void 0===k[P]&&(k[P]=arguments[x][P]);return k},Q.prepareContent=function(x,P,k,C,z){return R.Promise.resolve(P).then(function(K){return F.blob&&(K instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(K)))&&typeof FileReader<"u"?new R.Promise(function(N,ne){var J=new FileReader;J.onload=function(le){N(le.target.result)},J.onerror=function(le){ne(le.target.error)},J.readAsArrayBuffer(K)}):K}).then(function(K){var ne,N=Q.getTypeOf(K);return N?("arraybuffer"===N?K=Q.transformTo("uint8array",K):"string"===N&&(z?K=U.decode(K):k&&!0!==C&&(K=I(ne=K,F.uint8array?new Uint8Array(ne.length):new Array(ne.length)))),K):R.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(oe,ie,Q){"use strict";var F=oe("./reader/readerFor"),U=oe("./utils"),T=oe("./signature"),R=oe("./zipEntry"),Y=oe("./support");function I(L){this.files=[],this.loadOptions=L}I.prototype={checkSignature:function(L){if(!this.reader.readAndCheckSignature(L)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+U.pretty(O)+", expected "+U.pretty(L)+")")}},isSignature:function(L,O){var b=this.reader.index;this.reader.setIndex(L);var y=this.reader.readString(4)===O;return this.reader.setIndex(b),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var L=this.reader.readData(this.zipCommentLength),b=U.transformTo(Y.uint8array?"uint8array":"array",L);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var L,O,b,y=this.zip64EndOfCentralSize-44;0<y;)L=this.reader.readInt(2),O=this.reader.readInt(4),b=this.reader.readData(O),this.zip64ExtensibleData[L]={id:L,length:O,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var L,O;for(L=0;L<this.files.length;L++)this.reader.setIndex((O=this.files[L]).localHeaderOffset),this.checkSignature(T.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var L;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(T.CENTRAL_FILE_HEADER);)(L=new R({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(L);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var L=this.reader.lastIndexOfSignature(T.CENTRAL_DIRECTORY_END);if(L<0)throw this.isSignature(0,T.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(L);var O=L;if(this.checkSignature(T.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===U.MAX_VALUE_16BITS||this.diskWithCentralDirStart===U.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===U.MAX_VALUE_16BITS||this.centralDirRecords===U.MAX_VALUE_16BITS||this.centralDirSize===U.MAX_VALUE_32BITS||this.centralDirOffset===U.MAX_VALUE_32BITS){if(this.zip64=!0,(L=this.reader.lastIndexOfSignature(T.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(L),this.checkSignature(T.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,T.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(T.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(T.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var y=O-b;if(0<y)this.isSignature(O,T.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(L){this.reader=F(L)},load:function(L){this.prepareReader(L),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ie.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(oe,ie,Q){"use strict";var F=oe("./reader/readerFor"),U=oe("./utils"),T=oe("./compressedObject"),R=oe("./crc32"),Y=oe("./utf8"),I=oe("./compressions"),L=oe("./support");function O(b,y){this.options=b,this.loadOptions=y}O.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(b){var y,x;if(b.skip(22),this.fileNameLength=b.readInt(2),x=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(x),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(y=function(P){for(var k in I)if(Object.prototype.hasOwnProperty.call(I,k)&&I[k].magic===P)return I[k];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+U.pretty(this.compressionMethod)+" unknown (inner file : "+U.transformTo("string",this.fileName)+")");this.decompressed=new T(this.compressedSize,this.uncompressedSize,this.crc32,y,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var y=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(y),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==b&&(this.dosPermissions=63&this.externalFileAttributes),3==b&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=F(this.extraFields[1].value);this.uncompressedSize===U.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===U.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===U.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===U.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var y,x,P,k=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<k;)y=b.readInt(2),x=b.readInt(2),P=b.readData(x),this.extraFields[y]={id:y,length:x,value:P};b.setIndex(k)},handleUTF8:function(){var b=L.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Y.utf8decode(this.fileName),this.fileCommentStr=Y.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(null!==y)this.fileNameStr=y;else{var x=U.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var P=this.findExtraFieldUnicodeComment();if(null!==P)this.fileCommentStr=P;else{var k=U.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var y=F(b.value);return 1!==y.readInt(1)||R(this.fileName)!==y.readInt(4)?null:Y.utf8decode(y.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var y=F(b.value);return 1!==y.readInt(1)||R(this.fileComment)!==y.readInt(4)?null:Y.utf8decode(y.readData(b.length-5))}return null}},ie.exports=O},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(oe,ie,Q){"use strict";function F(y,x,P){this.name=y,this.dir=P.dir,this.date=P.date,this.comment=P.comment,this.unixPermissions=P.unixPermissions,this.dosPermissions=P.dosPermissions,this._data=x,this._dataBinary=P.binary,this.options={compression:P.compression,compressionOptions:P.compressionOptions}}var U=oe("./stream/StreamHelper"),T=oe("./stream/DataWorker"),R=oe("./utf8"),Y=oe("./compressedObject"),I=oe("./stream/GenericWorker");F.prototype={internalStream:function(y){var x=null,P="string";try{if(!y)throw new Error("No output type specified.");var k="string"===(P=y.toLowerCase())||"text"===P;"binarystring"!==P&&"text"!==P||(P="string"),x=this._decompressWorker();var C=!this._dataBinary;C&&!k&&(x=x.pipe(new R.Utf8EncodeWorker)),!C&&k&&(x=x.pipe(new R.Utf8DecodeWorker))}catch(z){(x=new I("error")).error(z)}return new U(x,P,"")},async:function(y,x){return this.internalStream(y).accumulate(x)},nodeStream:function(y,x){return this.internalStream(y||"nodebuffer").toNodejsStream(x)},_compressWorker:function(y,x){if(this._data instanceof Y&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var P=this._decompressWorker();return this._dataBinary||(P=P.pipe(new R.Utf8EncodeWorker)),Y.createWorkerFrom(P,y,x)},_decompressWorker:function(){return this._data instanceof Y?this._data.getContentWorker():this._data instanceof I?this._data:new T(this._data)}};for(var L=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<L.length;b++)F.prototype[L[b]]=O;ie.exports=F},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(oe,ie,Q){(function(F){"use strict";var U,T,R=F.MutationObserver||F.WebKitMutationObserver;if(R){var Y=0,I=new R(y),L=F.document.createTextNode("");I.observe(L,{characterData:!0}),U=function(){L.data=Y=++Y%2}}else if(F.setImmediate||void 0===F.MessageChannel)U="document"in F&&"onreadystatechange"in F.document.createElement("script")?function(){var x=F.document.createElement("script");x.onreadystatechange=function(){y(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},F.document.documentElement.appendChild(x)}:function(){setTimeout(y,0)};else{var O=new F.MessageChannel;O.port1.onmessage=y,U=function(){O.port2.postMessage(0)}}var b=[];function y(){var x,P;T=!0;for(var k=b.length;k;){for(P=b,b=[],x=-1;++x<k;)P[x]();k=b.length}T=!1}ie.exports=function(x){1!==b.push(x)||T||U()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(oe,ie,Q){"use strict";var F=oe("immediate");function U(){}var T={},R=["REJECTED"],Y=["FULFILLED"],I=["PENDING"];function L(k){if("function"!=typeof k)throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,k!==U&&x(this,k)}function O(k,C,z){this.promise=k,"function"==typeof C&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),"function"==typeof z&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function b(k,C,z){F(function(){var K;try{K=C(z)}catch(N){return T.reject(k,N)}K===k?T.reject(k,new TypeError("Cannot resolve promise with itself")):T.resolve(k,K)})}function y(k){var C=k&&k.then;if(k&&("object"==typeof k||"function"==typeof k)&&"function"==typeof C)return function(){C.apply(k,arguments)}}function x(k,C){var z=!1;function K(J){z||(z=!0,T.reject(k,J))}function N(J){z||(z=!0,T.resolve(k,J))}var ne=P(function(){C(N,K)});"error"===ne.status&&K(ne.value)}function P(k,C){var z={};try{z.value=k(C),z.status="success"}catch(K){z.status="error",z.value=K}return z}(ie.exports=L).prototype.finally=function(k){if("function"!=typeof k)return this;var C=this.constructor;return this.then(function(z){return C.resolve(k()).then(function(){return z})},function(z){return C.resolve(k()).then(function(){throw z})})},L.prototype.catch=function(k){return this.then(null,k)},L.prototype.then=function(k,C){if("function"!=typeof k&&this.state===Y||"function"!=typeof C&&this.state===R)return this;var z=new this.constructor(U);return this.state!==I?b(z,this.state===Y?k:C,this.outcome):this.queue.push(new O(z,k,C)),z},O.prototype.callFulfilled=function(k){T.resolve(this.promise,k)},O.prototype.otherCallFulfilled=function(k){b(this.promise,this.onFulfilled,k)},O.prototype.callRejected=function(k){T.reject(this.promise,k)},O.prototype.otherCallRejected=function(k){b(this.promise,this.onRejected,k)},T.resolve=function(k,C){var z=P(y,C);if("error"===z.status)return T.reject(k,z.value);var K=z.value;if(K)x(k,K);else{k.state=Y,k.outcome=C;for(var N=-1,ne=k.queue.length;++N<ne;)k.queue[N].callFulfilled(C)}return k},T.reject=function(k,C){k.state=R,k.outcome=C;for(var z=-1,K=k.queue.length;++z<K;)k.queue[z].callRejected(C);return k},L.resolve=function(k){return k instanceof this?k:T.resolve(new this(U),k)},L.reject=function(k){var C=new this(U);return T.reject(C,k)},L.all=function(k){var C=this;if("[object Array]"!==Object.prototype.toString.call(k))return this.reject(new TypeError("must be an array"));var z=k.length,K=!1;if(!z)return this.resolve([]);for(var N=new Array(z),ne=0,J=-1,le=new this(U);++J<z;)de(k[J],J);return le;function de(ve,Ce){C.resolve(ve).then(function(fe){N[Ce]=fe,++ne!==z||K||(K=!0,T.resolve(le,N))},function(fe){K||(K=!0,T.reject(le,fe))})}},L.race=function(k){if("[object Array]"!==Object.prototype.toString.call(k))return this.reject(new TypeError("must be an array"));var z=k.length,K=!1;if(!z)return this.resolve([]);for(var N=-1,ne=new this(U);++N<z;)this.resolve(k[N]).then(function(le){K||(K=!0,T.resolve(ne,le))},function(le){K||(K=!0,T.reject(ne,le))});return ne}},{immediate:36}],38:[function(oe,ie,Q){"use strict";var F={};(0,oe("./lib/utils/common").assign)(F,oe("./lib/deflate"),oe("./lib/inflate"),oe("./lib/zlib/constants")),ie.exports=F},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(oe,ie,Q){"use strict";var F=oe("./zlib/deflate"),U=oe("./utils/common"),T=oe("./utils/strings"),R=oe("./zlib/messages"),Y=oe("./zlib/zstream"),I=Object.prototype.toString;function x(k){if(!(this instanceof x))return new x(k);this.options=U.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},k||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y,this.strm.avail_out=0;var z=F.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(0!==z)throw new Error(R[z]);if(C.header&&F.deflateSetHeader(this.strm,C.header),C.dictionary){var K;if(K="string"==typeof C.dictionary?T.string2buf(C.dictionary):"[object ArrayBuffer]"===I.call(C.dictionary)?new Uint8Array(C.dictionary):C.dictionary,0!==(z=F.deflateSetDictionary(this.strm,K)))throw new Error(R[z]);this._dict_set=!0}}function P(k,C){var z=new x(C);if(z.push(k,!0),z.err)throw z.msg||R[z.err];return z.result}x.prototype.push=function(k,C){var z,K,N=this.strm,ne=this.options.chunkSize;if(this.ended)return!1;K=C===~~C?C:!0===C?4:0,N.input="string"==typeof k?T.string2buf(k):"[object ArrayBuffer]"===I.call(k)?new Uint8Array(k):k,N.next_in=0,N.avail_in=N.input.length;do{if(0===N.avail_out&&(N.output=new U.Buf8(ne),N.next_out=0,N.avail_out=ne),1!==(z=F.deflate(N,K))&&0!==z)return this.onEnd(z),!(this.ended=!0);0!==N.avail_out&&(0!==N.avail_in||4!==K&&2!==K)||this.onData("string"===this.options.to?T.buf2binstring(U.shrinkBuf(N.output,N.next_out)):U.shrinkBuf(N.output,N.next_out))}while((0<N.avail_in||0===N.avail_out)&&1!==z);return 4===K?(z=F.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,0===z):2!==K||(this.onEnd(0),!(N.avail_out=0))},x.prototype.onData=function(k){this.chunks.push(k)},x.prototype.onEnd=function(k){0===k&&(this.result="string"===this.options.to?this.chunks.join(""):U.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},Q.Deflate=x,Q.deflate=P,Q.deflateRaw=function(k,C){return(C=C||{}).raw=!0,P(k,C)},Q.gzip=function(k,C){return(C=C||{}).gzip=!0,P(k,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(oe,ie,Q){"use strict";var F=oe("./zlib/inflate"),U=oe("./utils/common"),T=oe("./utils/strings"),R=oe("./zlib/constants"),Y=oe("./zlib/messages"),I=oe("./zlib/zstream"),L=oe("./zlib/gzheader"),O=Object.prototype.toString;function b(x){if(!(this instanceof b))return new b(x);this.options=U.assign({chunkSize:16384,windowBits:0,to:""},x||{});var P=this.options;P.raw&&0<=P.windowBits&&P.windowBits<16&&(P.windowBits=-P.windowBits,0===P.windowBits&&(P.windowBits=-15)),!(0<=P.windowBits&&P.windowBits<16)||x&&x.windowBits||(P.windowBits+=32),15<P.windowBits&&P.windowBits<48&&0==(15&P.windowBits)&&(P.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var k=F.inflateInit2(this.strm,P.windowBits);if(k!==R.Z_OK)throw new Error(Y[k]);this.header=new L,F.inflateGetHeader(this.strm,this.header)}function y(x,P){var k=new b(P);if(k.push(x,!0),k.err)throw k.msg||Y[k.err];return k.result}b.prototype.push=function(x,P){var k,C,z,K,N,ne,J=this.strm,le=this.options.chunkSize,de=this.options.dictionary,ve=!1;if(this.ended)return!1;C=P===~~P?P:!0===P?R.Z_FINISH:R.Z_NO_FLUSH,J.input="string"==typeof x?T.binstring2buf(x):"[object ArrayBuffer]"===O.call(x)?new Uint8Array(x):x,J.next_in=0,J.avail_in=J.input.length;do{if(0===J.avail_out&&(J.output=new U.Buf8(le),J.next_out=0,J.avail_out=le),(k=F.inflate(J,R.Z_NO_FLUSH))===R.Z_NEED_DICT&&de&&(ne="string"==typeof de?T.string2buf(de):"[object ArrayBuffer]"===O.call(de)?new Uint8Array(de):de,k=F.inflateSetDictionary(this.strm,ne)),k===R.Z_BUF_ERROR&&!0===ve&&(k=R.Z_OK,ve=!1),k!==R.Z_STREAM_END&&k!==R.Z_OK)return this.onEnd(k),!(this.ended=!0);J.next_out&&(0!==J.avail_out&&k!==R.Z_STREAM_END&&(0!==J.avail_in||C!==R.Z_FINISH&&C!==R.Z_SYNC_FLUSH)||("string"===this.options.to?(z=T.utf8border(J.output,J.next_out),K=J.next_out-z,N=T.buf2string(J.output,z),J.next_out=K,J.avail_out=le-K,K&&U.arraySet(J.output,J.output,z,K,0),this.onData(N)):this.onData(U.shrinkBuf(J.output,J.next_out)))),0===J.avail_in&&0===J.avail_out&&(ve=!0)}while((0<J.avail_in||0===J.avail_out)&&k!==R.Z_STREAM_END);return k===R.Z_STREAM_END&&(C=R.Z_FINISH),C===R.Z_FINISH?(k=F.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===R.Z_OK):C!==R.Z_SYNC_FLUSH||(this.onEnd(R.Z_OK),!(J.avail_out=0))},b.prototype.onData=function(x){this.chunks.push(x)},b.prototype.onEnd=function(x){x===R.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):U.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},Q.Inflate=b,Q.inflate=y,Q.inflateRaw=function(x,P){return(P=P||{}).raw=!0,y(x,P)},Q.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(oe,ie,Q){"use strict";var F=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";Q.assign=function(R){for(var Y=Array.prototype.slice.call(arguments,1);Y.length;){var I=Y.shift();if(I){if("object"!=typeof I)throw new TypeError(I+"must be non-object");for(var L in I)I.hasOwnProperty(L)&&(R[L]=I[L])}}return R},Q.shrinkBuf=function(R,Y){return R.length===Y?R:R.subarray?R.subarray(0,Y):(R.length=Y,R)};var U={arraySet:function(R,Y,I,L,O){if(Y.subarray&&R.subarray)R.set(Y.subarray(I,I+L),O);else for(var b=0;b<L;b++)R[O+b]=Y[I+b]},flattenChunks:function(R){var Y,I,L,O,b,y;for(Y=L=0,I=R.length;Y<I;Y++)L+=R[Y].length;for(y=new Uint8Array(L),Y=O=0,I=R.length;Y<I;Y++)y.set(b=R[Y],O),O+=b.length;return y}},T={arraySet:function(R,Y,I,L,O){for(var b=0;b<L;b++)R[O+b]=Y[I+b]},flattenChunks:function(R){return[].concat.apply([],R)}};Q.setTyped=function(R){R?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,U)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,T))},Q.setTyped(F)},{}],42:[function(oe,ie,Q){"use strict";var F=oe("./common"),U=!0,T=!0;try{String.fromCharCode.apply(null,[0])}catch{U=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{T=!1}for(var R=new F.Buf8(256),Y=0;Y<256;Y++)R[Y]=252<=Y?6:248<=Y?5:240<=Y?4:224<=Y?3:192<=Y?2:1;function I(L,O){if(O<65537&&(L.subarray&&T||!L.subarray&&U))return String.fromCharCode.apply(null,F.shrinkBuf(L,O));for(var b="",y=0;y<O;y++)b+=String.fromCharCode(L[y]);return b}R[254]=R[254]=1,Q.string2buf=function(L){var O,b,y,x,P,k=L.length,C=0;for(x=0;x<k;x++)55296==(64512&(b=L.charCodeAt(x)))&&x+1<k&&56320==(64512&(y=L.charCodeAt(x+1)))&&(b=65536+(b-55296<<10)+(y-56320),x++),C+=b<128?1:b<2048?2:b<65536?3:4;for(O=new F.Buf8(C),x=P=0;P<C;x++)55296==(64512&(b=L.charCodeAt(x)))&&x+1<k&&56320==(64512&(y=L.charCodeAt(x+1)))&&(b=65536+(b-55296<<10)+(y-56320),x++),b<128?O[P++]=b:(b<2048?O[P++]=192|b>>>6:(b<65536?O[P++]=224|b>>>12:(O[P++]=240|b>>>18,O[P++]=128|b>>>12&63),O[P++]=128|b>>>6&63),O[P++]=128|63&b);return O},Q.buf2binstring=function(L){return I(L,L.length)},Q.binstring2buf=function(L){for(var O=new F.Buf8(L.length),b=0,y=O.length;b<y;b++)O[b]=L.charCodeAt(b);return O},Q.buf2string=function(L,O){var b,y,x,P,k=O||L.length,C=new Array(2*k);for(b=y=0;b<k;)if((x=L[b++])<128)C[y++]=x;else if(4<(P=R[x]))C[y++]=65533,b+=P-1;else{for(x&=2===P?31:3===P?15:7;1<P&&b<k;)x=x<<6|63&L[b++],P--;1<P?C[y++]=65533:x<65536?C[y++]=x:(C[y++]=55296|(x-=65536)>>10&1023,C[y++]=56320|1023&x)}return I(C,y)},Q.utf8border=function(L,O){var b;for((O=O||L.length)>L.length&&(O=L.length),b=O-1;0<=b&&128==(192&L[b]);)b--;return b<0||0===b?O:b+R[L[b]]>O?b:O}},{"./common":41}],43:[function(oe,ie,Q){"use strict";ie.exports=function(F,U,T,R){for(var Y=65535&F|0,I=F>>>16&65535|0,L=0;0!==T;){for(T-=L=2e3<T?2e3:T;I=I+(Y=Y+U[R++]|0)|0,--L;);Y%=65521,I%=65521}return Y|I<<16|0}},{}],44:[function(oe,ie,Q){"use strict";ie.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(oe,ie,Q){"use strict";var F=function(){for(var U,T=[],R=0;R<256;R++){U=R;for(var Y=0;Y<8;Y++)U=1&U?3988292384^U>>>1:U>>>1;T[R]=U}return T}();ie.exports=function(U,T,R,Y){var I=F,L=Y+R;U^=-1;for(var O=Y;O<L;O++)U=U>>>8^I[255&(U^T[O])];return-1^U}},{}],46:[function(oe,ie,Q){"use strict";var F,U=oe("../utils/common"),T=oe("./trees"),R=oe("./adler32"),Y=oe("./crc32"),I=oe("./messages"),y=-2,ve=258,Ce=262;function yt(V,Oe){return V.msg=I[Oe],Oe}function We(V){return(V<<1)-(4<V?9:0)}function it(V){for(var Oe=V.length;0<=--Oe;)V[Oe]=0}function Te(V){var Oe=V.state,Me=Oe.pending;Me>V.avail_out&&(Me=V.avail_out),0!==Me&&(U.arraySet(V.output,Oe.pending_buf,Oe.pending_out,Me,V.next_out),V.next_out+=Me,Oe.pending_out+=Me,V.total_out+=Me,V.avail_out-=Me,Oe.pending-=Me,0===Oe.pending&&(Oe.pending_out=0))}function we(V,Oe){T._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Oe),V.block_start=V.strstart,Te(V.strm)}function pt(V,Oe){V.pending_buf[V.pending++]=Oe}function Xe(V,Oe){V.pending_buf[V.pending++]=Oe>>>8&255,V.pending_buf[V.pending++]=255&Oe}function Pe(V,Oe){var Me,he,ce=V.max_chain_length,_=V.strstart,m=V.prev_length,v=V.nice_match,w=V.strstart>V.w_size-Ce?V.strstart-(V.w_size-Ce):0,G=V.window,ee=V.w_mask,X=V.prev,ue=V.strstart+ve,ge=G[_+m-1],ye=G[_+m];V.prev_length>=V.good_match&&(ce>>=2),v>V.lookahead&&(v=V.lookahead);do{if(G[(Me=Oe)+m]===ye&&G[Me+m-1]===ge&&G[Me]===G[_]&&G[++Me]===G[_+1]){_+=2,Me++;do{}while(G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&G[++_]===G[++Me]&&_<ue);if(he=ve-(ue-_),_=ue-ve,m<he){if(V.match_start=Oe,v<=(m=he))break;ge=G[_+m-1],ye=G[_+m]}}}while((Oe=X[Oe&ee])>w&&0!=--ce);return m<=V.lookahead?m:V.lookahead}function mn(V){var Oe,Me,he,ce,_,m,v,w,G,ee,X=V.w_size;do{if(ce=V.window_size-V.lookahead-V.strstart,V.strstart>=X+(X-Ce)){for(U.arraySet(V.window,V.window,X,X,0),V.match_start-=X,V.strstart-=X,V.block_start-=X,Oe=Me=V.hash_size;he=V.head[--Oe],V.head[Oe]=X<=he?he-X:0,--Me;);for(Oe=Me=X;he=V.prev[--Oe],V.prev[Oe]=X<=he?he-X:0,--Me;);ce+=X}if(0===V.strm.avail_in)break;if(v=V.window,w=V.strstart+V.lookahead,ee=void 0,(G=ce)<(ee=(m=V.strm).avail_in)&&(ee=G),Me=0===ee?0:(m.avail_in-=ee,U.arraySet(v,m.input,m.next_in,ee,w),1===m.state.wrap?m.adler=R(m.adler,v,ee,w):2===m.state.wrap&&(m.adler=Y(m.adler,v,ee,w)),m.next_in+=ee,m.total_in+=ee,ee),V.lookahead+=Me,V.lookahead+V.insert>=3)for(V.ins_h=V.window[_=V.strstart-V.insert],V.ins_h=(V.ins_h<<V.hash_shift^V.window[_+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[_+3-1])&V.hash_mask,V.prev[_&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=_,_++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<Ce&&0!==V.strm.avail_in)}function Ln(V,Oe){for(var Me,he;;){if(V.lookahead<Ce){if(mn(V),V.lookahead<Ce&&0===Oe)return 1;if(0===V.lookahead)break}if(Me=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,Me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),0!==Me&&V.strstart-Me<=V.w_size-Ce&&(V.match_length=Pe(V,Me)),V.match_length>=3)if(he=T._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,Me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,0!=--V.match_length;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else he=T._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(he&&(we(V,!1),0===V.strm.avail_out))return 1}return V.insert=V.strstart<2?V.strstart:2,4===Oe?(we(V,!0),0===V.strm.avail_out?3:4):V.last_lit&&(we(V,!1),0===V.strm.avail_out)?1:2}function gt(V,Oe){for(var Me,he,ce;;){if(V.lookahead<Ce){if(mn(V),V.lookahead<Ce&&0===Oe)return 1;if(0===V.lookahead)break}if(Me=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,Me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,0!==Me&&V.prev_length<V.max_lazy_match&&V.strstart-Me<=V.w_size-Ce&&(V.match_length=Pe(V,Me),V.match_length<=5&&(1===V.strategy||3===V.match_length&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(ce=V.strstart+V.lookahead-3,he=T._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=ce&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,Me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),0!=--V.prev_length;);if(V.match_available=0,V.match_length=2,V.strstart++,he&&(we(V,!1),0===V.strm.avail_out))return 1}else if(V.match_available){if((he=T._tr_tally(V,0,V.window[V.strstart-1]))&&we(V,!1),V.strstart++,V.lookahead--,0===V.strm.avail_out)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(he=T._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,4===Oe?(we(V,!0),0===V.strm.avail_out?3:4):V.last_lit&&(we(V,!1),0===V.strm.avail_out)?1:2}function Dt(V,Oe,Me,he,ce){this.good_length=V,this.max_lazy=Oe,this.nice_length=Me,this.max_chain=he,this.func=ce}function _n(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new U.Buf16(1146),this.dyn_dtree=new U.Buf16(122),this.bl_tree=new U.Buf16(78),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new U.Buf16(16),this.heap=new U.Buf16(573),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new U.Buf16(573),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function jt(V){var Oe;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(Oe=V.state).pending=0,Oe.pending_out=0,Oe.wrap<0&&(Oe.wrap=-Oe.wrap),Oe.status=Oe.wrap?42:113,V.adler=2===Oe.wrap?0:1,Oe.last_flush=0,T._tr_init(Oe),0):yt(V,y)}function Jn(V){var Me,Oe=jt(V);return 0===Oe&&((Me=V.state).window_size=2*Me.w_size,it(Me.head),Me.max_lazy_match=F[Me.level].max_lazy,Me.good_match=F[Me.level].good_length,Me.nice_match=F[Me.level].nice_length,Me.max_chain_length=F[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=2,Me.match_available=0,Me.ins_h=0),Oe}function ri(V,Oe,Me,he,ce,_){if(!V)return y;var m=1;if(-1===Oe&&(Oe=6),he<0?(m=0,he=-he):15<he&&(m=2,he-=16),ce<1||9<ce||8!==Me||he<8||15<he||Oe<0||9<Oe||_<0||4<_)return yt(V,y);8===he&&(he=9);var v=new _n;return(V.state=v).strm=V,v.wrap=m,v.gzhead=null,v.w_bits=he,v.w_size=1<<v.w_bits,v.w_mask=v.w_size-1,v.hash_bits=ce+7,v.hash_size=1<<v.hash_bits,v.hash_mask=v.hash_size-1,v.hash_shift=~~((v.hash_bits+3-1)/3),v.window=new U.Buf8(2*v.w_size),v.head=new U.Buf16(v.hash_size),v.prev=new U.Buf16(v.w_size),v.lit_bufsize=1<<ce+6,v.pending_buf_size=4*v.lit_bufsize,v.pending_buf=new U.Buf8(v.pending_buf_size),v.d_buf=1*v.lit_bufsize,v.l_buf=3*v.lit_bufsize,v.level=Oe,v.strategy=_,v.method=Me,Jn(V)}F=[new Dt(0,0,0,0,function(V,Oe){var Me=65535;for(Me>V.pending_buf_size-5&&(Me=V.pending_buf_size-5);;){if(V.lookahead<=1){if(mn(V),0===V.lookahead&&0===Oe)return 1;if(0===V.lookahead)break}V.strstart+=V.lookahead,V.lookahead=0;var he=V.block_start+Me;if((0===V.strstart||V.strstart>=he)&&(V.lookahead=V.strstart-he,V.strstart=he,we(V,!1),0===V.strm.avail_out)||V.strstart-V.block_start>=V.w_size-Ce&&(we(V,!1),0===V.strm.avail_out))return 1}return V.insert=0,4===Oe?(we(V,!0),0===V.strm.avail_out?3:4):(V.strstart>V.block_start&&we(V,!1),1)}),new Dt(4,4,8,4,Ln),new Dt(4,5,16,8,Ln),new Dt(4,6,32,32,Ln),new Dt(4,4,16,16,gt),new Dt(8,16,32,32,gt),new Dt(8,16,128,128,gt),new Dt(8,32,128,256,gt),new Dt(32,128,258,1024,gt),new Dt(32,258,258,4096,gt)],Q.deflateInit=function(V,Oe){return ri(V,Oe,8,15,8,0)},Q.deflateInit2=ri,Q.deflateReset=Jn,Q.deflateResetKeep=jt,Q.deflateSetHeader=function(V,Oe){return V&&V.state?2!==V.state.wrap?y:(V.state.gzhead=Oe,0):y},Q.deflate=function(V,Oe){var Me,he,ce,_;if(!V||!V.state||5<Oe||Oe<0)return V?yt(V,y):y;if(he=V.state,!V.output||!V.input&&0!==V.avail_in||666===he.status&&4!==Oe)return yt(V,0===V.avail_out?-5:y);if(he.strm=V,Me=he.last_flush,he.last_flush=Oe,42===he.status)if(2===he.wrap)V.adler=0,pt(he,31),pt(he,139),pt(he,8),he.gzhead?(pt(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),pt(he,255&he.gzhead.time),pt(he,he.gzhead.time>>8&255),pt(he,he.gzhead.time>>16&255),pt(he,he.gzhead.time>>24&255),pt(he,9===he.level?2:2<=he.strategy||he.level<2?4:0),pt(he,255&he.gzhead.os),he.gzhead.extra&&he.gzhead.extra.length&&(pt(he,255&he.gzhead.extra.length),pt(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(V.adler=Y(V.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=69):(pt(he,0),pt(he,0),pt(he,0),pt(he,0),pt(he,0),pt(he,9===he.level?2:2<=he.strategy||he.level<2?4:0),pt(he,3),he.status=113);else{var m=8+(he.w_bits-8<<4)<<8;m|=(2<=he.strategy||he.level<2?0:he.level<6?1:6===he.level?2:3)<<6,0!==he.strstart&&(m|=32),m+=31-m%31,he.status=113,Xe(he,m),0!==he.strstart&&(Xe(he,V.adler>>>16),Xe(he,65535&V.adler)),V.adler=1}if(69===he.status)if(he.gzhead.extra){for(ce=he.pending;he.gzindex<(65535&he.gzhead.extra.length)&&(he.pending!==he.pending_buf_size||(he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),Te(V),ce=he.pending,he.pending!==he.pending_buf_size));)pt(he,255&he.gzhead.extra[he.gzindex]),he.gzindex++;he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=73)}else he.status=73;if(73===he.status)if(he.gzhead.name){ce=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),Te(V),ce=he.pending,he.pending===he.pending_buf_size)){_=1;break}_=he.gzindex<he.gzhead.name.length?255&he.gzhead.name.charCodeAt(he.gzindex++):0,pt(he,_)}while(0!==_);he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),0===_&&(he.gzindex=0,he.status=91)}else he.status=91;if(91===he.status)if(he.gzhead.comment){ce=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),Te(V),ce=he.pending,he.pending===he.pending_buf_size)){_=1;break}_=he.gzindex<he.gzhead.comment.length?255&he.gzhead.comment.charCodeAt(he.gzindex++):0,pt(he,_)}while(0!==_);he.gzhead.hcrc&&he.pending>ce&&(V.adler=Y(V.adler,he.pending_buf,he.pending-ce,ce)),0===_&&(he.status=103)}else he.status=103;if(103===he.status&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&Te(V),he.pending+2<=he.pending_buf_size&&(pt(he,255&V.adler),pt(he,V.adler>>8&255),V.adler=0,he.status=113)):he.status=113),0!==he.pending){if(Te(V),0===V.avail_out)return he.last_flush=-1,0}else if(0===V.avail_in&&We(Oe)<=We(Me)&&4!==Oe)return yt(V,-5);if(666===he.status&&0!==V.avail_in)return yt(V,-5);if(0!==V.avail_in||0!==he.lookahead||0!==Oe&&666!==he.status){var v=2===he.strategy?function(w,G){for(var ee;;){if(0===w.lookahead&&(mn(w),0===w.lookahead)){if(0===G)return 1;break}if(w.match_length=0,ee=T._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,ee&&(we(w,!1),0===w.strm.avail_out))return 1}return w.insert=0,4===G?(we(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(we(w,!1),0===w.strm.avail_out)?1:2}(he,Oe):3===he.strategy?function(w,G){for(var ee,X,ue,ge,ye=w.window;;){if(w.lookahead<=ve){if(mn(w),w.lookahead<=ve&&0===G)return 1;if(0===w.lookahead)break}if(w.match_length=0,w.lookahead>=3&&0<w.strstart&&(X=ye[ue=w.strstart-1])===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]){ge=w.strstart+ve;do{}while(X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&X===ye[++ue]&&ue<ge);w.match_length=ve-(ge-ue),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=3?(ee=T._tr_tally(w,1,w.match_length-3),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(ee=T._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),ee&&(we(w,!1),0===w.strm.avail_out))return 1}return w.insert=0,4===G?(we(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(we(w,!1),0===w.strm.avail_out)?1:2}(he,Oe):F[he.level].func(he,Oe);if(3!==v&&4!==v||(he.status=666),1===v||3===v)return 0===V.avail_out&&(he.last_flush=-1),0;if(2===v&&(1===Oe?T._tr_align(he):5!==Oe&&(T._tr_stored_block(he,0,0,!1),3===Oe&&(it(he.head),0===he.lookahead&&(he.strstart=0,he.block_start=0,he.insert=0))),Te(V),0===V.avail_out))return he.last_flush=-1,0}return 4!==Oe?0:he.wrap<=0?1:(2===he.wrap?(pt(he,255&V.adler),pt(he,V.adler>>8&255),pt(he,V.adler>>16&255),pt(he,V.adler>>24&255),pt(he,255&V.total_in),pt(he,V.total_in>>8&255),pt(he,V.total_in>>16&255),pt(he,V.total_in>>24&255)):(Xe(he,V.adler>>>16),Xe(he,65535&V.adler)),Te(V),0<he.wrap&&(he.wrap=-he.wrap),0!==he.pending?0:1)},Q.deflateEnd=function(V){var Oe;return V&&V.state?42!==(Oe=V.state.status)&&69!==Oe&&73!==Oe&&91!==Oe&&103!==Oe&&113!==Oe&&666!==Oe?yt(V,y):(V.state=null,113===Oe?yt(V,-3):0):y},Q.deflateSetDictionary=function(V,Oe){var Me,he,ce,_,m,v,w,G,ee=Oe.length;if(!V||!V.state||2===(_=(Me=V.state).wrap)||1===_&&42!==Me.status||Me.lookahead)return y;for(1===_&&(V.adler=R(V.adler,Oe,ee,0)),Me.wrap=0,ee>=Me.w_size&&(0===_&&(it(Me.head),Me.strstart=0,Me.block_start=0,Me.insert=0),G=new U.Buf8(Me.w_size),U.arraySet(G,Oe,ee-Me.w_size,Me.w_size,0),Oe=G,ee=Me.w_size),m=V.avail_in,v=V.next_in,w=V.input,V.avail_in=ee,V.next_in=0,V.input=Oe,mn(Me);Me.lookahead>=3;){for(he=Me.strstart,ce=Me.lookahead-2;Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[he+3-1])&Me.hash_mask,Me.prev[he&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=he,he++,--ce;);Me.strstart=he,Me.lookahead=2,mn(Me)}return Me.strstart+=Me.lookahead,Me.block_start=Me.strstart,Me.insert=Me.lookahead,Me.lookahead=0,Me.match_length=Me.prev_length=2,Me.match_available=0,V.next_in=v,V.input=w,V.avail_in=m,Me.wrap=_,0},Q.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(oe,ie,Q){"use strict";ie.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(oe,ie,Q){"use strict";ie.exports=function(F,U){var T,R,Y,I,L,O,b,y,x,P,k,C,z,K,N,ne,J,le,de,ve,Ce,fe,De,W,Re;W=F.input,Y=(R=F.next_in)+(F.avail_in-5),Re=F.output,L=(I=F.next_out)-(U-F.avail_out),O=I+(F.avail_out-257),b=(T=F.state).dmax,y=T.wsize,x=T.whave,P=T.wnext,k=T.window,C=T.hold,z=T.bits,K=T.lencode,N=T.distcode,ne=(1<<T.lenbits)-1,J=(1<<T.distbits)-1;e:do{z<15&&(C+=W[R++]<<z,C+=W[R++]<<(z+=8),z+=8),le=K[C&ne];t:for(;;){if(C>>>=de=le>>>24,z-=de,0==(de=le>>>16&255))Re[I++]=65535&le;else{if(!(16&de)){if(0==(64&de)){le=K[(65535&le)+(C&(1<<de)-1)];continue t}if(32&de){T.mode=12;break e}F.msg="invalid literal/length code",T.mode=30;break e}ve=65535&le,(de&=15)&&(z<de&&(C+=W[R++]<<z,z+=8),ve+=C&(1<<de)-1,C>>>=de,z-=de),z<15&&(C+=W[R++]<<z,C+=W[R++]<<(z+=8),z+=8),le=N[C&J];n:for(;;){if(C>>>=de=le>>>24,z-=de,!(16&(de=le>>>16&255))){if(0==(64&de)){le=N[(65535&le)+(C&(1<<de)-1)];continue n}F.msg="invalid distance code",T.mode=30;break e}if(Ce=65535&le,z<(de&=15)&&(C+=W[R++]<<z,(z+=8)<de&&(C+=W[R++]<<z,z+=8)),b<(Ce+=C&(1<<de)-1)){F.msg="invalid distance too far back",T.mode=30;break e}if(C>>>=de,z-=de,(de=I-L)<Ce){if(x<(de=Ce-de)&&T.sane){F.msg="invalid distance too far back",T.mode=30;break e}if(De=k,(fe=0)===P){if(fe+=y-de,de<ve){for(ve-=de;Re[I++]=k[fe++],--de;);fe=I-Ce,De=Re}}else if(P<de){if(fe+=y+P-de,(de-=P)<ve){for(ve-=de;Re[I++]=k[fe++],--de;);if(fe=0,P<ve){for(ve-=de=P;Re[I++]=k[fe++],--de;);fe=I-Ce,De=Re}}}else if(fe+=P-de,de<ve){for(ve-=de;Re[I++]=k[fe++],--de;);fe=I-Ce,De=Re}for(;2<ve;)Re[I++]=De[fe++],Re[I++]=De[fe++],Re[I++]=De[fe++],ve-=3;ve&&(Re[I++]=De[fe++],1<ve&&(Re[I++]=De[fe++]))}else{for(fe=I-Ce;Re[I++]=Re[fe++],Re[I++]=Re[fe++],Re[I++]=Re[fe++],2<(ve-=3););ve&&(Re[I++]=Re[fe++],1<ve&&(Re[I++]=Re[fe++]))}break}}break}}while(R<Y&&I<O);R-=ve=z>>3,C&=(1<<(z-=ve<<3))-1,F.next_in=R,F.next_out=I,F.avail_in=R<Y?Y-R+5:5-(R-Y),F.avail_out=I<O?O-I+257:257-(I-O),T.hold=C,T.bits=z}},{}],49:[function(oe,ie,Q){"use strict";var F=oe("../utils/common"),U=oe("./adler32"),T=oe("./crc32"),R=oe("./inffast"),Y=oe("./inftrees"),b=-2;function k(fe){return(fe>>>24&255)+(fe>>>8&65280)+((65280&fe)<<8)+((255&fe)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new F.Buf16(320),this.work=new F.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(fe){var De;return fe&&fe.state?(fe.total_in=fe.total_out=(De=fe.state).total=0,fe.msg="",De.wrap&&(fe.adler=1&De.wrap),De.mode=1,De.last=0,De.havedict=0,De.dmax=32768,De.head=null,De.hold=0,De.bits=0,De.lencode=De.lendyn=new F.Buf32(852),De.distcode=De.distdyn=new F.Buf32(592),De.sane=1,De.back=-1,0):b}function K(fe){var De;return fe&&fe.state?((De=fe.state).wsize=0,De.whave=0,De.wnext=0,z(fe)):b}function N(fe,De){var W,Re;return fe&&fe.state?(Re=fe.state,De<0?(W=0,De=-De):(W=1+(De>>4),De<48&&(De&=15)),De&&(De<8||15<De)?b:(null!==Re.window&&Re.wbits!==De&&(Re.window=null),Re.wrap=W,Re.wbits=De,K(fe))):b}function ne(fe,De){var W,Re;return fe?(Re=new C,(fe.state=Re).window=null,0!==(W=N(fe,De))&&(fe.state=null),W):b}var J,le,de=!0;function ve(fe){if(de){var De;for(J=new F.Buf32(512),le=new F.Buf32(32),De=0;De<144;)fe.lens[De++]=8;for(;De<256;)fe.lens[De++]=9;for(;De<280;)fe.lens[De++]=7;for(;De<288;)fe.lens[De++]=8;for(Y(1,fe.lens,0,288,J,0,fe.work,{bits:9}),De=0;De<32;)fe.lens[De++]=5;Y(2,fe.lens,0,32,le,0,fe.work,{bits:5}),de=!1}fe.lencode=J,fe.lenbits=9,fe.distcode=le,fe.distbits=5}function Ce(fe,De,W,Re){var lt,Ve=fe.state;return null===Ve.window&&(Ve.wsize=1<<Ve.wbits,Ve.wnext=0,Ve.whave=0,Ve.window=new F.Buf8(Ve.wsize)),Re>=Ve.wsize?(F.arraySet(Ve.window,De,W-Ve.wsize,Ve.wsize,0),Ve.wnext=0,Ve.whave=Ve.wsize):(Re<(lt=Ve.wsize-Ve.wnext)&&(lt=Re),F.arraySet(Ve.window,De,W-Re,lt,Ve.wnext),(Re-=lt)?(F.arraySet(Ve.window,De,W-Re,Re,0),Ve.wnext=Re,Ve.whave=Ve.wsize):(Ve.wnext+=lt,Ve.wnext===Ve.wsize&&(Ve.wnext=0),Ve.whave<Ve.wsize&&(Ve.whave+=lt))),0}Q.inflateReset=K,Q.inflateReset2=N,Q.inflateResetKeep=z,Q.inflateInit=function(fe){return ne(fe,15)},Q.inflateInit2=ne,Q.inflate=function(fe,De){var W,Re,lt,Ve,yt,We,it,Te,we,pt,Xe,Pe,mn,Ln,gt,Dt,_n,jt,Jn,ri,V,Oe,Me,he,ce=0,_=new F.Buf8(4),m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!fe||!fe.state||!fe.output||!fe.input&&0!==fe.avail_in)return b;12===(W=fe.state).mode&&(W.mode=13),yt=fe.next_out,lt=fe.output,Ve=fe.next_in,Re=fe.input,Te=W.hold,we=W.bits,pt=We=fe.avail_in,Xe=it=fe.avail_out,Oe=0;e:for(;;)switch(W.mode){case 1:if(0===W.wrap){W.mode=13;break}for(;we<16;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(2&W.wrap&&35615===Te){_[W.check=0]=255&Te,_[1]=Te>>>8&255,W.check=T(W.check,_,2,0),we=Te=0,W.mode=2;break}if(W.flags=0,W.head&&(W.head.done=!1),!(1&W.wrap)||(((255&Te)<<8)+(Te>>8))%31){fe.msg="incorrect header check",W.mode=30;break}if(8!=(15&Te)){fe.msg="unknown compression method",W.mode=30;break}if(we-=4,V=8+(15&(Te>>>=4)),0===W.wbits)W.wbits=V;else if(V>W.wbits){fe.msg="invalid window size",W.mode=30;break}W.dmax=1<<V,fe.adler=W.check=1,W.mode=512&Te?10:12,we=Te=0;break;case 2:for(;we<16;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(W.flags=Te,8!=(255&W.flags)){fe.msg="unknown compression method",W.mode=30;break}if(57344&W.flags){fe.msg="unknown header flags set",W.mode=30;break}W.head&&(W.head.text=Te>>8&1),512&W.flags&&(_[0]=255&Te,_[1]=Te>>>8&255,W.check=T(W.check,_,2,0)),we=Te=0,W.mode=3;case 3:for(;we<32;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.head&&(W.head.time=Te),512&W.flags&&(_[0]=255&Te,_[1]=Te>>>8&255,_[2]=Te>>>16&255,_[3]=Te>>>24&255,W.check=T(W.check,_,4,0)),we=Te=0,W.mode=4;case 4:for(;we<16;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.head&&(W.head.xflags=255&Te,W.head.os=Te>>8),512&W.flags&&(_[0]=255&Te,_[1]=Te>>>8&255,W.check=T(W.check,_,2,0)),we=Te=0,W.mode=5;case 5:if(1024&W.flags){for(;we<16;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.length=Te,W.head&&(W.head.extra_len=Te),512&W.flags&&(_[0]=255&Te,_[1]=Te>>>8&255,W.check=T(W.check,_,2,0)),we=Te=0}else W.head&&(W.head.extra=null);W.mode=6;case 6:if(1024&W.flags&&(We<(Pe=W.length)&&(Pe=We),Pe&&(W.head&&(V=W.head.extra_len-W.length,W.head.extra||(W.head.extra=new Array(W.head.extra_len)),F.arraySet(W.head.extra,Re,Ve,Pe,V)),512&W.flags&&(W.check=T(W.check,Re,Pe,Ve)),We-=Pe,Ve+=Pe,W.length-=Pe),W.length))break e;W.length=0,W.mode=7;case 7:if(2048&W.flags){if(0===We)break e;for(Pe=0;V=Re[Ve+Pe++],W.head&&V&&W.length<65536&&(W.head.name+=String.fromCharCode(V)),V&&Pe<We;);if(512&W.flags&&(W.check=T(W.check,Re,Pe,Ve)),We-=Pe,Ve+=Pe,V)break e}else W.head&&(W.head.name=null);W.length=0,W.mode=8;case 8:if(4096&W.flags){if(0===We)break e;for(Pe=0;V=Re[Ve+Pe++],W.head&&V&&W.length<65536&&(W.head.comment+=String.fromCharCode(V)),V&&Pe<We;);if(512&W.flags&&(W.check=T(W.check,Re,Pe,Ve)),We-=Pe,Ve+=Pe,V)break e}else W.head&&(W.head.comment=null);W.mode=9;case 9:if(512&W.flags){for(;we<16;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(Te!==(65535&W.check)){fe.msg="header crc mismatch",W.mode=30;break}we=Te=0}W.head&&(W.head.hcrc=W.flags>>9&1,W.head.done=!0),fe.adler=W.check=0,W.mode=12;break;case 10:for(;we<32;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}fe.adler=W.check=k(Te),we=Te=0,W.mode=11;case 11:if(0===W.havedict)return fe.next_out=yt,fe.avail_out=it,fe.next_in=Ve,fe.avail_in=We,W.hold=Te,W.bits=we,2;fe.adler=W.check=1,W.mode=12;case 12:if(5===De||6===De)break e;case 13:if(W.last){Te>>>=7&we,we-=7&we,W.mode=27;break}for(;we<3;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}switch(W.last=1&Te,we-=1,3&(Te>>>=1)){case 0:W.mode=14;break;case 1:if(ve(W),W.mode=20,6!==De)break;Te>>>=2,we-=2;break e;case 2:W.mode=17;break;case 3:fe.msg="invalid block type",W.mode=30}Te>>>=2,we-=2;break;case 14:for(Te>>>=7&we,we-=7&we;we<32;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if((65535&Te)!=(Te>>>16^65535)){fe.msg="invalid stored block lengths",W.mode=30;break}if(W.length=65535&Te,we=Te=0,W.mode=15,6===De)break e;case 15:W.mode=16;case 16:if(Pe=W.length){if(We<Pe&&(Pe=We),it<Pe&&(Pe=it),0===Pe)break e;F.arraySet(lt,Re,Ve,Pe,yt),We-=Pe,Ve+=Pe,it-=Pe,yt+=Pe,W.length-=Pe;break}W.mode=12;break;case 17:for(;we<14;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(W.nlen=257+(31&Te),we-=5,W.ndist=1+(31&(Te>>>=5)),we-=5,W.ncode=4+(15&(Te>>>=5)),Te>>>=4,we-=4,286<W.nlen||30<W.ndist){fe.msg="too many length or distance symbols",W.mode=30;break}W.have=0,W.mode=18;case 18:for(;W.have<W.ncode;){for(;we<3;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.lens[m[W.have++]]=7&Te,Te>>>=3,we-=3}for(;W.have<19;)W.lens[m[W.have++]]=0;if(W.lencode=W.lendyn,W.lenbits=7,Oe=Y(0,W.lens,0,19,W.lencode,0,W.work,Me={bits:W.lenbits}),W.lenbits=Me.bits,Oe){fe.msg="invalid code lengths set",W.mode=30;break}W.have=0,W.mode=19;case 19:for(;W.have<W.nlen+W.ndist;){for(;Dt=(ce=W.lencode[Te&(1<<W.lenbits)-1])>>>16&255,_n=65535&ce,!((gt=ce>>>24)<=we);){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(_n<16)Te>>>=gt,we-=gt,W.lens[W.have++]=_n;else{if(16===_n){for(he=gt+2;we<he;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(Te>>>=gt,we-=gt,0===W.have){fe.msg="invalid bit length repeat",W.mode=30;break}V=W.lens[W.have-1],Pe=3+(3&Te),Te>>>=2,we-=2}else if(17===_n){for(he=gt+3;we<he;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}we-=gt,V=0,Pe=3+(7&(Te>>>=gt)),Te>>>=3,we-=3}else{for(he=gt+7;we<he;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}we-=gt,V=0,Pe=11+(127&(Te>>>=gt)),Te>>>=7,we-=7}if(W.have+Pe>W.nlen+W.ndist){fe.msg="invalid bit length repeat",W.mode=30;break}for(;Pe--;)W.lens[W.have++]=V}}if(30===W.mode)break;if(0===W.lens[256]){fe.msg="invalid code -- missing end-of-block",W.mode=30;break}if(W.lenbits=9,Oe=Y(1,W.lens,0,W.nlen,W.lencode,0,W.work,Me={bits:W.lenbits}),W.lenbits=Me.bits,Oe){fe.msg="invalid literal/lengths set",W.mode=30;break}if(W.distbits=6,W.distcode=W.distdyn,Oe=Y(2,W.lens,W.nlen,W.ndist,W.distcode,0,W.work,Me={bits:W.distbits}),W.distbits=Me.bits,Oe){fe.msg="invalid distances set",W.mode=30;break}if(W.mode=20,6===De)break e;case 20:W.mode=21;case 21:if(6<=We&&258<=it){fe.next_out=yt,fe.avail_out=it,fe.next_in=Ve,fe.avail_in=We,W.hold=Te,W.bits=we,R(fe,Xe),yt=fe.next_out,lt=fe.output,it=fe.avail_out,Ve=fe.next_in,Re=fe.input,We=fe.avail_in,Te=W.hold,we=W.bits,12===W.mode&&(W.back=-1);break}for(W.back=0;Dt=(ce=W.lencode[Te&(1<<W.lenbits)-1])>>>16&255,_n=65535&ce,!((gt=ce>>>24)<=we);){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(Dt&&0==(240&Dt)){for(jt=gt,Jn=Dt,ri=_n;Dt=(ce=W.lencode[ri+((Te&(1<<jt+Jn)-1)>>jt)])>>>16&255,_n=65535&ce,!(jt+(gt=ce>>>24)<=we);){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}Te>>>=jt,we-=jt,W.back+=jt}if(Te>>>=gt,we-=gt,W.back+=gt,W.length=_n,0===Dt){W.mode=26;break}if(32&Dt){W.back=-1,W.mode=12;break}if(64&Dt){fe.msg="invalid literal/length code",W.mode=30;break}W.extra=15&Dt,W.mode=22;case 22:if(W.extra){for(he=W.extra;we<he;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.length+=Te&(1<<W.extra)-1,Te>>>=W.extra,we-=W.extra,W.back+=W.extra}W.was=W.length,W.mode=23;case 23:for(;Dt=(ce=W.distcode[Te&(1<<W.distbits)-1])>>>16&255,_n=65535&ce,!((gt=ce>>>24)<=we);){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(0==(240&Dt)){for(jt=gt,Jn=Dt,ri=_n;Dt=(ce=W.distcode[ri+((Te&(1<<jt+Jn)-1)>>jt)])>>>16&255,_n=65535&ce,!(jt+(gt=ce>>>24)<=we);){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}Te>>>=jt,we-=jt,W.back+=jt}if(Te>>>=gt,we-=gt,W.back+=gt,64&Dt){fe.msg="invalid distance code",W.mode=30;break}W.offset=_n,W.extra=15&Dt,W.mode=24;case 24:if(W.extra){for(he=W.extra;we<he;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}W.offset+=Te&(1<<W.extra)-1,Te>>>=W.extra,we-=W.extra,W.back+=W.extra}if(W.offset>W.dmax){fe.msg="invalid distance too far back",W.mode=30;break}W.mode=25;case 25:if(0===it)break e;if(W.offset>(Pe=Xe-it)){if((Pe=W.offset-Pe)>W.whave&&W.sane){fe.msg="invalid distance too far back",W.mode=30;break}mn=Pe>W.wnext?W.wsize-(Pe-=W.wnext):W.wnext-Pe,Pe>W.length&&(Pe=W.length),Ln=W.window}else Ln=lt,mn=yt-W.offset,Pe=W.length;for(it<Pe&&(Pe=it),it-=Pe,W.length-=Pe;lt[yt++]=Ln[mn++],--Pe;);0===W.length&&(W.mode=21);break;case 26:if(0===it)break e;lt[yt++]=W.length,it--,W.mode=21;break;case 27:if(W.wrap){for(;we<32;){if(0===We)break e;We--,Te|=Re[Ve++]<<we,we+=8}if(fe.total_out+=Xe-=it,W.total+=Xe,Xe&&(fe.adler=W.check=W.flags?T(W.check,lt,Xe,yt-Xe):U(W.check,lt,Xe,yt-Xe)),Xe=it,(W.flags?Te:k(Te))!==W.check){fe.msg="incorrect data check",W.mode=30;break}we=Te=0}W.mode=28;case 28:if(W.wrap&&W.flags){for(;we<32;){if(0===We)break e;We--,Te+=Re[Ve++]<<we,we+=8}if(Te!==(4294967295&W.total)){fe.msg="incorrect length check",W.mode=30;break}we=Te=0}W.mode=29;case 29:Oe=1;break e;case 30:Oe=-3;break e;case 31:return-4;default:return b}return fe.next_out=yt,fe.avail_out=it,fe.next_in=Ve,fe.avail_in=We,W.hold=Te,W.bits=we,(W.wsize||Xe!==fe.avail_out&&W.mode<30&&(W.mode<27||4!==De))&&Ce(fe,fe.output,fe.next_out,Xe-fe.avail_out)?(W.mode=31,-4):(Xe-=fe.avail_out,fe.total_in+=pt-=fe.avail_in,fe.total_out+=Xe,W.total+=Xe,W.wrap&&Xe&&(fe.adler=W.check=W.flags?T(W.check,lt,Xe,fe.next_out-Xe):U(W.check,lt,Xe,fe.next_out-Xe)),fe.data_type=W.bits+(W.last?64:0)+(12===W.mode?128:0)+(20===W.mode||15===W.mode?256:0),(0==pt&&0===Xe||4===De)&&0===Oe&&(Oe=-5),Oe)},Q.inflateEnd=function(fe){if(!fe||!fe.state)return b;var De=fe.state;return De.window&&(De.window=null),fe.state=null,0},Q.inflateGetHeader=function(fe,De){var W;return fe&&fe.state?0==(2&(W=fe.state).wrap)?b:((W.head=De).done=!1,0):b},Q.inflateSetDictionary=function(fe,De){var W,Re=De.length;return fe&&fe.state?0!==(W=fe.state).wrap&&11!==W.mode?b:11===W.mode&&U(1,De,Re,0)!==W.check?-3:Ce(fe,De,Re,Re)?(W.mode=31,-4):(W.havedict=1,0):b},Q.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(oe,ie,Q){"use strict";var F=oe("../utils/common"),U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ie.exports=function(I,L,O,b,y,x,P,k){var C,z,K,N,ne,J,le,de,ve,Ce=k.bits,fe=0,De=0,W=0,Re=0,lt=0,Ve=0,yt=0,We=0,it=0,Te=0,we=null,pt=0,Xe=new F.Buf16(16),Pe=new F.Buf16(16),mn=null,Ln=0;for(fe=0;fe<=15;fe++)Xe[fe]=0;for(De=0;De<b;De++)Xe[L[O+De]]++;for(lt=Ce,Re=15;1<=Re&&0===Xe[Re];Re--);if(Re<lt&&(lt=Re),0===Re)return y[x++]=20971520,y[x++]=20971520,k.bits=1,0;for(W=1;W<Re&&0===Xe[W];W++);for(lt<W&&(lt=W),fe=We=1;fe<=15;fe++)if(We<<=1,(We-=Xe[fe])<0)return-1;if(0<We&&(0===I||1!==Re))return-1;for(Pe[1]=0,fe=1;fe<15;fe++)Pe[fe+1]=Pe[fe]+Xe[fe];for(De=0;De<b;De++)0!==L[O+De]&&(P[Pe[L[O+De]]++]=De);if(J=0===I?(we=mn=P,19):1===I?(we=U,pt-=257,mn=T,Ln-=257,256):(we=R,mn=Y,-1),fe=W,ne=x,yt=De=Te=0,K=-1,N=(it=1<<(Ve=lt))-1,1===I&&852<it||2===I&&592<it)return 1;for(;;){for(le=fe-yt,ve=P[De]<J?(de=0,P[De]):P[De]>J?(de=mn[Ln+P[De]],we[pt+P[De]]):(de=96,0),C=1<<fe-yt,W=z=1<<Ve;y[ne+(Te>>yt)+(z-=C)]=le<<24|de<<16|ve|0,0!==z;);for(C=1<<fe-1;Te&C;)C>>=1;if(0!==C?(Te&=C-1,Te+=C):Te=0,De++,0==--Xe[fe]){if(fe===Re)break;fe=L[O+P[De]]}if(lt<fe&&(Te&N)!==K){for(0===yt&&(yt=lt),ne+=W,We=1<<(Ve=fe-yt);Ve+yt<Re&&!((We-=Xe[Ve+yt])<=0);)Ve++,We<<=1;if(it+=1<<Ve,1===I&&852<it||2===I&&592<it)return 1;y[K=Te&N]=lt<<24|Ve<<16|ne-x|0}}return 0!==Te&&(y[ne+Te]=fe-yt<<24|64<<16|0),k.bits=lt,0}},{"../utils/common":41}],51:[function(oe,ie,Q){"use strict";ie.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(oe,ie,Q){"use strict";var F=oe("../utils/common");function R(ce){for(var _=ce.length;0<=--_;)ce[_]=0}var L=256,O=286,b=30,P=15,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],le=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ce=new Array(576);R(Ce);var fe=new Array(60);R(fe);var De=new Array(512);R(De);var W=new Array(256);R(W);var Re=new Array(29);R(Re);var lt,Ve,yt,We=new Array(b);function it(ce,_,m,v,w){this.static_tree=ce,this.extra_bits=_,this.extra_base=m,this.elems=v,this.max_length=w,this.has_stree=ce&&ce.length}function Te(ce,_){this.dyn_tree=ce,this.max_code=0,this.stat_desc=_}function we(ce){return ce<256?De[ce]:De[256+(ce>>>7)]}function pt(ce,_){ce.pending_buf[ce.pending++]=255&_,ce.pending_buf[ce.pending++]=_>>>8&255}function Xe(ce,_,m){ce.bi_valid>16-m?(ce.bi_buf|=_<<ce.bi_valid&65535,pt(ce,ce.bi_buf),ce.bi_buf=_>>16-ce.bi_valid,ce.bi_valid+=m-16):(ce.bi_buf|=_<<ce.bi_valid&65535,ce.bi_valid+=m)}function Pe(ce,_,m){Xe(ce,m[2*_],m[2*_+1])}function mn(ce,_){for(var m=0;m|=1&ce,ce>>>=1,m<<=1,0<--_;);return m>>>1}function Ln(ce,_,m){var v,w,G=new Array(16),ee=0;for(v=1;v<=P;v++)G[v]=ee=ee+m[v-1]<<1;for(w=0;w<=_;w++){var X=ce[2*w+1];0!==X&&(ce[2*w]=mn(G[X]++,X))}}function gt(ce){var _;for(_=0;_<O;_++)ce.dyn_ltree[2*_]=0;for(_=0;_<b;_++)ce.dyn_dtree[2*_]=0;for(_=0;_<19;_++)ce.bl_tree[2*_]=0;ce.dyn_ltree[512]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function Dt(ce){8<ce.bi_valid?pt(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function _n(ce,_,m,v){var w=2*_,G=2*m;return ce[w]<ce[G]||ce[w]===ce[G]&&v[_]<=v[m]}function jt(ce,_,m){for(var v=ce.heap[m],w=m<<1;w<=ce.heap_len&&(w<ce.heap_len&&_n(_,ce.heap[w+1],ce.heap[w],ce.depth)&&w++,!_n(_,v,ce.heap[w],ce.depth));)ce.heap[m]=ce.heap[w],m=w,w<<=1;ce.heap[m]=v}function Jn(ce,_,m){var v,w,G,ee,X=0;if(0!==ce.last_lit)for(;v=ce.pending_buf[ce.d_buf+2*X]<<8|ce.pending_buf[ce.d_buf+2*X+1],w=ce.pending_buf[ce.l_buf+X],X++,0===v?Pe(ce,w,_):(Pe(ce,(G=W[w])+L+1,_),0!==(ee=J[G])&&Xe(ce,w-=Re[G],ee),Pe(ce,G=we(--v),m),0!==(ee=le[G])&&Xe(ce,v-=We[G],ee)),X<ce.last_lit;);Pe(ce,256,_)}function ri(ce,_){var m,v,w,G=_.dyn_tree,ee=_.stat_desc.static_tree,X=_.stat_desc.has_stree,ue=_.stat_desc.elems,ge=-1;for(ce.heap_len=0,ce.heap_max=573,m=0;m<ue;m++)0!==G[2*m]?(ce.heap[++ce.heap_len]=ge=m,ce.depth[m]=0):G[2*m+1]=0;for(;ce.heap_len<2;)G[2*(w=ce.heap[++ce.heap_len]=ge<2?++ge:0)]=1,ce.depth[w]=0,ce.opt_len--,X&&(ce.static_len-=ee[2*w+1]);for(_.max_code=ge,m=ce.heap_len>>1;1<=m;m--)jt(ce,G,m);for(w=ue;m=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],jt(ce,G,1),v=ce.heap[1],ce.heap[--ce.heap_max]=m,ce.heap[--ce.heap_max]=v,G[2*w]=G[2*m]+G[2*v],ce.depth[w]=(ce.depth[m]>=ce.depth[v]?ce.depth[m]:ce.depth[v])+1,G[2*m+1]=G[2*v+1]=w,ce.heap[1]=w++,jt(ce,G,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(ye,Se){var ke,Et,tn,Kt,$n,Oi,Ar=Se.dyn_tree,Rl=Se.max_code,Pl=Se.stat_desc.static_tree,bu=Se.stat_desc.has_stree,Id=Se.stat_desc.extra_bits,kl=Se.stat_desc.extra_base,Zr=Se.stat_desc.max_length,Fo=0;for(Kt=0;Kt<=P;Kt++)ye.bl_count[Kt]=0;for(Ar[2*ye.heap[ye.heap_max]+1]=0,ke=ye.heap_max+1;ke<573;ke++)Zr<(Kt=Ar[2*Ar[2*(Et=ye.heap[ke])+1]+1]+1)&&(Kt=Zr,Fo++),Ar[2*Et+1]=Kt,Rl<Et||(ye.bl_count[Kt]++,$n=0,kl<=Et&&($n=Id[Et-kl]),ye.opt_len+=(Oi=Ar[2*Et])*(Kt+$n),bu&&(ye.static_len+=Oi*(Pl[2*Et+1]+$n)));if(0!==Fo){do{for(Kt=Zr-1;0===ye.bl_count[Kt];)Kt--;ye.bl_count[Kt]--,ye.bl_count[Kt+1]+=2,ye.bl_count[Zr]--,Fo-=2}while(0<Fo);for(Kt=Zr;0!==Kt;Kt--)for(Et=ye.bl_count[Kt];0!==Et;)Rl<(tn=ye.heap[--ke])||(Ar[2*tn+1]!==Kt&&(ye.opt_len+=(Kt-Ar[2*tn+1])*Ar[2*tn],Ar[2*tn+1]=Kt),Et--)}}(ce,_),Ln(G,ge,ce.bl_count)}function V(ce,_,m){var v,w,G=-1,ee=_[1],X=0,ue=7,ge=4;for(0===ee&&(ue=138,ge=3),_[2*(m+1)+1]=65535,v=0;v<=m;v++)w=ee,ee=_[2*(v+1)+1],++X<ue&&w===ee||(X<ge?ce.bl_tree[2*w]+=X:0!==w?(w!==G&&ce.bl_tree[2*w]++,ce.bl_tree[32]++):X<=10?ce.bl_tree[34]++:ce.bl_tree[36]++,G=w,ge=(X=0)===ee?(ue=138,3):w===ee?(ue=6,3):(ue=7,4))}function Oe(ce,_,m){var v,w,G=-1,ee=_[1],X=0,ue=7,ge=4;for(0===ee&&(ue=138,ge=3),v=0;v<=m;v++)if(w=ee,ee=_[2*(v+1)+1],!(++X<ue&&w===ee)){if(X<ge)for(;Pe(ce,w,ce.bl_tree),0!=--X;);else 0!==w?(w!==G&&(Pe(ce,w,ce.bl_tree),X--),Pe(ce,16,ce.bl_tree),Xe(ce,X-3,2)):X<=10?(Pe(ce,17,ce.bl_tree),Xe(ce,X-3,3)):(Pe(ce,18,ce.bl_tree),Xe(ce,X-11,7));G=w,ge=(X=0)===ee?(ue=138,3):w===ee?(ue=6,3):(ue=7,4)}}R(We);var Me=!1;function he(ce,_,m,v){var w,G,ee;Xe(ce,0+(v?1:0),3),G=_,ee=m,Dt(w=ce),pt(w,ee),pt(w,~ee),F.arraySet(w.pending_buf,w.window,G,ee,w.pending),w.pending+=ee}Q._tr_init=function(ce){Me||(function(){var _,m,v,w,G,ee=new Array(16);for(w=v=0;w<28;w++)for(Re[w]=v,_=0;_<1<<J[w];_++)W[v++]=w;for(W[v-1]=w,w=G=0;w<16;w++)for(We[w]=G,_=0;_<1<<le[w];_++)De[G++]=w;for(G>>=7;w<b;w++)for(We[w]=G<<7,_=0;_<1<<le[w]-7;_++)De[256+G++]=w;for(m=0;m<=P;m++)ee[m]=0;for(_=0;_<=143;)Ce[2*_+1]=8,_++,ee[8]++;for(;_<=255;)Ce[2*_+1]=9,_++,ee[9]++;for(;_<=279;)Ce[2*_+1]=7,_++,ee[7]++;for(;_<=287;)Ce[2*_+1]=8,_++,ee[8]++;for(Ln(Ce,287,ee),_=0;_<b;_++)fe[2*_+1]=5,fe[2*_]=mn(_,5);lt=new it(Ce,J,257,O,P),Ve=new it(fe,le,0,b,P),yt=new it(new Array(0),de,0,19,7)}(),Me=!0),ce.l_desc=new Te(ce.dyn_ltree,lt),ce.d_desc=new Te(ce.dyn_dtree,Ve),ce.bl_desc=new Te(ce.bl_tree,yt),ce.bi_buf=0,ce.bi_valid=0,gt(ce)},Q._tr_stored_block=he,Q._tr_flush_block=function(ce,_,m,v){var w,G,ee=0;0<ce.level?(2===ce.strm.data_type&&(ce.strm.data_type=function(X){var ue,ge=4093624447;for(ue=0;ue<=31;ue++,ge>>>=1)if(1&ge&&0!==X.dyn_ltree[2*ue])return 0;if(0!==X.dyn_ltree[18]||0!==X.dyn_ltree[20]||0!==X.dyn_ltree[26])return 1;for(ue=32;ue<L;ue++)if(0!==X.dyn_ltree[2*ue])return 1;return 0}(ce)),ri(ce,ce.l_desc),ri(ce,ce.d_desc),ee=function(X){var ue;for(V(X,X.dyn_ltree,X.l_desc.max_code),V(X,X.dyn_dtree,X.d_desc.max_code),ri(X,X.bl_desc),ue=18;3<=ue&&0===X.bl_tree[2*ve[ue]+1];ue--);return X.opt_len+=3*(ue+1)+5+5+4,ue}(ce),(G=ce.static_len+3+7>>>3)<=(w=ce.opt_len+3+7>>>3)&&(w=G)):w=G=m+5,m+4<=w&&-1!==_?he(ce,_,m,v):4===ce.strategy||G===w?(Xe(ce,2+(v?1:0),3),Jn(ce,Ce,fe)):(Xe(ce,4+(v?1:0),3),function(X,ue,ge,ye){var Se;for(Xe(X,ue-257,5),Xe(X,ge-1,5),Xe(X,ye-4,4),Se=0;Se<ye;Se++)Xe(X,X.bl_tree[2*ve[Se]+1],3);Oe(X,X.dyn_ltree,ue-1),Oe(X,X.dyn_dtree,ge-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,ee+1),Jn(ce,ce.dyn_ltree,ce.dyn_dtree)),gt(ce),v&&Dt(ce)},Q._tr_tally=function(ce,_,m){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=_>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&_,ce.pending_buf[ce.l_buf+ce.last_lit]=255&m,ce.last_lit++,0===_?ce.dyn_ltree[2*m]++:(ce.matches++,_--,ce.dyn_ltree[2*(W[m]+L+1)]++,ce.dyn_dtree[2*we(_)]++),ce.last_lit===ce.lit_bufsize-1},Q._tr_align=function(ce){var _;Xe(ce,2,3),Pe(ce,256,Ce),16===(_=ce).bi_valid?(pt(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):8<=_.bi_valid&&(_.pending_buf[_.pending++]=255&_.bi_buf,_.bi_buf>>=8,_.bi_valid-=8)}},{"../utils/common":41}],53:[function(oe,ie,Q){"use strict";ie.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(oe,ie,Q){(function(F){!function(U,T){"use strict";if(!U.setImmediate){var R,Y,I,L,O=1,b={},y=!1,x=U.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(U);P=P&&P.setTimeout?P:U,R="[object process]"==={}.toString.call(U.process)?function(K){process.nextTick(function(){C(K)})}:function(){if(U.postMessage&&!U.importScripts){var K=!0,N=U.onmessage;return U.onmessage=function(){K=!1},U.postMessage("","*"),U.onmessage=N,K}}()?(L="setImmediate$"+Math.random()+"$",U.addEventListener?U.addEventListener("message",z,!1):U.attachEvent("onmessage",z),function(K){U.postMessage(L+K,"*")}):U.MessageChannel?((I=new MessageChannel).port1.onmessage=function(K){C(K.data)},function(K){I.port2.postMessage(K)}):x&&"onreadystatechange"in x.createElement("script")?(Y=x.documentElement,function(K){var N=x.createElement("script");N.onreadystatechange=function(){C(K),N.onreadystatechange=null,Y.removeChild(N),N=null},Y.appendChild(N)}):function(K){setTimeout(C,0,K)},P.setImmediate=function(K){"function"!=typeof K&&(K=new Function(""+K));for(var N=new Array(arguments.length-1),ne=0;ne<N.length;ne++)N[ne]=arguments[ne+1];return b[O]={callback:K,args:N},R(O),O++},P.clearImmediate=k}function k(K){delete b[K]}function C(K){if(y)setTimeout(C,0,K);else{var N=b[K];if(N){y=!0;try{!function(ne){var J=ne.callback,le=ne.args;switch(le.length){case 0:J();break;case 1:J(le[0]);break;case 2:J(le[0],le[1]);break;case 3:J(le[0],le[1],le[2]);break;default:J.apply(undefined,le)}}(N)}finally{k(K),y=!1}}}}function z(K){K.source===U&&"string"==typeof K.data&&0===K.data.indexOf(L)&&C(+K.data.slice(L.length))}}(typeof self>"u"?void 0===F?this:F:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},767:(ot,oe,ie)=>{"use strict";var Q=ie(3293);function F(){}var U={},T=["REJECTED"],R=["FULFILLED"],Y=["PENDING"];function I(K){if("function"!=typeof K)throw new TypeError("resolver must be a function");this.state=Y,this.queue=[],this.outcome=void 0,K!==F&&y(this,K)}function L(K,N,ne){this.promise=K,"function"==typeof N&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ne&&(this.onRejected=ne,this.callRejected=this.otherCallRejected)}function O(K,N,ne){Q(function(){var J;try{J=N(ne)}catch(le){return U.reject(K,le)}J===K?U.reject(K,new TypeError("Cannot resolve promise with itself")):U.resolve(K,J)})}function b(K){var N=K&&K.then;if(K&&("object"==typeof K||"function"==typeof K)&&"function"==typeof N)return function(){N.apply(K,arguments)}}function y(K,N){var ne=!1;function J(Ce){ne||(ne=!0,U.reject(K,Ce))}function le(Ce){ne||(ne=!0,U.resolve(K,Ce))}var ve=x(function de(){N(le,J)});"error"===ve.status&&J(ve.value)}function x(K,N){var ne={};try{ne.value=K(N),ne.status="success"}catch(J){ne.status="error",ne.value=J}return ne}ot.exports=I,I.prototype.finally=function(K){if("function"!=typeof K)return this;var N=this.constructor;return this.then(function ne(le){return N.resolve(K()).then(function de(){return le})},function J(le){return N.resolve(K()).then(function de(){throw le})})},I.prototype.catch=function(K){return this.then(null,K)},I.prototype.then=function(K,N){if("function"!=typeof K&&this.state===R||"function"!=typeof N&&this.state===T)return this;var ne=new this.constructor(F);return this.state!==Y?O(ne,this.state===R?K:N,this.outcome):this.queue.push(new L(ne,K,N)),ne},L.prototype.callFulfilled=function(K){U.resolve(this.promise,K)},L.prototype.otherCallFulfilled=function(K){O(this.promise,this.onFulfilled,K)},L.prototype.callRejected=function(K){U.reject(this.promise,K)},L.prototype.otherCallRejected=function(K){O(this.promise,this.onRejected,K)},U.resolve=function(K,N){var ne=x(b,N);if("error"===ne.status)return U.reject(K,ne.value);var J=ne.value;if(J)y(K,J);else{K.state=R,K.outcome=N;for(var le=-1,de=K.queue.length;++le<de;)K.queue[le].callFulfilled(N)}return K},U.reject=function(K,N){K.state=T,K.outcome=N;for(var ne=-1,J=K.queue.length;++ne<J;)K.queue[ne].callRejected(N);return K},I.resolve=function P(K){return K instanceof this?K:U.resolve(new this(F),K)},I.reject=function k(K){var N=new this(F);return U.reject(N,K)},I.all=function C(K){var N=this;if("[object Array]"!==Object.prototype.toString.call(K))return this.reject(new TypeError("must be an array"));var ne=K.length,J=!1;if(!ne)return this.resolve([]);for(var le=new Array(ne),de=0,ve=-1,Ce=new this(F);++ve<ne;)fe(K[ve],ve);return Ce;function fe(De,W){N.resolve(De).then(function Re(lt){le[W]=lt,++de===ne&&!J&&(J=!0,U.resolve(Ce,le))},function(lt){J||(J=!0,U.reject(Ce,lt))})}},I.race=function z(K){if("[object Array]"!==Object.prototype.toString.call(K))return this.reject(new TypeError("must be an array"));var ne=K.length,J=!1;if(!ne)return this.resolve([]);for(var le=-1,de=new this(F);++le<ne;)this.resolve(K[le]).then(function(fe){J||(J=!0,U.resolve(de,fe))},function(fe){J||(J=!0,U.reject(de,fe))});return de}},6218:function(ot,oe,ie){ot.exports=function(Q,F,U){"use strict";Q="default"in Q?Q.default:Q,U="default"in U?U.default:U;const T="layer-switcher-";class R extends Q{constructor(I){const L=Object.assign({},I),O=document.createElement("div");super({element:O,target:L.target}),this.activationMode=L.activationMode||"mouseover",this.startActive=!0===L.startActive,this.label=void 0!==L.label?L.label:"",this.collapseLabel=void 0!==L.collapseLabel?L.collapseLabel:"\xbb",this.tipLabel=L.tipLabel?L.tipLabel:"Legend",this.collapseTipLabel=L.collapseTipLabel?L.collapseTipLabel:"Collapse legend",this.groupSelectStyle=R.getGroupSelectStyle(L.groupSelectStyle),this.reverse=!1!==L.reverse,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",R.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",O.className=this.hiddenClassName,this.button=document.createElement("button"),O.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",O.appendChild(this.panel),R.enableTouchScroll_(this.panel),O.classList.add(T+"group-select-style-"+this.groupSelectStyle),O.classList.add(T+"activation-mode-"+this.activationMode),"click"===this.activationMode?(O.classList.add("activationModeClick"),this.button.onclick=b=>{const y=b||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),y.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=b=>{const y=b||window.event;this.showPanel(),y.preventDefault()},this.panel.onmouseout=b=>{this.panel.contains(b.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(I){for(let L=0;L<this.mapListeners.length;L++)F.unByKey(this.mapListeners[L]);this.mapListeners.length=0,super.setMap(I),I&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(I.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),R.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(I,L,O){const b=new Event("render");for(L.dispatchEvent(b),(O=O||{}).groupSelectStyle=R.getGroupSelectStyle(O.groupSelectStyle),R.ensureTopVisibleBaseLayerShown(I,O.groupSelectStyle);L.firstChild;)L.removeChild(L.firstChild);R.forEachRecursive(I,function(P,k,C){P.set("indeterminate",!1)}),"children"===O.groupSelectStyle||"none"===O.groupSelectStyle?R.setGroupVisibility(I):"group"===O.groupSelectStyle&&R.setChildVisibility(I);const y=document.createElement("ul");L.appendChild(y),R.renderLayers_(I,I,y,O,function(k){R.renderPanel(I,L,O)});const x=new Event("rendercomplete");L.dispatchEvent(x)}static isBaseGroup(I){if(I instanceof U){const L=I.getLayers().getArray();return L.length&&"base"===L[0].get("type")}return!1}static setGroupVisibility(I){R.getGroupsAndLayers(I,function(O){return O instanceof U&&!O.get("combine")&&!R.isBaseGroup(O)}).reverse().forEach(function(O){const b=O.getLayersArray().map(function(y){return y.getVisible()});b.every(function(y){return!0===y})?(O.setVisible(!0),O.set("indeterminate",!1)):b.every(function(y){return!1===y})?(O.setVisible(!1),O.set("indeterminate",!1)):(O.setVisible(!0),O.set("indeterminate",!0))})}static setChildVisibility(I){R.getGroupsAndLayers(I,function(O){return O instanceof U&&!O.get("combine")&&!R.isBaseGroup(O)}).forEach(function(O){const b=O,y=b.getVisible(),x=b.get("indeterminate");b.getLayers().getArray().forEach(function(P){P.set("indeterminate",!1),(!y||x)&&P.getVisible()&&P.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(I,L){let O;R.forEachRecursive(I,function(b,y,x){"base"===b.get("type")&&b.getVisible()&&(O=b)}),O&&R.setVisible_(I,O,!0,L)}static getGroupsAndLayers(I,L){const O=[];return L=L||function(b,y,x){return!0},R.forEachRecursive(I,function(b,y,x){b.get("title")&&L(b,y,x)&&O.push(b)}),O}static setVisible_(I,L,O,b){L.setVisible(O),O&&"base"===L.get("type")&&R.forEachRecursive(I,function(y,x,P){y!=L&&"base"===y.get("type")&&y.setVisible(!1)}),L instanceof U&&!L.get("combine")&&"children"===b&&L.getLayers().forEach(y=>{R.setVisible_(I,y,L.getVisible(),b)})}static renderLayer_(I,L,O,b,y){const x=document.createElement("li"),P=L.get("title"),k=R.uuid(),C=document.createElement("label");if(L instanceof U&&!L.get("combine")){const z=R.isBaseGroup(L);if(x.classList.add("group"),z&&x.classList.add(T+"base-group"),L.get("fold")){x.classList.add(T+"fold"),x.classList.add(T+L.get("fold"));const N=document.createElement("button");N.onclick=function(ne){const J=ne||window.event;R.toggleFold_(L,x),J.preventDefault()},x.appendChild(N)}if(!z&&"none"!=b.groupSelectStyle){const N=document.createElement("input");N.type="checkbox",N.id=k,N.checked=L.getVisible(),N.indeterminate=L.get("indeterminate"),N.onchange=function(ne){R.setVisible_(I,L,ne.target.checked,b.groupSelectStyle),y(L)},x.appendChild(N),C.htmlFor=k}C.innerHTML=P,x.appendChild(C);const K=document.createElement("ul");x.appendChild(K),R.renderLayers_(I,L,K,b,y)}else{x.className="layer";const z=document.createElement("input");z.type="base"===L.get("type")?"radio":"checkbox",z.id=k,z.checked=L.get("visible"),z.indeterminate=L.get("indeterminate"),z.onchange=function(N){R.setVisible_(I,L,N.target.checked,b.groupSelectStyle),y(L)},x.appendChild(z),C.htmlFor=k,C.innerHTML=P;const K=I.getView().getResolution();if(K>=L.getMaxResolution()||K<L.getMinResolution())C.className+=" disabled";else if(L.getMinZoom&&L.getMaxZoom){const N=I.getView().getZoom();(N<=L.getMinZoom()||N>L.getMaxZoom())&&(C.className+=" disabled")}x.appendChild(C)}return x}static renderLayers_(I,L,O,b,y){let x=L.getLayers().getArray().slice();b.reverse&&(x=x.reverse());for(let k,P=0;P<x.length;P++)k=x[P],k.get("title")&&O.appendChild(R.renderLayer_(I,k,P,b,y))}static forEachRecursive(I,L){I.getLayers().forEach(function(O,b,y){L(O,b,y),O instanceof U&&R.forEachRecursive(O,L)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(I){const L=16*Math.random()|0;return("x"==I?L:3&L|8).toString(16)})}static enableTouchScroll_(I){if(R.isTouchDevice_()){let L=0;I.addEventListener("touchstart",function(O){L=this.scrollTop+O.touches[0].pageY},!1),I.addEventListener("touchmove",function(O){this.scrollTop=L-O.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static toggleFold_(I,L){L.classList.remove(T+I.get("fold")),I.set("fold","open"===I.get("fold")?"close":"open"),L.classList.add(T+I.get("fold"))}static getGroupSelectStyle(I){return["none","children","group"].indexOf(I)>=0?I:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=R),R}(ie(6422),ie(4272),ie(4973))},3535:(ot,oe,ie)=>{ie(6905);var Q=ie(3054).s;function F(R){var Y=new Q;return(Y.write(R)+Y.end()).replace(/\0/g,"").trim()}ot.exports=function T(R,Y){if(!R)return F;try{new TextDecoder(R.trim())}catch{var I=U.exec(R);return I&&!Y?T("windows-"+I[1],!0):F}return function L(O){var b=new TextDecoder(R);return(b.decode(O,{stream:!0})+b.decode()).replace(/\0/g,"").trim()}};var U=/^(?:ANSI\s)?(\d+)$/m},4220:(ot,oe,ie)=>{var Q=ie(3535);function T(Y,I,L,O,b){var x=b(Y.slice(I,I+L));switch(O){case"N":case"F":case"O":return parseFloat(x,10);case"D":return new Date(x.slice(0,4),parseInt(x.slice(4,6),10)-1,x.slice(6,8));case"L":return"y"===x.toLowerCase()||"t"===x.toLowerCase();default:return x}}function R(Y,I,L,O){for(var P,k,b={},y=0,x=L.length;y<x;)P=T(Y,I,(k=L[y]).len,k.dataType,O),I+=k.len,typeof P<"u"&&(b[k.name]=P),y++;return b}ot.exports=function(Y,I){for(var L=Q(I),O=function F(Y){var I={};return I.lastUpdated=new Date(Y.readUInt8(1)+1900,Y.readUInt8(2),Y.readUInt8(3)),I.records=Y.readUInt32LE(4),I.headerLen=Y.readUInt16LE(8),I.recLen=Y.readUInt16LE(10),I}(Y),b=function U(Y,I,L){for(var O=[],b=32;b<I&&(O.push({name:L(Y.slice(b,b+11)),dataType:String.fromCharCode(Y.readUInt8(b+11)),len:Y.readUInt8(b+16),decimal:Y.readUInt8(b+17)}),13!==Y.readUInt8(b+32));)b+=32;return O}(Y,O.headerLen-1,L),y=2+(b.length+1<<5),x=O.recLen,P=O.records,k=[];P;)k.push(R(Y,y,b,L)),y+=x,P--;return k}},7871:(ot,oe,ie)=>{"use strict";ie.r(oe),ie.d(oe,{default:()=>Cf});var I=6378137,O=.0066943799901413165,b=484813681109536e-20,y=Math.PI/2,C=1e-10,z=.017453292519943295,K=57.29577951308232,N=Math.PI/4,ne=2*Math.PI,J=3.14159265359,le={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const de={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var ve=/[\s_\-\/\(\)]/g;function Ce(u,d){if(u[d])return u[d];for(var B,g=Object.keys(u),M=d.toLowerCase().replace(ve,""),S=-1;++S<g.length;)if((B=g[S]).toLowerCase().replace(ve,"")===M)return u[B]}function fe(u){var M,S,B,d={},g=u.split("+").map(function(j){return j.trim()}).filter(function(j){return j}).reduce(function(j,se){var me=se.split("=");return me.push(!0),j[me[0].toLowerCase()]=me[1],j},{}),q={proj:"projName",datum:"datumCode",rf:function(j){d.rf=parseFloat(j)},lat_0:function(j){d.lat0=j*z},lat_1:function(j){d.lat1=j*z},lat_2:function(j){d.lat2=j*z},lat_ts:function(j){d.lat_ts=j*z},lon_0:function(j){d.long0=j*z},lon_1:function(j){d.long1=j*z},lon_2:function(j){d.long2=j*z},alpha:function(j){d.alpha=parseFloat(j)*z},gamma:function(j){d.rectified_grid_angle=parseFloat(j)},lonc:function(j){d.longc=j*z},x_0:function(j){d.x0=parseFloat(j)},y_0:function(j){d.y0=parseFloat(j)},k_0:function(j){d.k0=parseFloat(j)},k:function(j){d.k0=parseFloat(j)},a:function(j){d.a=parseFloat(j)},b:function(j){d.b=parseFloat(j)},r_a:function(){d.R_A=!0},zone:function(j){d.zone=parseInt(j,10)},south:function(){d.utmSouth=!0},towgs84:function(j){d.datum_params=j.split(",").map(function(se){return parseFloat(se)})},to_meter:function(j){d.to_meter=parseFloat(j)},units:function(j){d.units=j;var se=Ce(de,j);se&&(d.to_meter=se.to_meter)},from_greenwich:function(j){d.from_greenwich=j*z},pm:function(j){var se=Ce(le,j);d.from_greenwich=(se||parseFloat(j))*z},nadgrids:function(j){"@null"===j?d.datumCode="none":d.nadgrids=j},axis:function(j){var se="ewnsud";3===j.length&&-1!==se.indexOf(j.substr(0,1))&&-1!==se.indexOf(j.substr(1,1))&&-1!==se.indexOf(j.substr(2,1))&&(d.axis=j)},approx:function(){d.approx=!0}};for(M in g)S=g[M],M in q?"function"==typeof(B=q[M])?B(S):d[B]=S:d[M]=S;return"string"==typeof d.datumCode&&"WGS84"!==d.datumCode&&(d.datumCode=d.datumCode.toLowerCase()),d}var it=/\s/,Te=/[A-Za-z]/,we=/[A-Za-z84_]/,pt=/[,\]]/,Xe=/[\d\.E\-\+]/;function Pe(u){if("string"!=typeof u)throw new Error("not a string");this.text=u.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function Ln(u,d,g){Array.isArray(d)&&(g.unshift(d),d=null);var S=g.reduce(function(B,q){return gt(q,B),B},d?{}:u);d&&(u[d]=S)}function gt(u,d){if(Array.isArray(u)){var g=u.shift();if("PARAMETER"===g&&(g=u.shift()),1===u.length)return Array.isArray(u[0])?(d[g]={},void gt(u[0],d[g])):void(d[g]=u[0]);if(u.length)if("TOWGS84"!==g){if("AXIS"===g)return g in d||(d[g]=[]),void d[g].push(u);var M;switch(Array.isArray(g)||(d[g]={}),g){case"UNIT":case"PRIMEM":case"VERT_DATUM":return d[g]={name:u[0].toLowerCase(),convert:u[1]},void(3===u.length&&gt(u[2],d[g]));case"SPHEROID":case"ELLIPSOID":return d[g]={name:u[0],a:u[1],rf:u[2]},void(4===u.length&&gt(u[3],d[g]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return u[0]=["name",u[0]],void Ln(d,g,u);default:for(M=-1;++M<u.length;)if(!Array.isArray(u[M]))return gt(u,d[g]);return Ln(d,g,u)}}else d[g]=u;else d[g]=!0}else d[u]=!0}function jt(u){return.017453292519943295*u}function ri(u){var d=function mn(u){return new Pe(u).output()}(u),g=d.shift(),M=d.shift();d.unshift(["name",M]),d.unshift(["type",g]);var S={};return gt(d,S),function Jn(u){if("GEOGCS"===u.type?u.projName="longlat":"LOCAL_CS"===u.type?(u.projName="identity",u.local=!0):u.projName="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION,u.AXIS){for(var d="",g=0,M=u.AXIS.length;g<M;++g){var S=[u.AXIS[g][0].toLowerCase(),u.AXIS[g][1].toLowerCase()];-1!==S[0].indexOf("north")||("y"===S[0]||"lat"===S[0])&&"north"===S[1]?d+="n":-1!==S[0].indexOf("south")||("y"===S[0]||"lat"===S[0])&&"south"===S[1]?d+="s":-1!==S[0].indexOf("east")||("x"===S[0]||"lon"===S[0])&&"east"===S[1]?d+="e":(-1!==S[0].indexOf("west")||("x"===S[0]||"lon"===S[0])&&"west"===S[1])&&(d+="w")}2===d.length&&(d+="u"),3===d.length&&(u.axis=d)}u.UNIT&&(u.units=u.UNIT.name.toLowerCase(),"metre"===u.units&&(u.units="meter"),u.UNIT.convert&&("GEOGCS"===u.type?u.DATUM&&u.DATUM.SPHEROID&&(u.to_meter=u.UNIT.convert*u.DATUM.SPHEROID.a):u.to_meter=u.UNIT.convert));var B=u.GEOGCS;function q(me){return me*(u.to_meter||1)}"GEOGCS"===u.type&&(B=u),B&&(u.datumCode=B.DATUM?B.DATUM.name.toLowerCase():B.name.toLowerCase(),"d_"===u.datumCode.slice(0,2)&&(u.datumCode=u.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===u.datumCode||"new_zealand_1949"===u.datumCode)&&(u.datumCode="nzgd49"),("wgs_1984"===u.datumCode||"world_geodetic_system_1984"===u.datumCode)&&("Mercator_Auxiliary_Sphere"===u.PROJECTION&&(u.sphere=!0),u.datumCode="wgs84"),"_ferro"===u.datumCode.slice(-6)&&(u.datumCode=u.datumCode.slice(0,-6)),"_jakarta"===u.datumCode.slice(-8)&&(u.datumCode=u.datumCode.slice(0,-8)),~u.datumCode.indexOf("belge")&&(u.datumCode="rnb72"),B.DATUM&&B.DATUM.SPHEROID&&(u.ellps=B.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===u.ellps.toLowerCase().slice(0,13)&&(u.ellps="intl"),u.a=B.DATUM.SPHEROID.a,u.rf=parseFloat(B.DATUM.SPHEROID.rf,10)),B.DATUM&&B.DATUM.TOWGS84&&(u.datum_params=B.DATUM.TOWGS84),~u.datumCode.indexOf("osgb_1936")&&(u.datumCode="osgb36"),~u.datumCode.indexOf("osni_1952")&&(u.datumCode="osni52"),(~u.datumCode.indexOf("tm65")||~u.datumCode.indexOf("geodetic_datum_of_1965"))&&(u.datumCode="ire65"),"ch1903+"===u.datumCode&&(u.datumCode="ch1903"),~u.datumCode.indexOf("israel")&&(u.datumCode="isr93")),u.b&&!isFinite(u.b)&&(u.b=u.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",jt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",jt],["x0","false_easting",q],["y0","false_northing",q],["long0","central_meridian",jt],["lat0","latitude_of_origin",jt],["lat0","standard_parallel_1",jt],["lat1","standard_parallel_1",jt],["lat2","standard_parallel_2",jt],["azimuth","Azimuth"],["alpha","azimuth",jt],["srsCode","name"]].forEach(function(me){return function _n(u,d){var g=d[0],M=d[1];!(g in u)&&M in u&&(u[g]=u[M],3===d.length&&(u[g]=d[2](u[g])))}(u,me)}),!u.long0&&u.longc&&("Albers_Conic_Equal_Area"===u.projName||"Lambert_Azimuthal_Equal_Area"===u.projName)&&(u.long0=u.longc),u.lat_ts||!u.lat1||"Stereographic_South_Pole"!==u.projName&&"Polar Stereographic (variant B)"!==u.projName?!u.lat_ts&&u.lat0&&"Polar_Stereographic"===u.projName&&(u.lat_ts=u.lat0,u.lat0=jt(u.lat0>0?90:-90)):(u.lat0=jt(u.lat1>0?90:-90),u.lat_ts=u.lat1)}(S),S}function V(u){var d=this;if(2===arguments.length){var g=arguments[1];V[u]="string"==typeof g?"+"===g.charAt(0)?fe(arguments[1]):ri(arguments[1]):g}else if(1===arguments.length){if(Array.isArray(u))return u.map(function(M){Array.isArray(M)?V.apply(d,M):V(M)});if("string"==typeof u){if(u in V)return V[u]}else"EPSG"in u?V["EPSG:"+u.EPSG]=u:"ESRI"in u?V["ESRI:"+u.ESRI]=u:"IAU2000"in u?V["IAU2000:"+u.IAU2000]=u:console.log(u);return}}Pe.prototype.readCharicter=function(){var u=this.text[this.place++];if(4!==this.state)for(;it.test(u);){if(this.place>=this.text.length)return;u=this.text[this.place++]}switch(this.state){case 1:return this.neutral(u);case 2:return this.keyword(u);case 4:return this.quoted(u);case 5:return this.afterquote(u);case 3:return this.number(u);case-1:return}},Pe.prototype.afterquote=function(u){if('"'===u)return this.word+='"',void(this.state=4);if(pt.test(u))return this.word=this.word.trim(),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in afterquote yet, index '+this.place)},Pe.prototype.afterItem=function(u){return","===u?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===u?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Pe.prototype.number=function(u){if(!Xe.test(u)){if(pt.test(u))return this.word=parseFloat(this.word),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in number yet, index '+this.place)}this.word+=u},Pe.prototype.quoted=function(u){'"'!==u?this.word+=u:this.state=5},Pe.prototype.keyword=function(u){if(we.test(u))this.word+=u;else{if("["===u){var d=[];return d.push(this.word),this.level++,null===this.root?this.root=d:this.currentObject.push(d),this.stack.push(this.currentObject),this.currentObject=d,void(this.state=1)}if(!pt.test(u))throw new Error("havn't handled \""+u+'" in keyword yet, index '+this.place);this.afterItem(u)}},Pe.prototype.neutral=function(u){if(Te.test(u))return this.word=u,void(this.state=2);if('"'===u)return this.word="",void(this.state=4);if(Xe.test(u))return this.word=u,void(this.state=3);if(!pt.test(u))throw new Error("havn't handled \""+u+'" in neutral yet, index '+this.place);this.afterItem(u)},Pe.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},function Q(u){u("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),u("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),u("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),u.WGS84=u["EPSG:4326"],u["EPSG:3785"]=u["EPSG:3857"],u.GOOGLE=u["EPSG:3857"],u["EPSG:900913"]=u["EPSG:3857"],u["EPSG:102113"]=u["EPSG:3857"]}(V);const Oe=V;var ce=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],m=["3857","900913","3785","102113"];function ue(u,d){var g,M;if(u=u||{},!d)return u;for(M in d)void 0!==(g=d[M])&&(u[M]=g);return u}function ge(u,d,g){var M=u*d;return g/Math.sqrt(1-M*M)}function ye(u){return u<0?-1:1}function Se(u){return Math.abs(u)<=J?u:u-ye(u)*ne}function ke(u,d,g){var M=u*g;return M=Math.pow((1-M)/(1+M),.5*u),Math.tan(.5*(y-d))/M}function Et(u,d){for(var M,S,g=.5*u,B=y-2*Math.atan(d),q=0;q<=15;q++)if(M=u*Math.sin(B),B+=S=y-2*Math.atan(d*Math.pow((1-M)/(1+M),g))-B,Math.abs(S)<=1e-10)return B;return-9999}function Pl(u){return u}var kl=[{init:function tn(){var u=this.b/this.a;this.es=1-u*u,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):ge(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function Kt(u){var M,S,d=u.x,g=u.y;if(g*K>90&&g*K<-90&&d*K>180&&d*K<-180)return null;if(Math.abs(Math.abs(g)-y)<=C)return null;if(this.sphere)M=this.x0+this.a*this.k0*Se(d-this.long0),S=this.y0+this.a*this.k0*Math.log(Math.tan(N+.5*g));else{var B=Math.sin(g),q=ke(this.e,g,B);M=this.x0+this.a*this.k0*Se(d-this.long0),S=this.y0-this.a*this.k0*Math.log(q)}return u.x=M,u.y=S,u},inverse:function $n(u){var M,S,d=u.x-this.x0,g=u.y-this.y0;if(this.sphere)S=y-2*Math.atan(Math.exp(-g/(this.a*this.k0)));else{var B=Math.exp(-g/(this.a*this.k0));if(-9999===(S=Et(this.e,B)))return null}return M=Se(this.long0+d/(this.a*this.k0)),u.x=M,u.y=S,u},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function Rl(){},forward:Pl,inverse:Pl,names:["longlat","identity"]}],Zr={},Fo=[];function Ol(u,d){var g=Fo.length;return u.names?(Fo[g]=u,u.names.forEach(function(M){Zr[M.toLowerCase()]=g}),this):(console.log(d),!0)}const Rd={start:function Ad(){kl.forEach(Ol)},add:Ol,get:function Md(u){if(!u)return!1;var d=u.toLowerCase();return typeof Zr[d]<"u"&&Fo[Zr[d]]?Fo[Zr[d]]:void 0}};var Vt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Em=Vt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Vt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ci={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var Fd={};function Sm(u){if(0===u.length)return null;var d="@"===u[0];return d&&(u=u.slice(1)),"null"===u?{name:"null",mandatory:!d,grid:null,isNull:!0}:{name:u,mandatory:!d,grid:Fd[u]||null,isNull:!1}}function us(u){return u/3600*Math.PI/180}function Kr(u,d,g){return String.fromCharCode.apply(null,new Uint8Array(u.buffer.slice(d,g)))}function vu(u){return u.map(function(d){return[us(d.longitudeShift),us(d.latitudeShift)]})}function Ld(u,d,g){return{name:Kr(u,d+8,d+16).trim(),parent:Kr(u,d+24,d+24+8).trim(),lowerLatitude:u.getFloat64(d+72,g),upperLatitude:u.getFloat64(d+88,g),lowerLongitude:u.getFloat64(d+104,g),upperLongitude:u.getFloat64(d+120,g),latitudeInterval:u.getFloat64(d+136,g),longitudeInterval:u.getFloat64(d+152,g),gridNodeCount:u.getInt32(d+168,g)}}function wu(u,d,g,M){for(var S=d+176,q=[],j=0;j<g.gridNodeCount;j++){var se={latitudeShift:u.getFloat32(S+16*j,M),longitudeShift:u.getFloat32(S+16*j+4,M),latitudeAccuracy:u.getFloat32(S+16*j+8,M),longitudeAccuracy:u.getFloat32(S+16*j+12,M)};q.push(se)}return q}function Va(u,d){if(!(this instanceof Va))return new Va(u);d=d||function(me){if(me)throw me};var g=function ee(u){if(!function Me(u){return"string"==typeof u}(u))return u;if(function he(u){return u in Oe}(u))return Oe[u];if(function _(u){return ce.some(function(d){return u.indexOf(d)>-1})}(u)){var d=ri(u);if(function v(u){var d=Ce(u,"authority");if(d){var g=Ce(d,"epsg");return g&&m.indexOf(g)>-1}}(d))return Oe["EPSG:3857"];var g=function w(u){var d=Ce(u,"extension");if(d)return Ce(d,"proj4")}(d);return g?fe(g):d}return function G(u){return"+"===u[0]}(u)?fe(u):void 0}(u);if("object"==typeof g){var M=Va.projections.get(g.projName);if(M){if(g.datumCode&&"none"!==g.datumCode){var S=Ce(ci,g.datumCode);S&&(g.datum_params=g.datum_params||(S.towgs84?S.towgs84.split(","):null),g.ellps=S.ellipse,g.datumName=S.datumName?S.datumName:g.datumCode)}g.k0=g.k0||1,g.axis=g.axis||"enu",g.ellps=g.ellps||"wgs84",g.lat1=g.lat1||g.lat0;var B=function kd(u,d,g,M,S){if(!u){var B=Ce(Vt,M);B||(B=Em),u=B.a,d=B.b,g=B.rf}return g&&!d&&(d=(1-1/g)*u),(0===g||Math.abs(u-d)<C)&&(S=!0,d=u),{a:u,b:d,rf:g,sphere:S}}(g.a,g.b,g.rf,g.ellps,g.sphere),q=function Pd(u,d,g,M){var S=u*u,B=d*d,q=(S-B)/S,j=0;return M?(S=(u*=1-q*(.16666666666666666+q*(.04722222222222222+.022156084656084655*q)))*u,q=0):j=Math.sqrt(q),{es:q,e:j,ep2:(S-B)/B}}(B.a,B.b,0,g.R_A),j=function Cm(u){return void 0===u?null:u.split(",").map(Sm)}(g.nadgrids),se=g.datum||function Od(u,d,g,M,S,B,q){var j={};return j.datum_type=void 0===u||"none"===u?5:4,d&&(j.datum_params=d.map(parseFloat),(0!==j.datum_params[0]||0!==j.datum_params[1]||0!==j.datum_params[2])&&(j.datum_type=1),j.datum_params.length>3&&(0!==j.datum_params[3]||0!==j.datum_params[4]||0!==j.datum_params[5]||0!==j.datum_params[6])&&(j.datum_type=2,j.datum_params[3]*=b,j.datum_params[4]*=b,j.datum_params[5]*=b,j.datum_params[6]=j.datum_params[6]/1e6+1)),q&&(j.datum_type=3,j.grids=q),j.a=g,j.b=M,j.es=S,j.ep2=B,j}(g.datumCode,g.datum_params,B.a,B.b,q.es,q.ep2,j);ue(this,g),ue(this,M),this.a=B.a,this.b=B.b,this.rf=B.rf,this.sphere=B.sphere,this.es=q.es,this.e=q.e,this.ep2=q.ep2,this.datum=se,this.init(),d(null,this)}else d(u)}else d(u)}(Va.projections=Rd).start();const Ba=Va;function Fl(u,d,g){var q,j,me,M=u.x,S=u.y,B=u.z?u.z:0;if(S<-y&&S>-1.001*y)S=-y;else if(S>y&&S<1.001*y)S=y;else{if(S<-y)return{x:-1/0,y:-1/0,z:u.z};if(S>y)return{x:1/0,y:1/0,z:u.z}}return M>Math.PI&&(M-=2*Math.PI),j=Math.sin(S),me=Math.cos(S),{x:((q=g/Math.sqrt(1-d*(j*j)))+B)*me*Math.cos(M),y:(q+B)*me*Math.sin(M),z:(q*(1-d)+B)*j}}function Vd(u,d,g,M){var j,se,me,Ee,be,Le,Ke,Ze,Qe,et,xt,qt,rn,hi,qr,bn=u.x,cn=u.y,En=u.z?u.z:0;if(j=Math.sqrt(bn*bn+cn*cn),se=Math.sqrt(bn*bn+cn*cn+En*En),j/g<1e-12){if(hi=0,se/g<1e-12)return qr=-M,{x:u.x,y:u.y,z:u.z}}else hi=Math.atan2(cn,bn);me=En/se,Ze=(Ee=j/se)*(1-d)*(be=1/Math.sqrt(1-d*(2-d)*Ee*Ee)),Qe=me*be,rn=0;do{rn++,Le=d*(Ke=g/Math.sqrt(1-d*Qe*Qe))/(Ke+(qr=j*Ze+En*Qe-Ke*(1-d*Qe*Qe))),qt=(xt=me*(be=1/Math.sqrt(1-Le*(2-Le)*Ee*Ee)))*Ze-(et=Ee*(1-Le)*be)*Qe,Ze=et,Qe=xt}while(qt*qt>1e-24&&rn<30);return{x:hi,y:Math.atan(xt/Math.abs(et)),z:qr}}function za(u){return 1===u||2===u}function zd(u,d,g){if(null===u.grids||0===u.grids.length)return console.log("Grid shift grids not found"),-1;for(var M={x:-g.x,y:g.y},S={x:Number.NaN,y:Number.NaN},q=[],j=0;j<u.grids.length;j++){var se=u.grids[j];if(q.push(se.name),se.isNull){S=M;break}if(null!==se.grid){var me=se.grid.subgrids[0],Ee=(Math.abs(me.del[1])+Math.abs(me.del[0]))/1e4;if(!(me.ll[1]-Ee>M.y||me.ll[0]-Ee>M.x||me.ll[1]+(me.lim[1]-1)*me.del[1]+Ee<M.y||me.ll[0]+(me.lim[0]-1)*me.del[0]+Ee<M.x||(S=Am(M,d,me),isNaN(S.x))))break}else if(se.mandatory)return console.log("Unable to find mandatory grid '"+se.name+"'"),-1}return isNaN(S.x)?(console.log("Failed to find a grid shift table for location '"+-M.x*K+" "+M.y*K+" tried: '"+q+"'"),-1):(g.x=-S.x,g.y=S.y,0)}function Am(u,d,g){var M={x:Number.NaN,y:Number.NaN};if(isNaN(u.x))return M;var S={x:u.x,y:u.y};S.x-=g.ll[0],S.y-=g.ll[1],S.x=Se(S.x-Math.PI)+Math.PI;var B=jd(S,g);if(d){if(isNaN(B.x))return M;B.x=S.x-B.x,B.y=S.y-B.y;var se,me,q=9;do{if(me=jd(B,g),isNaN(me.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}B.x+=(se={x:S.x-(me.x+B.x),y:S.y-(me.y+B.y)}).x,B.y+=se.y}while(q--&&Math.abs(se.x)>1e-12&&Math.abs(se.y)>1e-12);if(q<0)return console.log("Inverse grid shift iterator failed to converge."),M;M.x=Se(B.x+g.ll[0]),M.y=B.y+g.ll[1]}else isNaN(B.x)||(M.x=u.x+B.x,M.y=u.y+B.y);return M}function jd(u,d){var q,g={x:u.x/d.del[0],y:u.y/d.del[1]},M_x=Math.floor(g.x),M_y=Math.floor(g.y),S_x=g.x-1*M_x,S_y=g.y-1*M_y,B={x:Number.NaN,y:Number.NaN};if(M_x<0||M_x>=d.lim[0]||M_y<0||M_y>=d.lim[1])return B;var j_x=d.cvs[q=M_y*d.lim[0]+M_x][0],j_y=d.cvs[q][1];q++;var se_x=d.cvs[q][0],se_y=d.cvs[q][1],me_x=d.cvs[q+=d.lim[0]][0],me_y=d.cvs[q][1];q--;var Ee_y=d.cvs[q][1],be=S_x*S_y,Le=S_x*(1-S_y),Ke=(1-S_x)*(1-S_y),Ze=(1-S_x)*S_y;return B.x=Ke*j_x+Le*se_x+Ze*d.cvs[q][0]+be*me_x,B.y=Ke*j_y+Le*se_y+Ze*Ee_y+be*me_y,B}function Ud(u,d,g){var q,j,se,M=g.x,S=g.y,B=g.z||0,me={};for(se=0;se<3;se++)if(!d||2!==se||void 0!==g.z)switch(0===se?(q=M,j=-1!=="ew".indexOf(u.axis[se])?"x":"y"):1===se?(q=S,j=-1!=="ns".indexOf(u.axis[se])?"y":"x"):(q=B,j="z"),u.axis[se]){case"e":case"n":me[j]=q;break;case"w":case"s":me[j]=-q;break;case"u":void 0!==g[j]&&(me.z=q);break;case"d":void 0!==g[j]&&(me.z=-q);break;default:return null}return me}function Eu(u){var d={x:u[0],y:u[1]};return u.length>2&&(d.z=u[2]),u.length>3&&(d.m=u[3]),d}function Gd(u){if("function"==typeof Number.isFinite){if(Number.isFinite(u))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof u||u!=u||!isFinite(u))throw new TypeError("coordinates must be finite numbers")}function hs(u,d,g,M){var S,B=void 0!==(g=Array.isArray(g)?Eu(g):{x:g.x,y:g.y,z:g.z,m:g.m}).z;if(function Rm(u){Gd(u.x),Gd(u.y)}(g),u.datum&&d.datum&&function Nl(u,d){return(1===u.datum.datum_type||2===u.datum.datum_type||3===u.datum.datum_type)&&"WGS84"!==d.datumCode||(1===d.datum.datum_type||2===d.datum.datum_type||3===d.datum.datum_type)&&"WGS84"!==u.datumCode}(u,d)&&(g=hs(u,S=new Ba("WGS84"),g,M),u=S),M&&"enu"!==u.axis&&(g=Ud(u,!1,g)),"longlat"===u.projName)g={x:g.x*z,y:g.y*z,z:g.z||0};else if(u.to_meter&&(g={x:g.x*u.to_meter,y:g.y*u.to_meter,z:g.z||0}),!(g=u.inverse(g)))return;if(u.from_greenwich&&(g.x+=u.from_greenwich),g=function Bd(u,d,g){if(function Nd(u,d){return!(u.datum_type!==d.datum_type||u.a!==d.a||Math.abs(u.es-d.es)>5e-11)&&(1===u.datum_type?u.datum_params[0]===d.datum_params[0]&&u.datum_params[1]===d.datum_params[1]&&u.datum_params[2]===d.datum_params[2]:2!==u.datum_type||u.datum_params[0]===d.datum_params[0]&&u.datum_params[1]===d.datum_params[1]&&u.datum_params[2]===d.datum_params[2]&&u.datum_params[3]===d.datum_params[3]&&u.datum_params[4]===d.datum_params[4]&&u.datum_params[5]===d.datum_params[5]&&u.datum_params[6]===d.datum_params[6])}(u,d)||5===u.datum_type||5===d.datum_type)return g;var M=u.a,S=u.es;if(3===u.datum_type){if(0!==zd(u,!1,g))return;M=I,S=O}var q=d.a,j=d.b,se=d.es;return 3===d.datum_type&&(q=I,j=6356752.314,se=O),S!==se||M!==q||za(u.datum_type)||za(d.datum_type)?(g=Fl(g,S,M),za(u.datum_type)&&(g=function Ll(u,d,g){if(1===d)return{x:u.x+g[0],y:u.y+g[1],z:u.z+g[2]};if(2===d){var q=g[3],j=g[4],se=g[5],me=g[6];return{x:me*(u.x-se*u.y+j*u.z)+g[0],y:me*(se*u.x+u.y-q*u.z)+g[1],z:me*(-j*u.x+q*u.y+u.z)+g[2]}}}(g,u.datum_type,u.datum_params)),za(d.datum_type)&&(g=function Mm(u,d,g){if(1===d)return{x:u.x-g[0],y:u.y-g[1],z:u.z-g[2]};if(2===d){var q=g[3],j=g[4],se=g[5],me=g[6],Ee=(u.x-g[0])/me,be=(u.y-g[1])/me,Le=(u.z-g[2])/me;return{x:Ee+se*be-j*Le,y:-se*Ee+be+q*Le,z:j*Ee-q*be+Le}}}(g,d.datum_type,d.datum_params)),g=Vd(g,se,q,j),3!==d.datum_type||0===zd(d,!0,g)?g:void 0):g}(u.datum,d.datum,g))return d.from_greenwich&&(g={x:g.x-d.from_greenwich,y:g.y,z:g.z||0}),"longlat"===d.projName?g={x:g.x*K,y:g.y*K,z:g.z||0}:(g=d.forward(g),d.to_meter&&(g={x:g.x/d.to_meter,y:g.y/d.to_meter,z:g.z||0})),M&&"enu"!==d.axis?Ud(d,!0,g):(B||delete g.z,g)}var Hd=Ba("WGS84");function ja(u,d,g,M){var S,B,q;return Array.isArray(g)?(S=hs(u,d,g,M)||{x:NaN,y:NaN},g.length>2?typeof u.name<"u"&&"geocent"===u.name||typeof d.name<"u"&&"geocent"===d.name?"number"==typeof S.z?[S.x,S.y,S.z].concat(g.splice(3)):[S.x,S.y,g[2]].concat(g.splice(3)):[S.x,S.y].concat(g.splice(2)):[S.x,S.y]):(B=hs(u,d,g,M),2===(q=Object.keys(g)).length||q.forEach(function(j){if(typeof u.name<"u"&&"geocent"===u.name||typeof d.name<"u"&&"geocent"===d.name){if("x"===j||"y"===j||"z"===j)return}else if("x"===j||"y"===j)return;B[j]=g[j]}),B)}function Cn(u){return u instanceof Ba?u:u.oProj?u.oProj:Ba(u)}const nn=function xu(u,d,g){u=Cn(u);var S,M=!1;return typeof d>"u"?(d=u,u=Hd,M=!0):(typeof d.x<"u"||Array.isArray(d))&&(g=d,d=u,u=Hd,M=!0),d=Cn(d),g?ja(u,d,g):(S={forward:function(B,q){return ja(u,d,B,q)},inverse:function(B,q){return ja(d,u,B,q)}},M&&(S.oProj=d),S)};const Wt={forward:gn,inverse:function Pm(u){var d=Zd(Lm(u.toUpperCase()));return d.lat&&d.lon?[d.lon,d.lat,d.lon,d.lat]:[d.left,d.bottom,d.right,d.top]},toPoint:km};function gn(u,d){return d=d||5,function Qw(u,d){var g="00000"+u.easting,M="00000"+u.northing;return u.zoneNumber+u.zoneLetter+function co(u,d,g){var M=Fm(g);return function Jw(u,d,g){var M=g-1,S="AJSAJS".charCodeAt(M),B="AFAFAF".charCodeAt(M),q=S+u-1,j=B+d,se=!1;return q>90&&(q=q-90+65-1,se=!0),(73===q||S<73&&q>73||(q>73||S<73)&&se)&&q++,(79===q||S<79&&q>79||(q>79||S<79)&&se)&&73==++q&&q++,q>90&&(q=q-90+65-1),j>86?(j=j-86+65-1,se=!0):se=!1,(73===j||B<73&&j>73||(j>73||B<73)&&se)&&j++,(79===j||B<79&&j>79||(j>79||B<79)&&se)&&73==++j&&j++,j>86&&(j=j-86+65-1),String.fromCharCode(q)+String.fromCharCode(j)}(Math.floor(u/1e5),Math.floor(d/1e5)%20,M)}(u.easting,u.northing,u.zoneNumber)+g.substr(g.length-5,d)+M.substr(M.length-5,d)}(function er(u){var j,se,me,Ee,be,Qe,et,d=u.lat,g=u.lon,M=6378137,S=.00669438,B=.9996,Ke=Cu(d),Ze=Cu(g);et=Math.floor((g+180)/6)+1,180===g&&(et=60),d>=56&&d<64&&g>=3&&g<12&&(et=32),d>=72&&d<84&&(g>=0&&g<9?et=31:g>=9&&g<21?et=33:g>=21&&g<33?et=35:g>=33&&g<42&&(et=37)),Qe=Cu(6*(et-1)-180+3),j=S/(1-S),se=M/Math.sqrt(1-S*Math.sin(Ke)*Math.sin(Ke)),me=Math.tan(Ke)*Math.tan(Ke),Ee=j*Math.cos(Ke)*Math.cos(Ke);var xt=B*se*((be=Math.cos(Ke)*(Ze-Qe))+(1-me+Ee)*be*be*be/6+(5-18*me+me*me+72*Ee-58*j)*be*be*be*be*be/120)+5e5,qt=B*(M*(.9983242984503243*Ke-.002514607064228144*Math.sin(2*Ke)+2639046602129982e-21*Math.sin(4*Ke)-35*S*S*S/3072*Math.sin(6*Ke))+se*Math.tan(Ke)*(be*be/2+(5-me+9*Ee+4*Ee*Ee)*be*be*be*be/24+(61-58*me+me*me+600*Ee-330*j)*be*be*be*be*be*be/720));return d<0&&(qt+=1e7),{northing:Math.round(qt),easting:Math.round(xt),zoneNumber:et,zoneLetter:Om(d)}}({lat:u[1],lon:u[0]}),d)}function km(u){var d=Zd(Lm(u.toUpperCase()));return d.lat&&d.lon?[d.lon,d.lat]:[(d.left+d.right)/2,(d.top+d.bottom)/2]}function Cu(u){return u*(Math.PI/180)}function Ua(u){return u/Math.PI*180}function Zd(u){var d=u.northing,g=u.easting,M=u.zoneLetter,S=u.zoneNumber;if(S<0||S>60)return null;var se,Ee,be,Le,Ke,Ze,et,xt,qt,B=.9996,q=6378137,j=.00669438,me=(1-Math.sqrt(1-j))/(1+Math.sqrt(1-j)),rn=g-5e5,bn=d;M<"N"&&(bn-=1e7),et=6*(S-1)-180+3,se=j/(1-j),qt=(xt=bn/B/6367449.145945056)+(3*me/2-27*me*me*me/32)*Math.sin(2*xt)+(21*me*me/16-55*me*me*me*me/32)*Math.sin(4*xt)+151*me*me*me/96*Math.sin(6*xt),Ee=q/Math.sqrt(1-j*Math.sin(qt)*Math.sin(qt)),be=Math.tan(qt)*Math.tan(qt),Le=se*Math.cos(qt)*Math.cos(qt),Ke=q*(1-j)/Math.pow(1-j*Math.sin(qt)*Math.sin(qt),1.5),Ze=rn/(Ee*B);var cn=qt-Ee*Math.tan(qt)/Ke*(Ze*Ze/2-(5+3*be+10*Le-4*Le*Le-9*se)*Ze*Ze*Ze*Ze/24+(61+90*be+298*Le+45*be*be-252*se-3*Le*Le)*Ze*Ze*Ze*Ze*Ze*Ze/720);cn=Ua(cn);var hi,En=(Ze-(1+2*be+Le)*Ze*Ze*Ze/6+(5-2*Le+28*be-3*Le*Le+8*se+24*be*be)*Ze*Ze*Ze*Ze*Ze/120)/Math.cos(qt);if(En=et+Ua(En),u.accuracy){var On=Zd({northing:u.northing+u.accuracy,easting:u.easting+u.accuracy,zoneLetter:u.zoneLetter,zoneNumber:u.zoneNumber});hi={top:On.lat,right:On.lon,bottom:cn,left:En}}else hi={lat:cn,lon:En};return hi}function Om(u){var d="Z";return 84>=u&&u>=72?d="X":72>u&&u>=64?d="W":64>u&&u>=56?d="V":56>u&&u>=48?d="U":48>u&&u>=40?d="T":40>u&&u>=32?d="S":32>u&&u>=24?d="R":24>u&&u>=16?d="Q":16>u&&u>=8?d="P":8>u&&u>=0?d="N":0>u&&u>=-8?d="M":-8>u&&u>=-16?d="L":-16>u&&u>=-24?d="K":-24>u&&u>=-32?d="J":-32>u&&u>=-40?d="H":-40>u&&u>=-48?d="G":-48>u&&u>=-56?d="F":-56>u&&u>=-64?d="E":-64>u&&u>=-72?d="D":-72>u&&u>=-80&&(d="C"),d}function Fm(u){var d=u%6;return 0===d&&(d=6),d}function Lm(u){if(u&&0===u.length)throw"MGRSPoint coverting from nothing";for(var S,d=u.length,g=null,M="",B=0;!/[A-Z]/.test(S=u.charAt(B));){if(B>=2)throw"MGRSPoint bad conversion from: "+u;M+=S,B++}var q=parseInt(M,10);if(0===B||B+3>d)throw"MGRSPoint bad conversion from: "+u;var j=u.charAt(B++);if(j<="A"||"B"===j||"Y"===j||j>="Z"||"I"===j||"O"===j)throw"MGRSPoint zone letter "+j+" not handled: "+u;g=u.substring(B,B+=2);for(var se=Fm(q),me=function e1(u,d){for(var g="AJSAJS".charCodeAt(d-1),M=1e5,S=!1;g!==u.charCodeAt(0);){if(73==++g&&g++,79===g&&g++,g>90){if(S)throw"Bad character: "+u;g=65,S=!0}M+=1e5}return M}(g.charAt(0),se),Ee=function Nm(u,d){if(u>"V")throw"MGRSPoint given invalid Northing "+u;for(var g="AFAFAF".charCodeAt(d-1),M=0,S=!1;g!==u.charCodeAt(0);){if(73==++g&&g++,79===g&&g++,g>86){if(S)throw"Bad character: "+u;g=65,S=!0}M+=1e5}return M}(g.charAt(1),se);Ee<t1(j);)Ee+=2e6;var be=d-B;if(be%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+u;var Qe,et,xt,Le=be/2,Ke=0,Ze=0;return Le>0&&(Qe=1e5/Math.pow(10,Le),et=u.substring(B,B+Le),Ke=parseFloat(et)*Qe,xt=u.substring(B+Le),Ze=parseFloat(xt)*Qe),{easting:Ke+me,northing:Ze+Ee,zoneLetter:j,zoneNumber:q,accuracy:Qe}}function t1(u){var d;switch(u){case"C":d=11e5;break;case"D":d=2e6;break;case"E":d=28e5;break;case"F":d=37e5;break;case"G":d=46e5;break;case"H":d=55e5;break;case"J":d=64e5;break;case"K":d=73e5;break;case"L":d=82e5;break;case"M":d=91e5;break;case"N":d=0;break;case"P":d=8e5;break;case"Q":d=17e5;break;case"R":d=26e5;break;case"S":d=35e5;break;case"T":d=44e5;break;case"U":d=53e5;break;case"V":d=62e5;break;case"W":d=7e6;break;case"X":d=79e5;break;default:d=-1}if(d>=0)return d;throw"Invalid zone letter: "+u}function Ws(u,d,g){if(!(this instanceof Ws))return new Ws(u,d,g);if(Array.isArray(u))this.x=u[0],this.y=u[1],this.z=u[2]||0;else if("object"==typeof u)this.x=u.x,this.y=u.y,this.z=u.z||0;else if("string"==typeof u&&typeof d>"u"){var M=u.split(",");this.x=parseFloat(M[0],10),this.y=parseFloat(M[1],10),this.z=parseFloat(M[2],10)||0}else this.x=u,this.y=d,this.z=g||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ws.fromMGRS=function(u){return new Ws(km(u))},Ws.prototype.toMGRS=function(u){return gn([this.x,this.y],u)};const n1=Ws;var Bm=.01953125,zm=.01068115234375;function Yd(u){var d=[];d[0]=1-u*(.25+u*(.046875+u*(Bm+u*zm))),d[1]=u*(.75-u*(.046875+u*(Bm+u*zm)));var g=u*u;return d[2]=g*(.46875-u*(.013020833333333334+.007120768229166667*u)),d[3]=(g*=u)*(.3645833333333333-.005696614583333333*u),d[4]=g*u*.3076171875,d}function Ga(u,d,g,M){return M[0]*u-(g*=d)*(M[1]+(d*=d)*(M[2]+d*(M[3]+d*M[4])))}function jl(u,d,g){for(var M=1/(1-d),S=u,B=20;B;--B){var q=Math.sin(S),j=1-d*q*q;if(S-=j=(Ga(S,q,Math.cos(S),g)-u)*(j*Math.sqrt(j))*M,Math.abs(j)<C)return S}return S}const Ul={init:function $d(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Yd(this.es),this.ml0=Ga(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function Um(u){var S,B,q,g=u.y,M=Se(u.x-this.long0),j=Math.sin(g),se=Math.cos(g);if(this.es){var Ee=se*M,be=Math.pow(Ee,2),Le=this.ep2*Math.pow(se,2),Ke=Math.pow(Le,2),Ze=Math.abs(se)>C?Math.tan(g):0,Qe=Math.pow(Ze,2),et=Math.pow(Qe,2);S=1-this.es*Math.pow(j,2),Ee/=Math.sqrt(S);var xt=Ga(g,j,se,this.en);B=this.a*(this.k0*Ee*(1+be/6*(1-Qe+Le+be/20*(5-18*Qe+et+14*Le-58*Qe*Le+be/42*(61+179*et-et*Qe-479*Qe)))))+this.x0,q=this.a*(this.k0*(xt-this.ml0+j*M*Ee/2*(1+be/12*(5-Qe+9*Le+4*Ke+be/30*(61+et-58*Qe+270*Le-330*Qe*Le+be/56*(1385+543*et-et*Qe-3111*Qe))))))+this.y0}else{var me=se*Math.sin(M);if(Math.abs(Math.abs(me)-1)<C)return 93;if(B=.5*this.a*this.k0*Math.log((1+me)/(1-me))+this.x0,q=se*Math.cos(M)/Math.sqrt(1-Math.pow(me,2)),(me=Math.abs(q))>=1){if(me-1>C)return 93;q=0}else q=Math.acos(q);g<0&&(q=-q),q=this.a*this.k0*(q-this.lat0)+this.y0}return u.x=B,u.y=q,u},inverse:function Bt(u){var d,g,M,S,B=1/this.a*(u.x-this.x0),q=1/this.a*(u.y-this.y0);if(this.es)if(g=jl(d=this.ml0+q/this.k0,this.es,this.en),Math.abs(g)<y){var be=Math.sin(g),Le=Math.cos(g),Ke=Math.abs(Le)>C?Math.tan(g):0,Ze=this.ep2*Math.pow(Le,2),Qe=Math.pow(Ze,2),et=Math.pow(Ke,2),xt=Math.pow(et,2);d=1-this.es*Math.pow(be,2);var qt=B*Math.sqrt(d)/this.k0,rn=Math.pow(qt,2);M=g-(d*=Ke)*rn/(1-this.es)*.5*(1-rn/12*(5+3*et-9*Ze*et+Ze-4*Qe-rn/30*(61+90*et-252*Ze*et+45*xt+46*Ze-rn/56*(1385+3633*et+4095*xt+1574*xt*et)))),S=Se(this.long0+qt*(1-rn/6*(1+2*et+Ze-rn/20*(5+28*et+24*xt+8*Ze*et+6*Ze-rn/42*(61+662*et+1320*xt+720*xt*et))))/Le)}else M=y*ye(q),S=0;else{var j=Math.exp(B/this.k0),se=.5*(j-1/j),Ee=Math.cos(this.lat0+q/this.k0);d=Math.sqrt((1-Math.pow(Ee,2))/(1+Math.pow(se,2))),M=Math.asin(d),q<0&&(M=-M),S=0===se&&0===Ee?0:Se(Math.atan2(se,Ee)+this.long0)}return u.x=S,u.y=M,u},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function nr(u){var d=Math.exp(u);return(d-1/d)/2}function _r(u,d){u=Math.abs(u),d=Math.abs(d);var g=Math.max(u,d),M=Math.min(u,d)/(g||1);return g*Math.sqrt(1+Math.pow(M,2))}function ir(u,d){for(var q,g=2*Math.cos(2*d),M=u.length-1,S=u[M],B=0;--M>=0;)q=g*S-B+u[M],B=S,S=q;return d+q*Math.sin(2*d)}function yr(u,d,g){for(var Ze,Qe,M=Math.sin(d),S=Math.cos(d),B=nr(g),q=function l1(u){var d=Math.exp(u);return(d+1/d)/2}(g),j=2*S*q,se=-2*M*B,me=u.length-1,Ee=u[me],be=0,Le=0,Ke=0;--me>=0;)Ze=Le,Qe=be,Ee=j*(Le=Ee)-Ze-se*(be=Ke)+u[me],Ke=se*Le-Qe+j*be;return[(j=M*q)*Ee-(se=S*B)*Ke,j*Ke+se*Ee]}const hn={init:function Pn(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ul.init.apply(this),this.forward=Ul.forward,this.inverse=Ul.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var u=this.es/(1+Math.sqrt(1-this.es)),d=u/(2-u),g=d;this.cgb[0]=d*(2+d*(-2/3+d*(d*(116/45+d*(26/45+d*(-2854/675)))-2))),this.cbg[0]=d*(d*(2/3+d*(4/3+d*(-82/45+d*(32/45+d*(4642/4725)))))-2),this.cgb[1]=(g*=d)*(7/3+d*(d*(-227/45+d*(2704/315+d*(2323/945)))-1.6)),this.cbg[1]=g*(5/3+d*(-16/15+d*(-13/9+d*(904/315+d*(-1522/945))))),this.cgb[2]=(g*=d)*(56/15+d*(-136/35+d*(-1262/105+d*(73814/2835)))),this.cbg[2]=g*(-26/15+d*(34/21+d*(1.6+d*(-12686/2835)))),this.cgb[3]=(g*=d)*(4279/630+d*(-332/35+d*(-399572/14175))),this.cbg[3]=g*(1237/630+d*(d*(-24832/14175)-2.4)),this.cgb[4]=(g*=d)*(4174/315+d*(-144838/6237)),this.cbg[4]=g*(-734/315+d*(109598/31185)),this.cgb[5]=(g*=d)*(601676/22275),this.cbg[5]=g*(444337/155925),g=Math.pow(d,2),this.Qn=this.k0/(1+d)*(1+g*(1/4+g*(1/64+g/256))),this.utg[0]=d*(d*(2/3+d*(-37/96+d*(1/360+d*(81/512+d*(-96199/604800)))))-.5),this.gtu[0]=d*(.5+d*(-2/3+d*(5/16+d*(41/180+d*(-127/288+d*(7891/37800)))))),this.utg[1]=g*(-1/48+d*(-1/15+d*(437/1440+d*(-46/105+d*(1118711/3870720))))),this.gtu[1]=g*(13/48+d*(d*(557/1440+d*(281/630+d*(-1983433/1935360)))-.6)),this.utg[2]=(g*=d)*(-17/480+d*(37/840+d*(209/4480+d*(-5569/90720)))),this.gtu[2]=g*(61/240+d*(-103/140+d*(15061/26880+d*(167603/181440)))),this.utg[3]=(g*=d)*(-4397/161280+d*(11/504+d*(830251/7257600))),this.gtu[3]=g*(49561/161280+d*(-179/168+d*(6601661/7257600))),this.utg[4]=(g*=d)*(-4583/161280+d*(108847/3991680)),this.gtu[4]=g*(34729/80640+d*(-3418889/1995840)),this.utg[5]=(g*=d)*(-20648693/638668800),this.gtu[5]=.6650675310896665*g;var M=ir(this.cbg,this.lat0);this.Zb=-this.Qn*(M+function a1(u,d){for(var q,g=2*Math.cos(d),M=u.length-1,S=u[M],B=0;--M>=0;)q=g*S-B+u[M],B=S,S=q;return Math.sin(d)*q}(this.gtu,2*M))},forward:function c1(u){var d=Se(u.x-this.long0),g=u.y;g=ir(this.cbg,g);var M=Math.sin(g),S=Math.cos(g),B=Math.sin(d),q=Math.cos(d);g=Math.atan2(M,q*S),d=Math.atan2(B*S,_r(M,S*q)),d=function No(u){var d=Math.abs(u);return d=function s1(u){var d=1+u,g=d-1;return 0===g?u:u*Math.log(d)/g}(d*(1+d/(_r(1,d)+1))),u<0?-d:d}(Math.tan(d));var se,me,j=yr(this.gtu,2*g,2*d);return g+=j[0],d+=j[1],Math.abs(d)<=2.623395162778?(se=this.a*(this.Qn*d)+this.x0,me=this.a*(this.Qn*g+this.Zb)+this.y0):(se=1/0,me=1/0),u.x=se,u.y=me,u},inverse:function u1(u){var M,S,d=1/this.a*(u.x-this.x0),g=1/this.a*(u.y-this.y0);if(g=(g-this.Zb)/this.Qn,d/=this.Qn,Math.abs(d)<=2.623395162778){var B=yr(this.utg,2*g,2*d);g+=B[0],d+=B[1],d=Math.atan(nr(d));var q=Math.sin(g),j=Math.cos(g),se=Math.sin(d),me=Math.cos(d);g=Math.atan2(q*me,_r(se,me*j)),M=Se((d=Math.atan2(se,me*j))+this.long0),S=ir(this.cgb,g)}else M=1/0,S=1/0;return u.x=M,u.y=S,u},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},uo={init:function Tu(){var u=function Gl(u,d){if(void 0===u){if((u=Math.floor(30*(Se(d)+Math.PI)/Math.PI)+1)<0)return 0;if(u>60)return 60}return u}(this.zone,this.long0);if(void 0===u)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(u)-183)*z,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,hn.init.apply(this),this.forward=hn.forward,this.inverse=hn.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function ds(u,d){return Math.pow((1-u)/(1+u),d)}const jn={init:function Yr(){var u=Math.sin(this.lat0),d=Math.cos(this.lat0);d*=d,this.rc=Math.sqrt(1-this.es)/(1-this.es*u*u),this.C=Math.sqrt(1+this.es*d*d/(1-this.es)),this.phic0=Math.asin(u/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+N)/(Math.pow(Math.tan(.5*this.lat0+N),this.C)*ds(this.e*u,this.ratexp))},forward:function Hm(u){var d=u.x,g=u.y;return u.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*g+N),this.C)*ds(this.e*Math.sin(g),this.ratexp))-y,u.x=this.C*d,u},inverse:function Xd(u){for(var g=u.x/this.C,M=u.y,S=Math.pow(Math.tan(.5*M+N)/this.K,1/this.C),B=20;B>0&&(M=2*Math.atan(S*ds(this.e*Math.sin(u.y),-.5*this.e))-y,!(Math.abs(M-u.y)<1e-14));--B)u.y=M;return B?(u.x=g,u.y=M,u):null},names:["gauss"]},xn={init:function Wm(){jn.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function Jd(u){var d,g,M,S;return u.x=Se(u.x-this.long0),jn.forward.apply(this,[u]),d=Math.sin(u.y),g=Math.cos(u.y),M=Math.cos(u.x),u.x=(S=this.k0*this.R2/(1+this.sinc0*d+this.cosc0*g*M))*g*Math.sin(u.x),u.y=S*(this.cosc0*d-this.sinc0*g*M),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function Mt(u){var d,g,M,S,B;if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,B=Math.sqrt(u.x*u.x+u.y*u.y)){var q=2*Math.atan2(B,this.R2);d=Math.sin(q),g=Math.cos(q),S=Math.asin(g*this.sinc0+u.y*d*this.cosc0/B),M=Math.atan2(u.x*d,B*this.cosc0*g-u.y*this.sinc0*d)}else S=this.phic0,M=0;return u.x=M,u.y=S,jn.inverse.apply(this,[u]),u.x=Se(u.x+this.long0),u},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},st={init:function Li(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=C&&(this.k0=.5*(1+ye(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=C&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=C&&(this.k0=.5*this.cons*ge(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ke(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ge(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-y,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function Ha(u){var B,q,j,se,me,Ee,d=u.x,g=u.y,M=Math.sin(g),S=Math.cos(g),be=Se(d-this.long0);return Math.abs(Math.abs(d-this.long0)-Math.PI)<=C&&Math.abs(g+this.lat0)<=C?(u.x=NaN,u.y=NaN,u):this.sphere?(B=2*this.k0/(1+this.sinlat0*M+this.coslat0*S*Math.cos(be)),u.x=this.a*B*S*Math.sin(be)+this.x0,u.y=this.a*B*(this.coslat0*M-this.sinlat0*S*Math.cos(be))+this.y0,u):(q=2*Math.atan(this.ssfn_(g,M,this.e))-y,se=Math.cos(q),j=Math.sin(q),Math.abs(this.coslat0)<=C?(me=ke(this.e,g*this.con,this.con*M),u.x=this.x0+(Ee=2*this.a*this.k0*me/this.cons)*Math.sin(d-this.long0),u.y=this.y0-this.con*Ee*Math.cos(d-this.long0),u):(Math.abs(this.sinlat0)<C?(B=2*this.a*this.k0/(1+se*Math.cos(be)),u.y=B*j):(B=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*j+this.cosX0*se*Math.cos(be))),u.y=B*(this.cosX0*j-this.sinX0*se*Math.cos(be))+this.y0),u.x=B*se*Math.sin(be)+this.x0,u))},inverse:function rr(u){u.x-=this.x0,u.y-=this.y0;var d,g,S,B,q=Math.sqrt(u.x*u.x+u.y*u.y);if(this.sphere){var j=2*Math.atan(q/(2*this.a*this.k0));return d=this.long0,g=this.lat0,q<=C?(u.x=d,u.y=g,u):(g=Math.asin(Math.cos(j)*this.sinlat0+u.y*Math.sin(j)*this.coslat0/q),d=Math.abs(this.coslat0)<C?Se(this.lat0>0?this.long0+Math.atan2(u.x,-1*u.y):this.long0+Math.atan2(u.x,u.y)):Se(this.long0+Math.atan2(u.x*Math.sin(j),q*this.coslat0*Math.cos(j)-u.y*this.sinlat0*Math.sin(j))),u.x=d,u.y=g,u)}if(Math.abs(this.coslat0)<=C){if(q<=C)return g=this.lat0,u.x=d=this.long0,u.y=g,u;u.x*=this.con,u.y*=this.con,g=this.con*Et(this.e,q*this.cons/(2*this.a*this.k0)),d=this.con*Se(this.con*this.long0+Math.atan2(u.x,-1*u.y))}else S=2*Math.atan(q*this.cosX0/(2*this.a*this.k0*this.ms1)),d=this.long0,q<=C?B=this.X0:(B=Math.asin(Math.cos(S)*this.sinX0+u.y*Math.sin(S)*this.cosX0/q),d=Se(this.long0+Math.atan2(u.x*Math.sin(S),q*this.cosX0*Math.cos(S)-u.y*this.sinX0*Math.sin(S)))),g=-1*Et(this.e,Math.tan(.5*(y+B)));return u.x=d,u.y=g,u},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function Fi(u,d,g){return d*=g,Math.tan(.5*(y+u))*Math.pow((1-d)/(1+d),.5*g)}},yi={init:function $t(){var u=this.lat0;this.lambda0=this.long0;var d=Math.sin(u),g=this.a,S=1/this.rf,B=2*S-Math.pow(S,2),q=this.e=Math.sqrt(B);this.R=this.k0*g*Math.sqrt(1-B)/(1-B*Math.pow(d,2)),this.alpha=Math.sqrt(1+B/(1-B)*Math.pow(Math.cos(u),4)),this.b0=Math.asin(d/this.alpha);var j=Math.log(Math.tan(Math.PI/4+this.b0/2)),se=Math.log(Math.tan(Math.PI/4+u/2)),me=Math.log((1+q*d)/(1-q*d));this.K=j-this.alpha*se+this.alpha*q/2*me},forward:function Un(u){var d=Math.log(Math.tan(Math.PI/4-u.y/2)),g=this.e/2*Math.log((1+this.e*Math.sin(u.y))/(1-this.e*Math.sin(u.y))),S=2*(Math.atan(Math.exp(-this.alpha*(d+g)+this.K))-Math.PI/4),B=this.alpha*(u.x-this.lambda0),q=Math.atan(Math.sin(B)/(Math.sin(this.b0)*Math.tan(S)+Math.cos(this.b0)*Math.cos(B))),j=Math.asin(Math.cos(this.b0)*Math.sin(S)-Math.sin(this.b0)*Math.cos(S)*Math.cos(B));return u.y=this.R/2*Math.log((1+Math.sin(j))/(1-Math.sin(j)))+this.y0,u.x=this.R*q+this.x0,u},inverse:function or(u){for(var M=(u.x-this.x0)/this.R,S=2*(Math.atan(Math.exp((u.y-this.y0)/this.R))-Math.PI/4),B=Math.asin(Math.cos(this.b0)*Math.sin(S)+Math.sin(this.b0)*Math.cos(S)*Math.cos(M)),q=Math.atan(Math.sin(M)/(Math.cos(this.b0)*Math.cos(M)-Math.sin(this.b0)*Math.tan(S))),j=this.lambda0+q/this.alpha,se=0,me=B,Ee=-1e3,be=0;Math.abs(me-Ee)>1e-7;){if(++be>20)return;se=1/this.alpha*(Math.log(Math.tan(Math.PI/4+B/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(me))/2)),Ee=me,me=2*Math.atan(Math.exp(se))-Math.PI/2}return u.x=j,u.y=me,u},names:["somerc"]};var vr=1e-7;const Ks={init:function Wa(){var u,d,g,M,S,B,q,j,se,me,be,Ee=0,Le=0,Ke=0,Ze=0,Qe=0,et=0,xt=0;this.no_off=function qn(u){var g="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION;return"no_uoff"in u||"no_off"in u||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(g)}(this),this.no_rot="no_rot"in this;var rn=!1;"alpha"in this&&(rn=!0);var bn=!1;if("rectified_grid_angle"in this&&(bn=!0),rn&&(xt=this.alpha),bn&&(Ee=this.rectified_grid_angle*z),rn||bn)Le=this.longc;else if(Ke=this.long1,Qe=this.lat1,Ze=this.long2,et=this.lat2,Math.abs(Qe-et)<=vr||(u=Math.abs(Qe))<=vr||Math.abs(u-y)<=vr||Math.abs(Math.abs(this.lat0)-y)<=vr||Math.abs(Math.abs(et)-y)<=vr)throw new Error;var cn=1-this.es;d=Math.sqrt(cn),Math.abs(this.lat0)>C?(j=Math.sin(this.lat0),g=Math.cos(this.lat0),u=1-this.es*j*j,this.B=g*g,this.B=Math.sqrt(1+this.es*this.B*this.B/cn),this.A=this.B*this.k0*d/u,(S=(M=this.B*d/(g*Math.sqrt(u)))*M-1)<=0?S=0:(S=Math.sqrt(S),this.lat0<0&&(S=-S)),this.E=S+=M,this.E*=Math.pow(ke(this.e,this.lat0,j),this.B)):(this.B=1/d,this.A=this.k0,this.E=M=S=1),rn||bn?(rn?(be=Math.asin(Math.sin(xt)/M),bn||(Ee=xt)):(be=Ee,xt=Math.asin(M*Math.sin(be))),this.lam0=Le-Math.asin(.5*(S-1/S)*Math.tan(be))/this.B):(B=Math.pow(ke(this.e,Qe,Math.sin(Qe)),this.B),q=Math.pow(ke(this.e,et,Math.sin(et)),this.B),S=this.E/B,se=(q-B)/(q+B),me=((me=this.E*this.E)-q*B)/(me+q*B),(u=Ke-Ze)<-Math.pi?Ze-=ne:u>Math.pi&&(Ze+=ne),this.lam0=Se(.5*(Ke+Ze)-Math.atan(me*Math.tan(.5*this.B*(Ke-Ze))/se)/this.B),be=Math.atan(2*Math.sin(this.B*Se(Ke-this.lam0))/(S-1/S)),Ee=xt=Math.asin(M*Math.sin(be))),this.singam=Math.sin(be),this.cosgam=Math.cos(be),this.sinrot=Math.sin(Ee),this.cosrot=Math.cos(Ee),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(M*M-1)/Math.cos(xt))),this.lat0<0&&(this.u_0=-this.u_0)),S=.5*be,this.v_pole_n=this.ArB*Math.log(Math.tan(N-S)),this.v_pole_s=this.ArB*Math.log(Math.tan(N+S))},forward:function Za(u){var g,M,S,B,q,j,se,me,d={};if(u.x=u.x-this.lam0,Math.abs(Math.abs(u.y)-y)>C){if(g=.5*((q=this.E/Math.pow(ke(this.e,u.y,Math.sin(u.y)),this.B))-(j=1/q)),M=.5*(q+j),B=Math.sin(this.B*u.x),S=(g*this.singam-B*this.cosgam)/M,Math.abs(Math.abs(S)-1)<C)throw new Error;me=.5*this.ArB*Math.log((1-S)/(1+S)),j=Math.cos(this.B*u.x),se=Math.abs(j)<vr?this.A*u.x:this.ArB*Math.atan2(g*this.cosgam+B*this.singam,j)}else me=u.y>0?this.v_pole_n:this.v_pole_s,se=this.ArB*u.y;return this.no_rot?(d.x=se,d.y=me):(d.x=me*this.cosrot+(se-=this.u_0)*this.sinrot,d.y=se*this.cosrot-me*this.sinrot),d.x=this.a*d.x+this.x0,d.y=this.a*d.y+this.y0,d},inverse:function Jt(u){var d,g,M,S,B,q,j,se={};if(u.x=1/this.a*(u.x-this.x0),u.y=1/this.a*(u.y-this.y0),this.no_rot?(g=u.y,d=u.x):(g=u.x*this.cosrot-u.y*this.sinrot,d=u.y*this.cosrot+u.x*this.sinrot+this.u_0),S=.5*((M=Math.exp(-this.BrA*g))-1/M),B=.5*(M+1/M),j=((q=Math.sin(this.BrA*d))*this.cosgam+S*this.singam)/B,Math.abs(Math.abs(j)-1)<C)se.x=0,se.y=j<0?-y:y;else{if(se.y=this.E/Math.sqrt((1+j)/(1-j)),se.y=Et(this.e,Math.pow(se.y,1/this.B)),se.y===1/0)throw new Error;se.x=-this.rB*Math.atan2(S*this.cosgam-q*this.singam,Math.cos(this.BrA*d))}return se.x+=this.lam0,se},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Ys={init:function Iu(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<C)){var u=this.b/this.a;this.e=Math.sqrt(1-u*u);var d=Math.sin(this.lat1),g=Math.cos(this.lat1),M=ge(this.e,d,g),S=ke(this.e,this.lat1,d),B=Math.sin(this.lat2),q=Math.cos(this.lat2),j=ge(this.e,B,q),se=ke(this.e,this.lat2,B),me=ke(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>C?Math.log(M/j)/Math.log(S/se):d,isNaN(this.ns)&&(this.ns=d),this.f0=M/(this.ns*Math.pow(S,this.ns)),this.rh=this.a*this.f0*Math.pow(me,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function ps(u){var d=u.x,g=u.y;Math.abs(2*Math.abs(g)-Math.PI)<=C&&(g=ye(g)*(y-2*C));var S,B,M=Math.abs(Math.abs(g)-y);if(M>C)S=ke(this.e,g,Math.sin(g)),B=this.a*this.f0*Math.pow(S,this.ns);else{if((M=g*this.ns)<=0)return null;B=0}var q=this.ns*Se(d-this.long0);return u.x=this.k0*(B*Math.sin(q))+this.x0,u.y=this.k0*(this.rh-B*Math.cos(q))+this.y0,u},inverse:function Ii(u){var d,g,M,S,B,q=(u.x-this.x0)/this.k0,j=this.rh-(u.y-this.y0)/this.k0;this.ns>0?(d=Math.sqrt(q*q+j*j),g=1):(d=-Math.sqrt(q*q+j*j),g=-1);var se=0;if(0!==d&&(se=Math.atan2(g*q,g*j)),0!==d||this.ns>0){if(g=1/this.ns,M=Math.pow(d/(this.a*this.f0),g),-9999===(S=Et(this.e,M)))return null}else S=-y;return B=Se(se/this.ns+this.long0),u.x=B,u.y=S,u},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},Zm={init:function Pr(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function $s(u){var d,g,M,S,B,q,j,me=u.y,Ee=Se(u.x-this.long0);return d=Math.pow((1+this.e*Math.sin(me))/(1-this.e*Math.sin(me)),this.alfa*this.e/2),g=2*(Math.atan(this.k*Math.pow(Math.tan(me/2+this.s45),this.alfa)/d)-this.s45),M=-Ee*this.alfa,S=Math.asin(Math.cos(this.ad)*Math.sin(g)+Math.sin(this.ad)*Math.cos(g)*Math.cos(M)),B=Math.asin(Math.cos(g)*Math.sin(M)/Math.cos(S)),q=this.n*B,j=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(S/2+this.s45),this.n),u.y=j*Math.cos(q)/1,u.x=j*Math.sin(q)/1,this.czech||(u.y*=-1,u.x*=-1),u},inverse:function ef(u){var d,g,M,S,q,j,se,me=u.x;u.x=u.y,u.y=me,this.czech||(u.y*=-1,u.x*=-1),q=Math.sqrt(u.x*u.x+u.y*u.y),S=Math.atan2(u.y,u.x)/Math.sin(this.s0),M=2*(Math.atan(Math.pow(this.ro0/q,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),d=Math.asin(Math.cos(this.ad)*Math.sin(M)-Math.sin(this.ad)*Math.cos(M)*Math.cos(S)),g=Math.asin(Math.cos(M)*Math.sin(S)/Math.cos(d)),u.x=this.long0-g/this.alfa,j=d,se=0;var Ee=0;do{u.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(d/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(j))/(1-this.e*Math.sin(j)),this.e/2))-this.s45),Math.abs(j-u.y)<1e-10&&(se=1),j=u.y,Ee+=1}while(0===se&&Ee<15);return Ee>=15?null:u},names:["Krovak","krovak"]};function Ni(u,d,g,M,S){return u*S-d*Math.sin(2*S)+g*Math.sin(4*S)-M*Math.sin(6*S)}function Vo(u){return 1-.25*u*(1+u/16*(3+1.25*u))}function gs(u){return.375*u*(1+.25*u*(1+.46875*u))}function ho(u){return.05859375*u*u*(1+.75*u)}function Bo(u){return u*u*u*(35/3072)}function wr(u,d,g){var M=d*g;return u/Math.sqrt(1-M*M)}function ei(u){return Math.abs(u)<y?u:u-ye(u)*Math.PI}function Wl(u,d,g,M,S){var B,q;B=u/d;for(var j=0;j<15;j++)if(B+=q=(u-(d*B-g*Math.sin(2*B)+M*Math.sin(4*B)-S*Math.sin(6*B)))/(d-2*g*Math.cos(2*B)+4*M*Math.cos(4*B)-6*S*Math.cos(6*B)),Math.abs(q)<=1e-10)return B;return NaN}const Kl={init:function Wi(){this.sphere||(this.e0=Vo(this.es),this.e1=gs(this.es),this.e2=ho(this.es),this.e3=Bo(this.es),this.ml0=this.a*Ni(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function kr(u){var d,g,M=u.x,S=u.y;if(M=Se(M-this.long0),this.sphere)d=this.a*Math.asin(Math.cos(S)*Math.sin(M)),g=this.a*(Math.atan2(Math.tan(S),Math.cos(M))-this.lat0);else{var B=Math.sin(S),q=Math.cos(S),j=wr(this.a,this.e,B),se=Math.tan(S)*Math.tan(S),me=M*Math.cos(S),Ee=me*me,be=this.es*q*q/(1-this.es);d=j*me*(1-Ee*se*(1/6-(8-se+8*be)*Ee/120)),g=this.a*Ni(this.e0,this.e1,this.e2,this.e3,S)-this.ml0+j*B/q*Ee*(.5+(5-se+6*be)*Ee/24)}return u.x=d+this.x0,u.y=g+this.y0,u},inverse:function Mu(u){u.x-=this.x0,u.y-=this.y0;var M,S,d=u.x/this.a,g=u.y/this.a;if(this.sphere){var B=g+this.lat0;M=Math.asin(Math.sin(B)*Math.cos(d)),S=Math.atan2(Math.tan(d),Math.cos(B))}else{var j=Wl(this.ml0/this.a+g,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(j)-y)<=C)return u.x=this.long0,u.y=y,g<0&&(u.y*=-1),u;var se=wr(this.a,this.e,Math.sin(j)),me=se*se*se/this.a/this.a*(1-this.es),Ee=Math.pow(Math.tan(j),2),be=d*this.a/se,Le=be*be;M=j-se*Math.tan(j)/me*be*be*(.5-(1+3*Ee)*be*be/24),S=be*(1-Le*(Ee/3+(1+3*Ee)*Ee*Le/15))/Math.cos(j)}return u.x=Se(S+this.long0),u.y=ei(M),u},names:["Cassini","Cassini_Soldner","cass"]};function bi(u,d){var g;return u>1e-7?(1-u*u)*(d/(1-(g=u*d)*g)-.5/u*Math.log((1-g)/(1+g))):2*d}const C1={init:function d1(){var d,u=Math.abs(this.lat0);if(this.mode=Math.abs(u-y)<C?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(u)<C?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=bi(this.e,1),this.mmf=.5/(1-this.es),this.apa=function w1(u){var d,g=[];return g[0]=.3333333333333333*u,g[0]+=.17222222222222222*(d=u*u),g[1]=.06388888888888888*d,g[0]+=.10257936507936508*(d*=u),g[1]+=.0664021164021164*d,g[2]=.016415012942191543*d,g}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),d=Math.sin(this.lat0),this.sinb1=bi(this.e,d)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*d*d)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function f1(u){var d,g,M,S,B,q,j,se,me,Ee,be=u.x,Le=u.y;if(be=Se(be-this.long0),this.sphere){if(B=Math.sin(Le),Ee=Math.cos(Le),M=Math.cos(be),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((g=this.mode===this.EQUIT?1+Ee*M:1+this.sinph0*B+this.cosph0*Ee*M)<=C)return null;d=(g=Math.sqrt(2/g))*Ee*Math.sin(be),g*=this.mode===this.EQUIT?B:this.cosph0*B-this.sinph0*Ee*M}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(M=-M),Math.abs(Le+this.lat0)<C)return null;g=N-.5*Le,d=(g=2*(this.mode===this.S_POLE?Math.cos(g):Math.sin(g)))*Math.sin(be),g*=M}}else{switch(j=0,se=0,me=0,M=Math.cos(be),S=Math.sin(be),B=Math.sin(Le),q=bi(this.e,B),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(j=q/this.qp,se=Math.sqrt(1-j*j)),this.mode){case this.OBLIQ:me=1+this.sinb1*j+this.cosb1*se*M;break;case this.EQUIT:me=1+se*M;break;case this.N_POLE:me=y+Le,q=this.qp-q;break;case this.S_POLE:me=Le-y,q=this.qp+q}if(Math.abs(me)<C)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:me=Math.sqrt(2/me),g=this.mode===this.OBLIQ?this.ymf*me*(this.cosb1*j-this.sinb1*se*M):(me=Math.sqrt(2/(1+se*M)))*j*this.ymf,d=this.xmf*me*se*S;break;case this.N_POLE:case this.S_POLE:q>=0?(d=(me=Math.sqrt(q))*S,g=M*(this.mode===this.S_POLE?me:-me)):d=g=0}}return u.x=this.a*d+this.x0,u.y=this.a*g+this.y0,u},inverse:function p1(u){u.x-=this.x0,u.y-=this.y0;var M,S,B,q,j,se,me,d=u.x/this.a,g=u.y/this.a;if(this.sphere){var be,Ee=0,Le=0;if((S=.5*(be=Math.sqrt(d*d+g*g)))>1)return null;switch(S=2*Math.asin(S),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(Le=Math.sin(S),Ee=Math.cos(S)),this.mode){case this.EQUIT:S=Math.abs(be)<=C?0:Math.asin(g*Le/be),d*=Le,g=Ee*be;break;case this.OBLIQ:S=Math.abs(be)<=C?this.lat0:Math.asin(Ee*this.sinph0+g*Le*this.cosph0/be),d*=Le*this.cosph0,g=(Ee-Math.sin(S)*this.sinph0)*be;break;case this.N_POLE:g=-g,S=y-S;break;case this.S_POLE:S-=y}M=0!==g||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,g):0}else{if(me=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,g*=this.dd,(se=Math.sqrt(d*d+g*g))<C)return u.x=this.long0,u.y=this.lat0,u;q=2*Math.asin(.5*se/this.rq),B=Math.cos(q),d*=q=Math.sin(q),this.mode===this.OBLIQ?(j=this.qp*(me=B*this.sinb1+g*q*this.cosb1/se),g=se*this.cosb1*B-g*this.sinb1*q):(j=this.qp*(me=g*q/se),g=se*B)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(g=-g),!(j=d*d+g*g))return u.x=this.long0,u.y=this.lat0,u;me=1-j/this.qp,this.mode===this.S_POLE&&(me=-me)}M=Math.atan2(d,g),S=function E1(u,d){var g=u+u;return u+d[0]*Math.sin(g)+d[1]*Math.sin(g+g)+d[2]*Math.sin(g+g+g)}(Math.asin(me),this.apa)}return u.x=Se(this.long0+M),u.y=S,u},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function ms(u){return Math.abs(u)>1&&(u=u>1?1:-1),Math.asin(u)}const _s={init:function tf(){Math.abs(this.lat1+this.lat2)<C||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ge(this.e3,this.sin_po,this.cos_po),this.qs1=bi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ge(this.e3,this.sin_po,this.cos_po),this.qs2=bi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=bi(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>C?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function Au(u){var d=u.x,g=u.y;this.sin_phi=Math.sin(g),this.cos_phi=Math.cos(g);var M=bi(this.e3,this.sin_phi),S=this.a*Math.sqrt(this.c-this.ns0*M)/this.ns0,B=this.ns0*Se(d-this.long0),q=S*Math.sin(B)+this.x0,j=this.rh-S*Math.cos(B)+this.y0;return u.x=q,u.y=j,u},inverse:function S1(u){var d,M,S,B,q;return u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns0>=0?(d=Math.sqrt(u.x*u.x+u.y*u.y),M=1):(d=-Math.sqrt(u.x*u.x+u.y*u.y),M=-1),S=0,0!==d&&(S=Math.atan2(M*u.x,M*u.y)),M=d*this.ns0/this.a,q=this.sphere?Math.asin((this.c-M*M)/(2*this.ns0)):this.phi1z(this.e3,(this.c-M*M)/this.ns0),B=Se(S/this.ns0+this.long0),u.x=B,u.y=q,u},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function D1(u,d){var g,S,B,q,j=ms(.5*d);if(u<C)return j;for(var se=u*u,me=1;me<=25;me++)if(j+=q=.5*(B=1-(S=u*(g=Math.sin(j)))*S)*B/Math.cos(j)*(d/(1-se)-g/B+.5/u*Math.log((1-S)/(1+S))),Math.abs(q)<=1e-7)return j;return null}},Xm={init:function nf(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function sr(u){var d,g,M,S,q,j,se,Ee=u.y;return M=Se(u.x-this.long0),d=Math.sin(Ee),g=Math.cos(Ee),S=Math.cos(M),(q=this.sin_p14*d+this.cos_p14*g*S)>0||Math.abs(q)<=C?(j=this.x0+1*this.a*g*Math.sin(M)/q,se=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*g*S)/q):(j=this.x0+this.infinity_dist*g*Math.sin(M),se=this.y0+this.infinity_dist*(this.cos_p14*d-this.sin_p14*g*S)),u.x=j,u.y=se,u},inverse:function rf(u){var d,g,M,S,B,q;return u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,(d=Math.sqrt(u.x*u.x+u.y*u.y))?(S=Math.atan2(d,this.rc),g=Math.sin(S),q=ms((M=Math.cos(S))*this.sin_p14+u.y*g*this.cos_p14/d),B=Math.atan2(u.x*g,d*this.cos_p14*M-u.y*this.sin_p14*g),B=Se(this.long0+B)):(q=this.phic0,B=0),u.x=B,u.y=q,u},names:["gnom"]},Er={init:function af(){this.sphere||(this.k0=ge(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function Qm(u){var M,S,g=u.y,B=Se(u.x-this.long0);if(this.sphere)M=this.x0+this.a*B*Math.cos(this.lat_ts),S=this.y0+this.a*Math.sin(g)/Math.cos(this.lat_ts);else{var q=bi(this.e,Math.sin(g));M=this.x0+this.a*this.k0*B,S=this.y0+this.a*q*.5/this.k0}return u.x=M,u.y=S,u},inverse:function Ru(u){var d,g;return u.x-=this.x0,u.y-=this.y0,this.sphere?(d=Se(this.long0+u.x/this.a/Math.cos(this.lat_ts)),g=Math.asin(u.y/this.a*Math.cos(this.lat_ts))):(g=function sf(u,d){var g=1-(1-u*u)/(2*u)*Math.log((1-u)/(1+u));if(Math.abs(Math.abs(d)-g)<1e-6)return d<0?-1*y:y;for(var S,B,q,j,M=Math.asin(.5*d),se=0;se<30;se++)if(B=Math.sin(M),q=Math.cos(M),j=u*B,M+=S=Math.pow(1-j*j,2)/(2*q)*(d/(1-u*u)-B/(1-j*j)+.5/u*Math.log((1-j)/(1+j))),Math.abs(S)<=1e-10)return M;return NaN}(this.e,2*u.y*this.k0/this.a),d=Se(this.long0+u.x/(this.a*this.k0))),u.x=d,u.y=g,u},names:["cea"]},I1={init:function Pu(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function e_(u){var g=u.y,M=Se(u.x-this.long0),S=ei(g-this.lat0);return u.x=this.x0+this.a*M*this.rc,u.y=this.y0+this.a*S,u},inverse:function ku(u){var g=u.y;return u.x=Se(this.long0+(u.x-this.x0)/(this.a*this.rc)),u.y=ei(this.lat0+(g-this.y0)/this.a),u},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},i_={init:function n_(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Vo(this.es),this.e1=gs(this.es),this.e2=ho(this.es),this.e3=Bo(this.es),this.ml0=this.a*Ni(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function M1(u){var M,S,B,g=u.y,q=Se(u.x-this.long0);if(B=q*Math.sin(g),this.sphere)Math.abs(g)<=C?(M=this.a*q,S=-1*this.a*this.lat0):(M=this.a*Math.sin(B)/Math.tan(g),S=this.a*(ei(g-this.lat0)+(1-Math.cos(B))/Math.tan(g)));else if(Math.abs(g)<=C)M=this.a*q,S=-1*this.ml0;else{var j=wr(this.a,this.e,Math.sin(g))/Math.tan(g);M=j*Math.sin(B),S=this.a*Ni(this.e0,this.e1,this.e2,this.e3,g)-this.ml0+j*(1-Math.cos(B))}return u.x=M+this.x0,u.y=S+this.y0,u},inverse:function Yl(u){var d,g,M,S,B,q,j,se,me;if(M=u.x-this.x0,S=u.y-this.y0,this.sphere)if(Math.abs(S+this.a*this.lat0)<=C)d=Se(M/this.a+this.long0),g=0;else{var Ee;for(j=M*M/this.a/this.a+(q=this.lat0+S/this.a)*q,se=q,B=20;B;--B)if(se+=me=-1*(q*(se*(Ee=Math.tan(se))+1)-se-.5*(se*se+j)*Ee)/((se-q)/Ee-1),Math.abs(me)<=C){g=se;break}d=Se(this.long0+Math.asin(M*Math.tan(se)/this.a)/Math.sin(g))}else if(Math.abs(S+this.ml0)<=C)g=0,d=Se(this.long0+M/this.a);else{var be,Le,Ke,Ze,Qe;for(j=M*M/this.a/this.a+(q=(this.ml0+S)/this.a)*q,se=q,B=20;B;--B)if(Qe=this.e*Math.sin(se),be=Math.sqrt(1-Qe*Qe)*Math.tan(se),Le=this.a*Ni(this.e0,this.e1,this.e2,this.e3,se),Ke=this.e0-2*this.e1*Math.cos(2*se)+4*this.e2*Math.cos(4*se)-6*this.e3*Math.cos(6*se),se-=me=(q*(be*(Ze=Le/this.a)+1)-Ze-.5*be*(Ze*Ze+j))/(this.es*Math.sin(2*se)*(Ze*Ze+j-2*q*Ze)/(4*be)+(q-Ze)*(be*Ke-2/Math.sin(2*se))-Ke),Math.abs(me)<=C){g=se;break}be=Math.sqrt(1-this.es*Math.pow(Math.sin(g),2))*Math.tan(g),d=Se(this.long0+Math.asin(M*be/this.a)/Math.sin(g))}return u.x=d,u.y=g,u},names:["Polyconic","poly"]},o_={init:function qs(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function lr(u){var d,q=(u.y-this.lat0)/b*1e-5,j=u.x-this.long0,se=1,me=0;for(d=1;d<=10;d++)me+=this.A[d]*(se*=q);var Qe,Ee=me,be=j,Le=1,Ke=0,et=0,xt=0;for(d=1;d<=6;d++)Qe=Ke*Ee+Le*be,et=et+this.B_re[d]*(Le=Le*Ee-Ke*be)-this.B_im[d]*(Ke=Qe),xt=xt+this.B_im[d]*Le+this.B_re[d]*Ke;return u.x=xt*this.a+this.x0,u.y=et*this.a+this.y0,u},inverse:function r_(u){var d,be,q=(u.y-this.y0)/this.a,j=(u.x-this.x0)/this.a,se=1,me=0,Le=0,Ke=0;for(d=1;d<=6;d++)be=me*q+se*j,Le=Le+this.C_re[d]*(se=se*q-me*j)-this.C_im[d]*(me=be),Ke=Ke+this.C_im[d]*se+this.C_re[d]*me;for(var Ze=0;Ze<this.iterations;Ze++){var qt,Qe=Le,et=Ke,rn=q,bn=j;for(d=2;d<=6;d++)qt=et*Le+Qe*Ke,rn+=(d-1)*(this.B_re[d]*(Qe=Qe*Le-et*Ke)-this.B_im[d]*(et=qt)),bn+=(d-1)*(this.B_im[d]*Qe+this.B_re[d]*et);Qe=1,et=0;var cn=this.B_re[1],En=this.B_im[1];for(d=2;d<=6;d++)qt=et*Le+Qe*Ke,cn+=d*(this.B_re[d]*(Qe=Qe*Le-et*Ke)-this.B_im[d]*(et=qt)),En+=d*(this.B_im[d]*Qe+this.B_re[d]*et);var hi=cn*cn+En*En;Le=(rn*cn+bn*En)/hi,Ke=(bn*cn-rn*En)/hi}var On=Le,qr=Ke,Go=1,Ho=0;for(d=1;d<=9;d++)Ho+=this.D[d]*(Go*=On);var go=this.lat0+Ho*b*1e5;return u.x=this.long0+qr,u.y=go,u},names:["New_Zealand_Map_Grid","nzmg"]},uf={init:function zo(){},forward:function cf(u){var g=u.y,M=Se(u.x-this.long0),S=this.x0+this.a*M,B=this.y0+this.a*Math.log(Math.tan(Math.PI/4+g/2.5))*1.25;return u.x=S,u.y=B,u},inverse:function Ou(u){u.x-=this.x0,u.y-=this.y0;var d=Se(this.long0+u.x/this.a),g=2.5*(Math.atan(Math.exp(.8*u.y/this.a))-Math.PI/4);return u.x=d,u.y=g,u},names:["Miller_Cylindrical","mill"]},c_={init:function s_(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Yd(this.es)},forward:function a_(u){var d,g,M=u.x,S=u.y;if(M=Se(M-this.long0),this.sphere){if(this.m)for(var B=this.n*Math.sin(S),q=20;q;--q){var j=(this.m*S+Math.sin(S)-B)/(this.m+Math.cos(S));if(S-=j,Math.abs(j)<C)break}else S=1!==this.n?Math.asin(this.n*Math.sin(S)):S;d=this.a*this.C_x*M*(this.m+Math.cos(S)),g=this.a*this.C_y*S}else{var se=Math.sin(S),me=Math.cos(S);g=this.a*Ga(S,se,me,this.en),d=this.a*M*me/Math.sqrt(1-this.es*se*se)}return u.x=d,u.y=g,u},inverse:function l_(u){var d,M,S;return u.x-=this.x0,M=u.x/this.a,u.y-=this.y0,d=u.y/this.a,this.sphere?(d/=this.C_y,M/=this.C_x*(this.m+Math.cos(d)),this.m?d=ms((this.m*d+Math.sin(d))/this.n):1!==this.n&&(d=ms(Math.sin(d)/this.n)),M=Se(M+this.long0),d=ei(d)):(d=jl(u.y/this.a,this.es,this.en),(S=Math.abs(d))<y?(S=Math.sin(d),M=Se(this.long0+u.x*Math.sqrt(1-this.es*S*S)/(this.a*Math.cos(d)))):S-C<y&&(M=this.long0)),u.x=M,u.y=d,u},names:["Sinusoidal","sinu"]},pn={init:function u_(){},forward:function Ge(u){for(var g=u.y,M=Se(u.x-this.long0),S=g,B=Math.PI*Math.sin(g);;){var q=-(S+Math.sin(S)-B)/(1+Math.cos(S));if(S+=q,Math.abs(q)<C)break}S/=2,Math.PI/2-Math.abs(g)<C&&(M=0);var j=.900316316158*this.a*M*Math.cos(S)+this.x0,se=1.4142135623731*this.a*Math.sin(S)+this.y0;return u.x=j,u.y=se,u},inverse:function dn(u){var d,g;u.x-=this.x0,u.y-=this.y0,g=u.y/(1.4142135623731*this.a),Math.abs(g)>.999999999999&&(g=.999999999999),d=Math.asin(g);var M=Se(this.long0+u.x/(.900316316158*this.a*Math.cos(d)));M<-Math.PI&&(M=-Math.PI),M>Math.PI&&(M=Math.PI),g=(2*d+Math.sin(2*d))/Math.PI,Math.abs(g)>1&&(g=1);var S=Math.asin(g);return u.x=M,u.y=S,u},names:["Mollweide","moll"]},Fu={init:function ui(){Math.abs(this.lat1+this.lat2)<C||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Vo(this.es),this.e1=gs(this.es),this.e2=ho(this.es),this.e3=Bo(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ge(this.e,this.sinphi,this.cosphi),this.ml1=Ni(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<C?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ge(this.e,this.sinphi,this.cosphi),this.ml2=Ni(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ni(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function df(u){var M,d=u.x,g=u.y;if(this.sphere)M=this.a*(this.g-g);else{var S=Ni(this.e0,this.e1,this.e2,this.e3,g);M=this.a*(this.g-S)}var B=this.ns*Se(d-this.long0),q=this.x0+M*Math.sin(B),j=this.y0+this.rh-M*Math.cos(B);return u.x=q,u.y=j,u},inverse:function Ya(u){var d,g,M,S;u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns>=0?(g=Math.sqrt(u.x*u.x+u.y*u.y),d=1):(g=-Math.sqrt(u.x*u.x+u.y*u.y),d=-1);var B=0;return 0!==g&&(B=Math.atan2(d*u.x,d*u.y)),this.sphere?(S=Se(this.long0+B/this.ns),M=ei(this.g-g/this.a),u.x=S,u.y=M,u):(M=Wl(this.g-g/this.a,this.e0,this.e1,this.e2,this.e3),S=Se(this.long0+B/this.ns),u.x=S,u.y=M,u)},names:["Equidistant_Conic","eqdc"]},ff={init:function Lu(){this.R=this.a},forward:function R1(u){var S,B,g=u.y,M=Se(u.x-this.long0);Math.abs(g)<=C&&(S=this.x0+this.R*M,B=this.y0);var q=ms(2*Math.abs(g/Math.PI));(Math.abs(M)<=C||Math.abs(Math.abs(g)-y)<=C)&&(S=this.x0,B=g>=0?this.y0+Math.PI*this.R*Math.tan(.5*q):this.y0+Math.PI*this.R*-Math.tan(.5*q));var j=.5*Math.abs(Math.PI/M-M/Math.PI),se=j*j,me=Math.sin(q),Ee=Math.cos(q),be=Ee/(me+Ee-1),Ke=be*(2/me-1),Ze=Ke*Ke,Qe=Math.PI*this.R*(j*(be-Ze)+Math.sqrt(se*(be-Ze)*(be-Ze)-(Ze+se)*(be*be-Ze)))/(Ze+se);M<0&&(Qe=-Qe),S=this.x0+Qe;var et=se+be;return Qe=Math.PI*this.R*(Ke*et-j*Math.sqrt((Ze+se)*(se+1)-et*et))/(Ze+se),B=g>=0?this.y0+Qe:this.y0-Qe,u.x=S,u.y=B,u},inverse:function h_(u){var d,g,M,S,B,q,j,se,me,Ee,be,Le;return u.x-=this.x0,u.y-=this.y0,be=Math.PI*this.R,B=(M=u.x/be)*M+(S=u.y/be)*S,be=3*(S*S/(se=-2*(q=-Math.abs(S)*(1+B))+1+2*S*S+B*B)+(2*(j=q-2*S*S+M*M)*j*j/se/se/se-9*q*j/se/se)/27)/(me=(q-j*j/3/se)/se)/(Ee=2*Math.sqrt(-me/3)),Math.abs(be)>1&&(be=be>=0?1:-1),Le=Math.acos(be)/3,g=u.y>=0?(-Ee*Math.cos(Le+Math.PI/3)-j/3/se)*Math.PI:-(-Ee*Math.cos(Le+Math.PI/3)-j/3/se)*Math.PI,d=Math.abs(M)<C?this.long0:Se(this.long0+Math.PI*(B-1+Math.sqrt(1+2*(M*M-S*S)+B*B))/2/M),u.x=d,u.y=g,u},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},po={init:function Vi(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function fo(u){var q,j,se,me,Ee,be,Le,Ke,Ze,Qe,et,xt,qt,rn,bn,cn,En,hi,On,qr,Go,Ho,d=u.x,g=u.y,M=Math.sin(u.y),S=Math.cos(u.y),B=Se(d-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=C?(u.x=this.x0+this.a*(y-g)*Math.sin(B),u.y=this.y0-this.a*(y-g)*Math.cos(B),u):Math.abs(this.sin_p12+1)<=C?(u.x=this.x0+this.a*(y+g)*Math.sin(B),u.y=this.y0+this.a*(y+g)*Math.cos(B),u):(hi=this.sin_p12*M+this.cos_p12*S*Math.cos(B),En=(cn=Math.acos(hi))?cn/Math.sin(cn):1,u.x=this.x0+this.a*En*S*Math.sin(B),u.y=this.y0+this.a*En*(this.cos_p12*M-this.sin_p12*S*Math.cos(B)),u):(q=Vo(this.es),j=gs(this.es),se=ho(this.es),me=Bo(this.es),Math.abs(this.sin_p12-1)<=C?(Ee=this.a*Ni(q,j,se,me,y),be=this.a*Ni(q,j,se,me,g),u.x=this.x0+(Ee-be)*Math.sin(B),u.y=this.y0-(Ee-be)*Math.cos(B),u):Math.abs(this.sin_p12+1)<=C?(Ee=this.a*Ni(q,j,se,me,y),be=this.a*Ni(q,j,se,me,g),u.x=this.x0+(Ee+be)*Math.sin(B),u.y=this.y0+(Ee+be)*Math.cos(B),u):(Le=M/S,Ke=wr(this.a,this.e,this.sin_p12),Ze=wr(this.a,this.e,M),Qe=Math.atan((1-this.es)*Le+this.es*Ke*this.sin_p12/(Ze*S)),On=0===(et=Math.atan2(Math.sin(B),this.cos_p12*Math.tan(Qe)-this.sin_p12*Math.cos(B)))?Math.asin(this.cos_p12*Math.sin(Qe)-this.sin_p12*Math.cos(Qe)):Math.abs(Math.abs(et)-Math.PI)<=C?-Math.asin(this.cos_p12*Math.sin(Qe)-this.sin_p12*Math.cos(Qe)):Math.asin(Math.sin(B)*Math.cos(Qe)/Math.sin(et)),xt=this.e*this.sin_p12/Math.sqrt(1-this.es),qt=this.e*this.cos_p12*Math.cos(et)/Math.sqrt(1-this.es),u.x=this.x0+(cn=Ke*On*(1-(qr=On*On)*(bn=qt*qt)*(1-bn)/6+(Go=qr*On)/8*(rn=xt*qt)*(1-2*bn)+(Ho=Go*On)/120*(bn*(4-7*bn)-3*xt*xt*(1-7*bn))-Ho*On/48*rn))*Math.sin(et),u.y=this.y0+cn*Math.cos(et),u))},inverse:function pf(u){var d,g,M,S,B,q,j,se,me,Ee,be,Le,Ze,Qe,et,xt,qt,rn,bn,cn,En,hi,On;return u.x-=this.x0,u.y-=this.y0,this.sphere?(d=Math.sqrt(u.x*u.x+u.y*u.y))>2*y*this.a?void 0:(g=d/this.a,M=Math.sin(g),S=Math.cos(g),B=this.long0,Math.abs(d)<=C?q=this.lat0:(q=ms(S*this.sin_p12+u.y*M*this.cos_p12/d),j=Math.abs(this.lat0)-y,B=Math.abs(j)<=C?Se(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)):Se(this.long0+Math.atan2(u.x*M,d*this.cos_p12*S-u.y*this.sin_p12*M))),u.x=B,u.y=q,u):(se=Vo(this.es),me=gs(this.es),Ee=ho(this.es),be=Bo(this.es),Math.abs(this.sin_p12-1)<=C?(q=Wl(((Le=this.a*Ni(se,me,Ee,be,y))-(d=Math.sqrt(u.x*u.x+u.y*u.y)))/this.a,se,me,Ee,be),B=Se(this.long0+Math.atan2(u.x,-1*u.y)),u.x=B,u.y=q,u):Math.abs(this.sin_p12+1)<=C?(Le=this.a*Ni(se,me,Ee,be,y),q=Wl(((d=Math.sqrt(u.x*u.x+u.y*u.y))-Le)/this.a,se,me,Ee,be),B=Se(this.long0+Math.atan2(u.x,u.y)),u.x=B,u.y=q,u):(d=Math.sqrt(u.x*u.x+u.y*u.y),et=Math.atan2(u.x,u.y),Ze=wr(this.a,this.e,this.sin_p12),xt=Math.cos(et),bn=3*this.es*(1-(rn=-(qt=this.e*this.cos_p12*xt)*qt/(1-this.es)))*this.sin_p12*this.cos_p12*xt/(1-this.es),hi=1-rn*(En=(cn=d/Ze)-rn*(1+rn)*Math.pow(cn,3)/6-bn*(1+3*rn)*Math.pow(cn,4)/24)*En/2-cn*En*En*En/6,Qe=Math.asin(this.sin_p12*Math.cos(En)+this.cos_p12*Math.sin(En)*xt),B=Se(this.long0+Math.asin(Math.sin(et)*Math.sin(En)/Math.cos(Qe))),On=Math.sin(Qe),q=Math.atan2((On-this.es*hi*this.sin_p12)*Math.tan(Qe),On*(1-this.es)),u.x=B,u.y=q,u))},names:["Azimuthal_Equidistant","aeqd"]},Nu={init:function d_(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function gf(u){var d,g,M,S,q,j,se,Ee=u.y;return M=Se(u.x-this.long0),d=Math.sin(Ee),g=Math.cos(Ee),S=Math.cos(M),((q=this.sin_p14*d+this.cos_p14*g*S)>0||Math.abs(q)<=C)&&(j=1*this.a*g*Math.sin(M),se=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*g*S)),u.x=j,u.y=se,u},inverse:function f_(u){var d,g,M,S,B,q,j;return u.x-=this.x0,u.y-=this.y0,g=ms((d=Math.sqrt(u.x*u.x+u.y*u.y))/this.a),M=Math.sin(g),S=Math.cos(g),q=this.long0,Math.abs(d)<=C?(j=this.lat0,u.x=q,u.y=j,u):(j=ms(S*this.sin_p14+u.y*M*this.cos_p14/d),B=Math.abs(this.lat0)-y,Math.abs(B)<=C?(q=Se(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)),u.x=q,u.y=j,u):(q=Se(this.long0+Math.atan2(u.x*M,d*this.cos_p14*S-u.y*this.sin_p14*M)),u.x=q,u.y=j,u))},names:["ortho"]};function Qs(u,d,g,M){var S;return u<C?(M.value=1,S=0):(S=Math.atan2(d,g),Math.abs(S)<=N?M.value=1:S>N&&S<=y+N?(M.value=2,S-=y):S>y+N||S<=-(y+N)?(M.value=3,S=S>=0?S-J:S+J):(M.value=4,S+=y)),S}function ys(u,d){var g=u+d;return g<-J?g+=ne:g>+J&&(g-=ne),g}const yf={init:function Vu(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=y-N/2?5:this.lat0<=-(y-N/2)?6:Math.abs(this.long0)<=N?1:Math.abs(this.long0)<=y+N?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function g_(u){var g,M,S,B,q,j,d={x:0,y:0},se={value:0};if(u.x-=this.long0,g=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(u.y)):u.y,M=u.x,5===this.face)B=y-g,M>=N&&M<=y+N?(se.value=1,S=M-y):M>y+N||M<=-(y+N)?(se.value=2,S=M>0?M-J:M+J):M>-(y+N)&&M<=-N?(se.value=3,S=M+y):(se.value=4,S=M);else if(6===this.face)B=y+g,M>=N&&M<=y+N?(se.value=1,S=-M+y):M<N&&M>=-N?(se.value=2,S=-M):M<-N&&M>=-(y+N)?(se.value=3,S=-M-y):(se.value=4,S=M>0?-M+J:-M-J);else{var me,Ee,be,Le,Ke,Ze;2===this.face?M=ys(M,+y):3===this.face?M=ys(M,+J):4===this.face&&(M=ys(M,-y)),Le=Math.sin(g),Ke=Math.cos(g),Ze=Math.sin(M),me=Ke*Math.cos(M),Ee=Ke*Ze,be=Le,1===this.face?S=Qs(B=Math.acos(me),be,Ee,se):2===this.face?S=Qs(B=Math.acos(Ee),be,-me,se):3===this.face?S=Qs(B=Math.acos(-me),be,-Ee,se):4===this.face?S=Qs(B=Math.acos(-Ee),be,me,se):(B=S=0,se.value=1)}return j=Math.atan(12/J*(S+Math.acos(Math.sin(S)*Math.cos(N))-y)),q=Math.sqrt((1-Math.cos(B))/(Math.cos(j)*Math.cos(j))/(1-Math.cos(Math.atan(1/Math.cos(S))))),2===se.value?j+=y:3===se.value?j+=J:4===se.value&&(j+=1.5*J),d.x=q*Math.cos(j),d.y=q*Math.sin(j),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,u.x=d.x,u.y=d.y,u},inverse:function mf(u){var g,M,S,B,q,j,se,me,Ee,Qe,et,xt,d={lam:0,phi:0},be={value:0};if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,M=Math.atan(Math.sqrt(u.x*u.x+u.y*u.y)),g=Math.atan2(u.y,u.x),u.x>=0&&u.x>=Math.abs(u.y)?be.value=1:u.y>=0&&u.y>=Math.abs(u.x)?(be.value=2,g-=y):u.x<0&&-u.x>=Math.abs(u.y)?(be.value=3,g=g<0?g+J:g-J):(be.value=4,g+=y),Ee=J/12*Math.tan(g),q=Math.sin(Ee)/(Math.cos(Ee)-1/Math.sqrt(2)),j=Math.atan(q),(se=1-(S=Math.cos(g))*S*(B=Math.tan(M))*B*(1-Math.cos(Math.atan(1/Math.cos(j)))))<-1?se=-1:se>1&&(se=1),5===this.face)me=Math.acos(se),d.phi=y-me,d.lam=1===be.value?j+y:2===be.value?j<0?j+J:j-J:3===be.value?j-y:j;else if(6===this.face)me=Math.acos(se),d.phi=me-y,d.lam=1===be.value?-j+y:2===be.value?-j:3===be.value?-j-y:j<0?-j-J:-j+J;else{var Le,Ke,Ze;Ee=(Le=se)*Le,Ke=(Ee+=(Ze=Ee>=1?0:Math.sqrt(1-Ee)*Math.sin(j))*Ze)>=1?0:Math.sqrt(1-Ee),2===be.value?(Ee=Ke,Ke=-Ze,Ze=Ee):3===be.value?(Ke=-Ke,Ze=-Ze):4===be.value&&(Ee=Ke,Ke=Ze,Ze=-Ee),2===this.face?(Ee=Le,Le=-Ke,Ke=Ee):3===this.face?(Le=-Le,Ke=-Ke):4===this.face&&(Ee=Le,Le=Ke,Ke=-Ee),d.phi=Math.acos(-Ze)-y,d.lam=Math.atan2(Ke,Le),2===this.face?d.lam=ys(d.lam,-y):3===this.face?d.lam=ys(d.lam,-J):4===this.face&&(d.lam=ys(d.lam,+y))}return 0!==this.es&&(Qe=d.phi<0?1:0,et=Math.tan(d.phi),xt=this.b/Math.sqrt(et*et+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-xt*xt)/(this.one_minus_f*xt)),Qe&&(d.phi=-d.phi)),d.lam+=this.long0,u.x=d.lam,u.y=d.phi,u},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var ql=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],bs=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Xl=function(u,d){return u[0]+d*(u[1]+d*(u[2]+d*u[3]))};const Jl={init:function y_(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function b_(u){var d=Se(u.x-this.long0),g=Math.abs(u.y),M=Math.floor(11.459155902616464*g);M<0?M=0:M>=18&&(M=17);var S={x:Xl(ql[M],g=K*(g-.08726646259971647*M))*d,y:Xl(bs[M],g)};return u.y<0&&(S.y=-S.y),S.x=S.x*this.a*.8487+this.x0,S.y=S.y*this.a*1.3523+this.y0,S},inverse:function v_(u){var d={x:(u.x-this.x0)/(.8487*this.a),y:Math.abs(u.y-this.y0)/(1.3523*this.a)};if(d.y>=1)d.x/=ql[18][0],d.y=u.y<0?-y:y;else{var g=Math.floor(18*d.y);for(g<0?g=0:g>=18&&(g=17);;)if(bs[g][0]>d.y)--g;else{if(!(bs[g+1][0]<=d.y))break;++g}var M=bs[g],S=5*(d.y-M[0])/(bs[g+1][0]-M[0]);S=function __(u,d,g,M){for(var S=d;M;--M){var B=u(S);if(S-=B,Math.abs(B)<g)break}return S}(function(B){return(Xl(M,B)-d.y)/function(u,d){return u[1]+d*(2*u[2]+3*d*u[3])}(M,B)},S,C,100),d.x/=Xl(ql[g],S),d.y=(5*g+S)*z,u.y<0&&(d.y=-d.y)}return d.x=Se(d.x+this.long0),d},names:["Robinson","robin"]},Uo={init:function ec(){this.name="geocent"},forward:function Bu(u){return Fl(u,this.es,this.a)},inverse:function wf(u){return Vd(u,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var $a={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const C_={init:function E_(){if(Object.keys($a).forEach(function(g){if(typeof this[g]>"u")this[g]=$a[g].def;else{if($a[g].num&&isNaN(this[g]))throw new Error("Invalid parameter value, must be numeric "+g+" = "+this[g]);$a[g].num&&(this[g]=parseFloat(this[g]))}$a[g].degrees&&(this[g]=this[g]*z)}.bind(this)),Math.abs(Math.abs(this.lat0)-y)<C?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<C?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var u=this.tilt,d=this.azi;this.cg=Math.cos(d),this.sg=Math.sin(d),this.cw=Math.cos(u),this.sw=Math.sin(u)},forward:function qa(u){u.x-=this.long0;var S,B,q,j,d=Math.sin(u.y),g=Math.cos(u.y),M=Math.cos(u.x);switch(this.mode){case 3:B=this.sinph0*d+this.cosph0*g*M;break;case 2:B=g*M;break;case 1:B=-d;break;case 0:B=d}switch(S=(B=this.pn1/(this.p-B))*g*Math.sin(u.x),this.mode){case 3:B*=this.cosph0*d-this.sinph0*g*M;break;case 2:B*=d;break;case 0:B*=-g*M;break;case 1:B*=g*M}return S=(S*this.cg-B*this.sg)*this.cw*(j=1/((q=B*this.cg+S*this.sg)*this.sw*this.h1+this.cw)),B=q*j,u.x=S*this.a,u.y=B*this.a,u},inverse:function zu(u){u.x/=this.a,u.y/=this.a;var g,M,S,d={x:u.x,y:u.y};u.x=(g=this.pn1*u.x*(S=1/(this.pn1-u.y*this.sw)))*this.cg+(M=this.pn1*u.y*this.cw*S)*this.sg,u.y=M*this.cg-g*this.sg;var B=_r(u.x,u.y);if(Math.abs(B)<C)d.x=0,d.y=u.y;else{var q,j;switch(j=1-B*B*this.pfact,j=(this.p-Math.sqrt(j))/(this.pn1/B+B/this.pn1),q=Math.sqrt(1-j*j),this.mode){case 3:d.y=Math.asin(q*this.sinph0+u.y*j*this.cosph0/B),u.y=(q-this.sinph0*Math.sin(d.y))*B,u.x*=j*this.cosph0;break;case 2:d.y=Math.asin(u.y*j/B),u.y=q*B,u.x*=j;break;case 0:d.y=Math.asin(q),u.y=-u.y;break;case 1:d.y=-Math.asin(q)}d.x=Math.atan2(u.x,u.y)}return u.x=d.x+this.long0,u.y=d.y,u},names:["Tilted_Perspective","tpers"]},xf={init:function k1(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var u=1-this.es,d=1/u;this.radius_p=Math.sqrt(u),this.radius_p2=u,this.radius_p_inv2=d,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function O1(u){var M,S,B,q,d=u.x,g=u.y;if(d-=this.long0,"ellipse"===this.shape){g=Math.atan(this.radius_p2*Math.tan(g));var j=this.radius_p/_r(this.radius_p*Math.cos(g),Math.sin(g));if(S=j*Math.cos(d)*Math.cos(g),B=j*Math.sin(d)*Math.cos(g),q=j*Math.sin(g),(this.radius_g-S)*S-B*B-q*q*this.radius_p_inv2<0)return u.x=Number.NaN,u.y=Number.NaN,u;M=this.radius_g-S,this.flip_axis?(u.x=this.radius_g_1*Math.atan(B/_r(q,M)),u.y=this.radius_g_1*Math.atan(q/M)):(u.x=this.radius_g_1*Math.atan(B/M),u.y=this.radius_g_1*Math.atan(q/_r(B,M)))}else"sphere"===this.shape&&(M=Math.cos(g),S=Math.cos(d)*M,B=Math.sin(d)*M,q=Math.sin(g),M=this.radius_g-S,this.flip_axis?(u.x=this.radius_g_1*Math.atan(B/_r(q,M)),u.y=this.radius_g_1*Math.atan(q/M)):(u.x=this.radius_g_1*Math.atan(B/M),u.y=this.radius_g_1*Math.atan(q/_r(B,M))));return u.x=u.x*this.a,u.y=u.y*this.a,u},inverse:function tc(u){var S,B,q,j,d=-1,g=0,M=0;if(u.x=u.x/this.a,u.y=u.y/this.a,"ellipse"===this.shape){this.flip_axis?(M=Math.tan(u.y/this.radius_g_1),g=Math.tan(u.x/this.radius_g_1)*_r(1,M)):(g=Math.tan(u.x/this.radius_g_1),M=Math.tan(u.y/this.radius_g_1)*_r(1,g));var se=M/this.radius_p;if((q=(B=2*this.radius_g*d)*B-4*(S=g*g+se*se+d*d)*this.C)<0)return u.x=Number.NaN,u.y=Number.NaN,u;j=(-B-Math.sqrt(q))/(2*S),d=this.radius_g+j*d,g*=j,M*=j,u.x=Math.atan2(g,d),u.y=Math.atan(M*Math.cos(u.x)/d),u.y=Math.atan(this.radius_p_inv2*Math.tan(u.y))}else if("sphere"===this.shape){if(this.flip_axis?(M=Math.tan(u.y/this.radius_g_1),g=Math.tan(u.x/this.radius_g_1)*Math.sqrt(1+M*M)):(g=Math.tan(u.x/this.radius_g_1),M=Math.tan(u.y/this.radius_g_1)*Math.sqrt(1+g*g)),(q=(B=2*this.radius_g*d)*B-4*(S=g*g+M*M+d*d)*this.C)<0)return u.x=Number.NaN,u.y=Number.NaN,u;j=(-B-Math.sqrt(q))/(2*S),d=this.radius_g+j*d,g*=j,M*=j,u.x=Math.atan2(g,d),u.y=Math.atan(M*Math.cos(u.x)/d)}return u.x=u.x+this.long0,u},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};nn.defaultDatum="WGS84",nn.Proj=Ba,nn.WGS84=new nn.Proj("WGS84"),nn.Point=n1,nn.toPoint=Eu,nn.defs=Oe,nn.nadgrid=function xm(u,d){var g=new DataView(d),M=function Dm(u){var d=u.getInt32(8,!1);return 11!==d&&(11!==(d=u.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(g),S=function Tm(u,d){return{nFields:u.getInt32(8,d),nSubgridFields:u.getInt32(24,d),nSubgrids:u.getInt32(40,d),shiftType:Kr(u,56,64).trim(),fromSemiMajorAxis:u.getFloat64(120,d),fromSemiMinorAxis:u.getFloat64(136,d),toSemiMajorAxis:u.getFloat64(152,d),toSemiMinorAxis:u.getFloat64(168,d)}}(g,M);S.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var B=function Im(u,d,g){for(var S=[],B=0;B<d.nSubgrids;B++){var q=Ld(u,176,g),j=wu(u,176,q,g),se=Math.round(1+(q.upperLongitude-q.lowerLongitude)/q.longitudeInterval),me=Math.round(1+(q.upperLatitude-q.lowerLatitude)/q.latitudeInterval);S.push({ll:[us(q.lowerLongitude),us(q.lowerLatitude)],del:[us(q.longitudeInterval),us(q.latitudeInterval)],lim:[se,me],count:q.gridNodeCount,cvs:vu(j)})}return S}(g,S,M),q={header:S,subgrids:B};return Fd[u]=q,q},nn.transform=hs,nn.mgrs=Wt,nn.version="__VERSION__",function nc(u){u.Proj.projections.add(Ul),u.Proj.projections.add(hn),u.Proj.projections.add(uo),u.Proj.projections.add(xn),u.Proj.projections.add(st),u.Proj.projections.add(yi),u.Proj.projections.add(Ks),u.Proj.projections.add(Ys),u.Proj.projections.add(Zm),u.Proj.projections.add(Kl),u.Proj.projections.add(C1),u.Proj.projections.add(_s),u.Proj.projections.add(Xm),u.Proj.projections.add(Er),u.Proj.projections.add(I1),u.Proj.projections.add(i_),u.Proj.projections.add(o_),u.Proj.projections.add(uf),u.Proj.projections.add(c_),u.Proj.projections.add(pn),u.Proj.projections.add(Fu),u.Proj.projections.add(ff),u.Proj.projections.add(po),u.Proj.projections.add(Nu),u.Proj.projections.add(yf),u.Proj.projections.add(Jl),u.Proj.projections.add(Uo),u.Proj.projections.add(C_),u.Proj.projections.add(xf)}(nn);const Cf=nn},2402:function(ot){ot.exports=function(){"use strict";function oe(C,z,K,N,ne){!function J(le,de,ve,Ce,fe){for(;Ce>ve;){if(Ce-ve>600){var De=Ce-ve+1,W=de-ve+1,Re=Math.log(De),lt=.5*Math.exp(2*Re/3),Ve=.5*Math.sqrt(Re*lt*(De-lt)/De)*(W-De/2<0?-1:1);J(le,de,Math.max(ve,Math.floor(de-W*lt/De+Ve)),Math.min(Ce,Math.floor(de+(De-W)*lt/De+Ve)),fe)}var it=le[de],Te=ve,we=Ce;for(ie(le,ve,de),fe(le[Ce],it)>0&&ie(le,ve,Ce);Te<we;){for(ie(le,Te,we),Te++,we--;fe(le[Te],it)<0;)Te++;for(;fe(le[we],it)>0;)we--}0===fe(le[ve],it)?ie(le,ve,we):ie(le,++we,Ce),we<=de&&(ve=we+1),de<=we&&(Ce=we-1)}}(C,z,K||0,N||C.length-1,ne||Q)}function ie(C,z,K){var N=C[z];C[z]=C[K],C[K]=N}function Q(C,z){return C<z?-1:C>z?1:0}var F=function(C){void 0===C&&(C=9),this._maxEntries=Math.max(4,C),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function U(C,z,K){if(!K)return z.indexOf(C);for(var N=0;N<z.length;N++)if(K(C,z[N]))return N;return-1}function T(C,z){R(C,0,C.children.length,z,C)}function R(C,z,K,N,ne){ne||(ne=P(null)),ne.minX=1/0,ne.minY=1/0,ne.maxX=-1/0,ne.maxY=-1/0;for(var J=z;J<K;J++){var le=C.children[J];Y(ne,C.leaf?N(le):le)}return ne}function Y(C,z){return C.minX=Math.min(C.minX,z.minX),C.minY=Math.min(C.minY,z.minY),C.maxX=Math.max(C.maxX,z.maxX),C.maxY=Math.max(C.maxY,z.maxY),C}function I(C,z){return C.minX-z.minX}function L(C,z){return C.minY-z.minY}function O(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function b(C){return C.maxX-C.minX+(C.maxY-C.minY)}function y(C,z){return C.minX<=z.minX&&C.minY<=z.minY&&z.maxX<=C.maxX&&z.maxY<=C.maxY}function x(C,z){return z.minX<=C.maxX&&z.minY<=C.maxY&&z.maxX>=C.minX&&z.maxY>=C.minY}function P(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(C,z,K,N,ne){for(var J=[z,K];J.length;)if(!((K=J.pop())-(z=J.pop())<=N)){var le=z+Math.ceil((K-z)/N/2)*N;oe(C,le,z,K,ne),J.push(z,le,le,K)}}return F.prototype.all=function(){return this._all(this.data,[])},F.prototype.search=function(C){var z=this.data,K=[];if(!x(C,z))return K;for(var N=this.toBBox,ne=[];z;){for(var J=0;J<z.children.length;J++){var le=z.children[J],de=z.leaf?N(le):le;x(C,de)&&(z.leaf?K.push(le):y(C,de)?this._all(le,K):ne.push(le))}z=ne.pop()}return K},F.prototype.collides=function(C){var z=this.data;if(!x(C,z))return!1;for(var K=[];z;){for(var N=0;N<z.children.length;N++){var ne=z.children[N],J=z.leaf?this.toBBox(ne):ne;if(x(C,J)){if(z.leaf||y(C,J))return!0;K.push(ne)}}z=K.pop()}return!1},F.prototype.load=function(C){if(!C||!C.length)return this;if(C.length<this._minEntries){for(var z=0;z<C.length;z++)this.insert(C[z]);return this}var K=this._build(C.slice(),0,C.length-1,0);if(this.data.children.length)if(this.data.height===K.height)this._splitRoot(this.data,K);else{if(this.data.height<K.height){var N=this.data;this.data=K,K=N}this._insert(K,this.data.height-K.height-1,!0)}else this.data=K;return this},F.prototype.insert=function(C){return C&&this._insert(C,this.data.height-1),this},F.prototype.clear=function(){return this.data=P([]),this},F.prototype.remove=function(C,z){if(!C)return this;for(var K,N,ne,J=this.data,le=this.toBBox(C),de=[],ve=[];J||de.length;){if(J||(J=de.pop(),N=de[de.length-1],K=ve.pop(),ne=!0),J.leaf){var Ce=U(C,J.children,z);if(-1!==Ce)return J.children.splice(Ce,1),de.push(J),this._condense(de),this}ne||J.leaf||!y(J,le)?N?(K++,J=N.children[K],ne=!1):J=null:(de.push(J),ve.push(K),K=0,N=J,J=J.children[0])}return this},F.prototype.toBBox=function(C){return C},F.prototype.compareMinX=function(C,z){return C.minX-z.minX},F.prototype.compareMinY=function(C,z){return C.minY-z.minY},F.prototype.toJSON=function(){return this.data},F.prototype.fromJSON=function(C){return this.data=C,this},F.prototype._all=function(C,z){for(var K=[];C;)C.leaf?z.push.apply(z,C.children):K.push.apply(K,C.children),C=K.pop();return z},F.prototype._build=function(C,z,K,N){var ne,J=K-z+1,le=this._maxEntries;if(J<=le)return T(ne=P(C.slice(z,K+1)),this.toBBox),ne;N||(N=Math.ceil(Math.log(J)/Math.log(le)),le=Math.ceil(J/Math.pow(le,N-1))),(ne=P([])).leaf=!1,ne.height=N;var de=Math.ceil(J/le),ve=de*Math.ceil(Math.sqrt(le));k(C,z,K,ve,this.compareMinX);for(var Ce=z;Ce<=K;Ce+=ve){var fe=Math.min(Ce+ve-1,K);k(C,Ce,fe,de,this.compareMinY);for(var De=Ce;De<=fe;De+=de){var W=Math.min(De+de-1,fe);ne.children.push(this._build(C,De,W,N-1))}}return T(ne,this.toBBox),ne},F.prototype._chooseSubtree=function(C,z,K,N){for(;N.push(z),!z.leaf&&N.length-1!==K;){for(var ne=1/0,J=1/0,le=void 0,de=0;de<z.children.length;de++){var ve=z.children[de],Ce=O(ve),fe=(De=C,W=ve,(Math.max(W.maxX,De.maxX)-Math.min(W.minX,De.minX))*(Math.max(W.maxY,De.maxY)-Math.min(W.minY,De.minY))-Ce);fe<J?(J=fe,ne=Ce<ne?Ce:ne,le=ve):fe===J&&Ce<ne&&(ne=Ce,le=ve)}z=le||z.children[0]}var De,W;return z},F.prototype._insert=function(C,z,K){var N=K?C:this.toBBox(C),ne=[],J=this._chooseSubtree(N,this.data,z,ne);for(J.children.push(C),Y(J,N);z>=0&&ne[z].children.length>this._maxEntries;)this._split(ne,z),z--;this._adjustParentBBoxes(N,ne,z)},F.prototype._split=function(C,z){var K=C[z],N=K.children.length,ne=this._minEntries;this._chooseSplitAxis(K,ne,N);var J=this._chooseSplitIndex(K,ne,N),le=P(K.children.splice(J,K.children.length-J));le.height=K.height,le.leaf=K.leaf,T(K,this.toBBox),T(le,this.toBBox),z?C[z-1].children.push(le):this._splitRoot(K,le)},F.prototype._splitRoot=function(C,z){this.data=P([C,z]),this.data.height=C.height+1,this.data.leaf=!1,T(this.data,this.toBBox)},F.prototype._chooseSplitIndex=function(C,z,K){for(var N,ne,J,le,de,ve,Ce,fe=1/0,De=1/0,W=z;W<=K-z;W++){var Re=R(C,0,W,this.toBBox),lt=R(C,W,K,this.toBBox),Ve=(ne=Re,J=lt,void 0,void 0,void 0,void 0,le=Math.max(ne.minX,J.minX),de=Math.max(ne.minY,J.minY),ve=Math.min(ne.maxX,J.maxX),Ce=Math.min(ne.maxY,J.maxY),Math.max(0,ve-le)*Math.max(0,Ce-de)),yt=O(Re)+O(lt);Ve<fe?(fe=Ve,N=W,De=yt<De?yt:De):Ve===fe&&yt<De&&(De=yt,N=W)}return N||K-z},F.prototype._chooseSplitAxis=function(C,z,K){var N=C.leaf?this.compareMinX:I,ne=C.leaf?this.compareMinY:L;this._allDistMargin(C,z,K,N)<this._allDistMargin(C,z,K,ne)&&C.children.sort(N)},F.prototype._allDistMargin=function(C,z,K,N){C.children.sort(N);for(var ne=this.toBBox,J=R(C,0,z,ne),le=R(C,K-z,K,ne),de=b(J)+b(le),ve=z;ve<K-z;ve++){var Ce=C.children[ve];Y(J,C.leaf?ne(Ce):Ce),de+=b(J)}for(var fe=K-z-1;fe>=z;fe--){var De=C.children[fe];Y(le,C.leaf?ne(De):De),de+=b(le)}return de},F.prototype._adjustParentBBoxes=function(C,z,K){for(var N=K;N>=0;N--)Y(z[N],C)},F.prototype._condense=function(C){for(var z=C.length-1,K=void 0;z>=0;z--)0===C[z].children.length?z>0?(K=C[z-1].children).splice(K.indexOf(C[z]),1):this.clear():T(C[z],this.toBBox)},F}()},3502:(ot,oe,ie)=>{var Q=ie(3172),F=Q.Buffer;function U(R,Y){for(var I in R)Y[I]=R[I]}function T(R,Y,I){return F(R,Y,I)}F.from&&F.alloc&&F.allocUnsafe&&F.allocUnsafeSlow?ot.exports=Q:(U(Q,oe),oe.Buffer=T),T.prototype=Object.create(F.prototype),U(F,T),T.from=function(R,Y,I){if("number"==typeof R)throw new TypeError("Argument must not be a number");return F(R,Y,I)},T.alloc=function(R,Y,I){if("number"!=typeof R)throw new TypeError("Argument must be a number");var L=F(R);return void 0!==Y?"string"==typeof I?L.fill(Y,I):L.fill(Y):L.fill(0),L},T.allocUnsafe=function(R){if("number"!=typeof R)throw new TypeError("Argument must be a number");return F(R)},T.allocUnsafeSlow=function(R){if("number"!=typeof R)throw new TypeError("Argument must be a number");return Q.SlowBuffer(R)}},7056:(ot,oe,ie)=>{"use strict";const Q=ie(767),F=ie(1947),U=ie(3172).Buffer;ot.exports=function T(R,Y){return new Q(function(I,L){const O=F(R,Y),b=new XMLHttpRequest;b.open("GET",O,!0),"prj"!==Y&&"cpg"!==Y&&(b.responseType="arraybuffer"),b.addEventListener("load",function(){return b.status>399?"prj"===Y||"cpg"===Y?I(!1):L(new Error(b.status)):I("prj"!==Y&&"cpg"!==Y?U.from(b.response):b.response)},!1),b.send()})}},5646:(ot,oe,ie)=>{"use strict";var Q=ie(7156).default;const F=ie(7056),U=ie(1947),T=ie(3172).Buffer;ot.exports=function(){var R=Q(function*(I,L){if(!global.fetch)return F(I,L);const O=U(I,L),b="prj"===L||"cpg"===L;try{const y=yield fetch(O);if(y.status>399)throw new Error(y.statusText);if(b)return y.text();const x=yield y.arrayBuffer();return T.from(x)}catch(y){if(console.log("ERROR",y,L),b||"dbf"===L)return!1;throw y}});return function Y(I,L){return R.apply(this,arguments)}}()},1947:ot=>{const oe=global.URL;ot.exports=(ie,Q)=>{if(!Q)return ie;const F=new oe(ie);return F.pathname=`${F.pathname}.${Q}`,F.href}},9634:(ot,oe,ie)=>{"use strict";var Q=ie(7156).default;let F=ie(7871);F.default&&(F=F.default);const U=ie(6912),T=ie(5646),R=ie(9195),Y=ie(4220),I=ie(767),L=ie(7843),O=ie(3172).Buffer,b=global.URL,y=new L({max:20});function x(J){if(!J)throw new Error("forgot to pass buffer");return O.isBuffer(J)?J:P(J)?O.from(J):P(J.buffer)?O.from(1===J.BYTES_PER_ELEMENT?J:J.buffer):void 0}function P(J){return J instanceof global.ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(J)}function k(J,le){return"string"==typeof J&&y.has(J)?I.resolve(y.get(J)):k.getShapefile(J,le).then(function(de){return"string"==typeof J&&y.set(J,de),de})}function z(){return(z=Q(function*(J,le){const de=yield T(J);return k.parseZip(de,le)})).apply(this,arguments)}k.combine=function([J,le]){const de={type:"FeatureCollection",features:[]};let ve=0;const Ce=J.length;for(le||(le=[]);ve<Ce;)de.features.push({type:"Feature",geometry:J[ve],properties:le[ve]||{}}),ve++;return de},k.parseZip=function(){var J=Q(function*(le,de){let ve;le=x(le);const Ce=yield U(le),fe=[];for(ve in de=de||[],Ce)-1===ve.indexOf("__MACOSX")&&("shp"===ve.slice(-3).toLowerCase()?(fe.push(ve.slice(0,-4)),Ce[ve.slice(0,-3)+ve.slice(-3).toLowerCase()]=Ce[ve]):"prj"===ve.slice(-3).toLowerCase()?Ce[ve.slice(0,-3)+ve.slice(-3).toLowerCase()]=F(Ce[ve]):"json"===ve.slice(-4).toLowerCase()||de.indexOf(ve.split(".").pop())>-1?fe.push(ve.slice(0,-3)+ve.slice(-3).toLowerCase()):("dbf"===ve.slice(-3).toLowerCase()||"cpg"===ve.slice(-3).toLowerCase())&&(Ce[ve.slice(0,-3)+ve.slice(-3).toLowerCase()]=Ce[ve]));if(!fe.length)throw new Error("no layers founds");const De=fe.map(function(W){let Re,lt;const Ve=W.lastIndexOf(".");return Ve>-1&&W.slice(Ve).indexOf("json")>-1?(Re=JSON.parse(Ce[W]),Re.fileName=W.slice(0,Ve)):de.indexOf(W.slice(Ve+1))>-1?(Re=Ce[W],Re.fileName=W):(Ce[W+".dbf"]&&(lt=Y(Ce[W+".dbf"],Ce[W+".cpg"])),Re=k.combine([R(Ce[W+".shp"],Ce[W+".prj"]),lt]),Re.fileName=W),Re});return 1===De.length?De[0]:De});return function(le,de){return J.apply(this,arguments)}}();const K=function(){var J=Q(function*(le){const de=yield I.all([T(le,"shp"),T(le,"prj")]);let ve=!1;try{de[1]&&(ve=F(de[1]))}catch{ve=!1}return R(de[0],ve)});return function(de){return J.apply(this,arguments)}}(),N=function(){var J=Q(function*(le){const[de,ve]=yield I.all([T(le,"dbf"),T(le,"cpg")]);if(de)return Y(de,ve)});return function(de){return J.apply(this,arguments)}}();k.getShapefile=function(){var J=Q(function*(le,de){if("string"!=typeof le)return k.parseZip(le);if(((J,le)=>".zip"===new b(J).pathname.slice(-4).toLowerCase())(le))return function C(J,le){return z.apply(this,arguments)}(le,de);const ve=yield I.all([K(le),N(le)]);return k.combine(ve)});return function(le,de){return J.apply(this,arguments)}}(),k.parseShp=function(J,le){if(J=x(J),O.isBuffer(le)&&(le=le.toString()),"string"==typeof le)try{le=F(le)}catch{le=!1}return R(J,le)},k.parseDbf=function(J,le){return J=x(J),Y(J,le)},ot.exports=k},9195:ot=>{"use strict";function ie(T,R){return function oe(T){let R=0,Y=1;const I=T.length;let L,O;for(;Y<I;)L=O||T[0],O=T[Y],R+=(O[0]-L[0])*(O[1]+L[1]),Y++;return R>0}(R)||!T.length?T.push([R]):T[T.length-1].push(R),T}U.prototype.parsePoint=function(T){return{type:"Point",coordinates:this.parseCoord(T,0)}},U.prototype.parseZPoint=function(T){const R=this.parsePoint(T);return R.coordinates.push(T.readDoubleLE(16)),R},U.prototype.parsePointArray=function(T,R,Y){const I=[];let L=0;for(;L<Y;)I.push(this.parseCoord(T,R)),R+=16,L++;return I},U.prototype.parseZPointArray=function(T,R,Y,I){let L=0;for(;L<Y;)I[L].push(T.readDoubleLE(R)),L++,R+=8;return I},U.prototype.parseArrayGroup=function(T,R,Y,I,L){const O=[];let y,P,b=0,x=0;for(;b<I;)b++,y=x,x=b===I?L:T.readInt32LE(Y+=4),P=x-y,P&&(O.push(this.parsePointArray(T,R,P)),R+=P<<4);return O},U.prototype.parseZArrayGroup=function(T,R,Y,I){let L=0;for(;L<Y;)I[L]=this.parseZPointArray(T,R,I[L].length,I[L]),R+=I[L].length<<3,L++;return I},U.prototype.parseMultiPoint=function(T){const R={},Y=T.readInt32LE(32,!0);if(!Y)return null;const I=this.parseCoord(T,0),L=this.parseCoord(T,16);return R.bbox=[I[0],I[1],L[0],L[1]],1===Y?(R.type="Point",R.coordinates=this.parseCoord(T,36)):(R.type="MultiPoint",R.coordinates=this.parsePointArray(T,36,Y)),R},U.prototype.parseZMultiPoint=function(T){const R=this.parseMultiPoint(T);if(!R)return null;let Y;return"Point"===R.type?(R.coordinates.push(T.readDoubleLE(72)),R):(Y=R.coordinates.length,R.coordinates=this.parseZPointArray(T,52+(Y<<4),Y,R.coordinates),R)},U.prototype.parsePolyline=function(T){const R={},Y=T.readInt32LE(32);if(!Y)return null;const I=this.parseCoord(T,0),L=this.parseCoord(T,16);R.bbox=[I[0],I[1],L[0],L[1]];const O=T.readInt32LE(36);let b,y;return 1===Y?(R.type="LineString",b=44,R.coordinates=this.parsePointArray(T,b,O)):(R.type="MultiLineString",b=40+(Y<<2),y=40,R.coordinates=this.parseArrayGroup(T,b,40,Y,O)),R},U.prototype.parseZPolyline=function(T){const R=this.parsePolyline(T);if(!R)return null;const Y=R.coordinates.length;let I;return"LineString"===R.type?(I=60+(Y<<4),R.coordinates=this.parseZPointArray(T,I,Y,R.coordinates),R):(I=56+(R.coordinates.reduce(function(O,b){return O+b.length},0)<<4)+(Y<<2),R.coordinates=this.parseZArrayGroup(T,I,Y,R.coordinates),R)},U.prototype.polyFuncs=function(T){return T&&("LineString"===T.type?(T.type="Polygon",T.coordinates=[T.coordinates],T):(T.coordinates=T.coordinates.reduce(ie,[]),1===T.coordinates.length?(T.type="Polygon",T.coordinates=T.coordinates[0],T):(T.type="MultiPolygon",T)))},U.prototype.parsePolygon=function(T){return this.polyFuncs(this.parsePolyline(T))},U.prototype.parseZPolygon=function(T){return this.polyFuncs(this.parseZPolyline(T))};const Q={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function U(T,R){if(!(this instanceof U))return new U(T,R);this.buffer=T,this.headers=this.parseHeader(),this.headers.length<this.buffer.byteLength&&(this.buffer=this.buffer.slice(0,this.headers.length)),this.shpFuncs(R),this.rows=this.getRows()}U.prototype.shpFuncs=function(T){let R=this.headers.shpCode;if(R>20&&(R-=20),!(R in Q))throw new Error("I don't know that shp type");this.parseFunc=this[Q[R]],this.parseCoord=function F(T){return T?function(R,Y){const I=[R.readDoubleLE(Y),R.readDoubleLE(Y+8)];return T.inverse(I)}:function(R,Y){return[R.readDoubleLE(Y),R.readDoubleLE(Y+8)]}}(T)},U.prototype.getShpCode=function(){return this.parseHeader().shpCode},U.prototype.parseHeader=function(){const T=this.buffer.slice(0,100);return{length:T.readInt32BE(24)<<1,version:T.readInt32LE(28),shpCode:T.readInt32LE(32),bbox:[T.readDoubleLE(36),T.readDoubleLE(44),T.readDoubleLE(52),T.readDoubleLE(52)]}},U.prototype.getRows=function(){let T=100;const R=this.buffer.byteLength,Y=[];let I;for(;T<R&&(I=this.getRow(T),I);)T+=8,T+=I.len,Y.push(I.type?this.parseFunc(I.data):null);return Y},U.prototype.getRow=function(T){const R=this.buffer.slice(T,T+12),Y=R.readInt32BE(4)<<1,I=R.readInt32BE(0);return 0===Y?{id:I,len:Y,type:0}:{id:I,len:Y,data:this.buffer.slice(T+12,T+Y+8),type:R.readInt32LE(8)}},ot.exports=function(T,R){return new U(T,R).rows}},6912:(ot,oe,ie)=>{"use strict";var Q=ie(7156).default;const F=ie(5650);ot.exports=function(){var U=Q(function*(T){const R=new F;yield R.loadAsync(T);const Y=R.file(/.+/),I={};return yield Promise.all(Y.map(function(){var L=Q(function*(O){let b;b="shp"===O.name.slice(-3).toLowerCase()||"dbf"===O.name.slice(-3).toLowerCase()?yield O.async("nodebuffer"):yield O.async("text"),I[O.name]=b});return function(O){return L.apply(this,arguments)}}())),I});return function(T){return U.apply(this,arguments)}}()},7843:ot=>{!function(){function oe(y,x){return Object.prototype.hasOwnProperty.call(y,x)}function ie(){return 1}ot.exports?ot.exports=U:this.LRUCache=U;var Q=!1;function F(y){!Q&&"string"!=typeof y&&"number"!=typeof y&&(Q=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof y).stack))}function U(y){if(!(this instanceof U))return new U(y);"number"==typeof y&&(y={max:y}),y||(y={}),this._max=y.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=y.length||ie,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=ie),this._allowStale=y.stale||!1,this._maxAge=y.maxAge||null,this._dispose=y.dispose,this.reset()}function T(y,x,P){F(x);var k=y._cache[x];return k&&(R(y,k)?(O(y,k),y._allowStale||(k=void 0)):P&&function Y(y,x){L(y,x),x.lu=y._mru++,y._lruList[x.lu]=x}(y,k),k&&(k=k.value)),k}function R(y,x){if(!x||!x.maxAge&&!y._maxAge)return!1;var k=Date.now()-x.now;return x.maxAge?k>x.maxAge:y._maxAge&&k>y._maxAge}function I(y){for(;y._lru<y._mru&&y._length>y._max;)O(y,y._lruList[y._lru])}function L(y,x){for(delete y._lruList[x.lu];y._lru<y._mru&&!y._lruList[y._lru];)y._lru++}function O(y,x){x&&(y._dispose&&y._dispose(x.key,x.value),y._length-=x.length,y._itemCount--,delete y._cache[x.key],L(y,x))}function b(y,x,P,k,C,z){this.key=y,this.value=x,this.lu=P,this.length=k,this.now=C,z&&(this.maxAge=z)}Object.defineProperty(U.prototype,"max",{set:function(y){(!y||"number"!=typeof y||y<=0)&&(y=1/0),this._max=y,this._length>this._max&&I(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(U.prototype,"lengthCalculator",{set:function(y){if("function"!=typeof y)for(var x in this._lengthCalculator=ie,this._length=this._itemCount,this._cache)this._cache[x].length=1;else for(var x in this._lengthCalculator=y,this._length=0,this._cache)this._cache[x].length=this._lengthCalculator(this._cache[x].value),this._length+=this._cache[x].length;this._length>this._max&&I(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(U.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(U.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),U.prototype.forEach=function(y,x){x=x||this;for(var P=0,k=this._itemCount,C=this._mru-1;C>=0&&P<k;C--)if(this._lruList[C]){P++;var z=this._lruList[C];R(this,z)&&(O(this,z),this._allowStale||(z=void 0)),z&&y.call(x,z.value,z.key,this)}},U.prototype.keys=function(){for(var y=new Array(this._itemCount),x=0,P=this._mru-1;P>=0&&x<this._itemCount;P--)this._lruList[P]&&(y[x++]=this._lruList[P].key);return y},U.prototype.values=function(){for(var y=new Array(this._itemCount),x=0,P=this._mru-1;P>=0&&x<this._itemCount;P--)this._lruList[P]&&(y[x++]=this._lruList[P].value);return y},U.prototype.reset=function(){if(this._dispose&&this._cache)for(var y in this._cache)this._dispose(y,this._cache[y].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},U.prototype.dump=function(){for(var y=[],x=0,P=this._mru-1;P>=0&&x<this._itemCount;P--)if(this._lruList[P]){var k=this._lruList[P];R(this,k)||(++x,y.push({k:k.key,v:k.value,e:k.now+(k.maxAge||0)}))}return y},U.prototype.dumpLru=function(){return this._lruList},U.prototype.set=function(y,x,P){P=P||this._maxAge,F(y);var k=P?Date.now():0,C=this._lengthCalculator(x);if(oe(this._cache,y))return C>this._max?(O(this,this._cache[y]),!1):(this._dispose&&this._dispose(y,this._cache[y].value),this._cache[y].now=k,this._cache[y].maxAge=P,this._cache[y].value=x,this._length+=C-this._cache[y].length,this._cache[y].length=C,this.get(y),this._length>this._max&&I(this),!0);var z=new b(y,x,this._mru++,C,k,P);return z.length>this._max?(this._dispose&&this._dispose(y,x),!1):(this._length+=z.length,this._lruList[z.lu]=this._cache[y]=z,this._itemCount++,this._length>this._max&&I(this),!0)},U.prototype.has=function(y){return F(y),!!oe(this._cache,y)&&!R(this,this._cache[y])},U.prototype.get=function(y){return F(y),T(this,y,!0)},U.prototype.peek=function(y){return F(y),T(this,y,!1)},U.prototype.pop=function(){var y=this._lruList[this._lru];return O(this,y),y||null},U.prototype.del=function(y){F(y),O(this,this._cache[y])},U.prototype.load=function(y){this.reset();for(var x=Date.now(),P=y.length-1;P>=0;P--){var k=y[P];F(k.k);var C=k.e||0;if(0===C)this.set(k.k,k.v);else{var z=C-x;z>0&&this.set(k.k,k.v,z)}}}}()},3054:(ot,oe,ie)=>{"use strict";var Q=ie(3502).Buffer,F=Q.isEncoding||function(N){switch((N=""+N)&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(N){var ne;switch(this.encoding=function T(N){var ne=function U(N){if(!N)return"utf8";for(var ne;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(ne)return;N=(""+N).toLowerCase(),ne=!0}}(N);if("string"!=typeof ne&&(Q.isEncoding===F||!F(N)))throw new Error("Unknown encoding: "+N);return ne||N}(N),this.encoding){case"utf16le":this.text=x,this.end=P,ne=4;break;case"utf8":this.fillLast=O,ne=4;break;case"base64":this.text=k,this.end=C,ne=3;break;default:return this.write=z,void(this.end=K)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q.allocUnsafe(ne)}function Y(N){return N<=127?0:N>>5==6?2:N>>4==14?3:N>>3==30?4:N>>6==2?-1:-2}function O(N){var ne=this.lastTotal-this.lastNeed,J=function L(N,ne,J){if(128!=(192&ne[0]))return N.lastNeed=0,"\ufffd";if(N.lastNeed>1&&ne.length>1){if(128!=(192&ne[1]))return N.lastNeed=1,"\ufffd";if(N.lastNeed>2&&ne.length>2&&128!=(192&ne[2]))return N.lastNeed=2,"\ufffd"}}(this,N);return void 0!==J?J:this.lastNeed<=N.length?(N.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(N.copy(this.lastChar,ne,0,N.length),void(this.lastNeed-=N.length))}function x(N,ne){if((N.length-ne)%2==0){var J=N.toString("utf16le",ne);if(J){var le=J.charCodeAt(J.length-1);if(le>=55296&&le<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",ne,N.length-1)}function P(N){var ne=N&&N.length?this.write(N):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function k(N,ne){var J=(N.length-ne)%3;return 0===J?N.toString("base64",ne):(this.lastNeed=3-J,this.lastTotal=3,1===J?this.lastChar[0]=N[N.length-1]:(this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1]),N.toString("base64",ne,N.length-J))}function C(N){var ne=N&&N.length?this.write(N):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function z(N){return N.toString(this.encoding)}function K(N){return N&&N.length?this.write(N):""}oe.s=R,R.prototype.write=function(N){if(0===N.length)return"";var ne,J;if(this.lastNeed){if(void 0===(ne=this.fillLast(N)))return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<N.length?ne?ne+this.text(N,J):this.text(N,J):ne||""},R.prototype.end=function y(N){var ne=N&&N.length?this.write(N):"";return this.lastNeed?ne+"\ufffd":ne},R.prototype.text=function b(N,ne){var J=function I(N,ne,J){var le=ne.length-1;if(le<J)return 0;var de=Y(ne[le]);return de>=0?(de>0&&(N.lastNeed=de-1),de):--le<J||-2===de?0:(de=Y(ne[le]))>=0?(de>0&&(N.lastNeed=de-2),de):--le<J||-2===de?0:(de=Y(ne[le]))>=0?(de>0&&(2===de?de=0:N.lastNeed=de-3),de):0}(this,N,ne);if(!this.lastNeed)return N.toString("utf8",ne);this.lastTotal=J;var le=N.length-(J-this.lastNeed);return N.copy(this.lastChar,0,le),N.toString("utf8",ne,le)},R.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length}},6905:(ot,oe,ie)=>{ot.exports=ie(3446)},3446:function(ot,oe,ie){!function(Q){"use strict";function F(w,G,ee){return G<=w&&w<=ee}ot.exports&&!Q["encoding-indexes"]&&ie(7597);var T=Math.floor;function R(w){if(void 0===w)return{};if(w===Object(w))return w;throw TypeError("Could not convert argument to dictionary")}function L(w){return 0<=w&&w<=127}var O=L,b=-1;function y(w){this.tokens=[].slice.call(w),this.tokens.reverse()}y.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():b},prepend:function(w){if(Array.isArray(w))for(var G=w;G.length;)this.tokens.push(G.pop());else this.tokens.push(w)},push:function(w){if(Array.isArray(w))for(var G=w;G.length;)this.tokens.unshift(G.shift());else this.tokens.unshift(w)}};var x=-1;function P(w,G){if(w)throw TypeError("Decoder error");return G||65533}function k(w){throw TypeError("The code point "+w+" could not be encoded.")}function K(w){return w=String(w).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(ne,w)?ne[w]:null}var N=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],ne={};N.forEach(function(w){w.encodings.forEach(function(G){G.labels.forEach(function(ee){ne[ee]=G})})});var Re,Ve,J={},le={};function de(w,G){return G&&G[w]||null}function ve(w,G){var ee=G.indexOf(w);return-1===ee?null:ee}function Ce(w){if(!("encoding-indexes"in Q))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return Q["encoding-indexes"][w]}function We(w,G){if(!(this instanceof We))throw TypeError("Called as a function. Did you forget 'new'?");w=void 0!==w?String(w):"utf-8",G=R(G),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var ee=K(w);if(null===ee||"replacement"===ee.name)throw RangeError("Unknown encoding: "+w);if(!le[ee.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var X=this;return X._encoding=ee,Boolean(G.fatal)&&(X._error_mode="fatal"),Boolean(G.ignoreBOM)&&(X._ignoreBOM=!0),Object.defineProperty||(this.encoding=X._encoding.name.toLowerCase(),this.fatal="fatal"===X._error_mode,this.ignoreBOM=X._ignoreBOM),X}function it(w,G){if(!(this instanceof it))throw TypeError("Called as a function. Did you forget 'new'?");if(G=R(G),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(G.fatal)?"fatal":"replacement",Boolean(G.NONSTANDARD_allowLegacyEncoding)){var X=K(w=void 0!==w?String(w):"utf-8");if(null===X||"replacement"===X.name)throw RangeError("Unknown encoding: "+w);if(!J[X.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=X}else this._encoding=K("utf-8"),void 0!==w&&"console"in Q&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function Te(w){var G=w.fatal,ee=0,X=0,ue=0,ge=128,ye=191;this.handler=function(Se,ke){if(ke===b&&0!==ue)return ue=0,P(G);if(ke===b)return x;if(0===ue){if(F(ke,0,127))return ke;if(F(ke,194,223))ue=1,ee=31&ke;else if(F(ke,224,239))224===ke&&(ge=160),237===ke&&(ye=159),ue=2,ee=15&ke;else{if(!F(ke,240,244))return P(G);240===ke&&(ge=144),244===ke&&(ye=143),ue=3,ee=7&ke}return null}if(!F(ke,ge,ye))return ee=ue=X=0,ge=128,ye=191,Se.prepend(ke),P(G);if(ge=128,ye=191,ee=ee<<6|63&ke,(X+=1)!==ue)return null;var Et=ee;return ee=ue=X=0,Et}}function we(w){this.handler=function(ee,X){if(X===b)return x;if(O(X))return X;var ue,ge;F(X,128,2047)?(ue=1,ge=192):F(X,2048,65535)?(ue=2,ge=224):F(X,65536,1114111)&&(ue=3,ge=240);for(var ye=[(X>>6*ue)+ge];ue>0;)ye.push(128|63&X>>6*(ue-1)),ue-=1;return ye}}function pt(w,G){var ee=G.fatal;this.handler=function(X,ue){if(ue===b)return x;if(L(ue))return ue;var ge=w[ue-128];return null===ge?P(ee):ge}}function Xe(w,G){this.handler=function(X,ue){if(ue===b)return x;if(O(ue))return ue;var ge=ve(ue,w);return null===ge&&k(ue),ge+128}}function Pe(w){var G=w.fatal,ee=0,X=0,ue=0;this.handler=function(ge,ye){if(ye===b&&0===ee&&0===X&&0===ue)return x;var Se;if(ye===b&&(0!==ee||0!==X||0!==ue)&&(ee=0,X=0,ue=0,P(G)),0!==ue){Se=null,F(ye,48,57)&&(Se=function fe(w){if(w>39419&&w<189e3||w>1237575)return null;if(7457===w)return 59335;var ue,G=0,ee=0,X=Ce("gb18030-ranges");for(ue=0;ue<X.length;++ue){var ge=X[ue];if(!(ge[0]<=w))break;G=ge[0],ee=ge[1]}return ee+w-G}(10*(126*(10*(ee-129)+X-48)+ue-129)+ye-48));var ke=[X,ue,ye];return ee=0,X=0,ue=0,null===Se?(ge.prepend(ke),P(G)):Se}if(0!==X)return F(ye,129,254)?(ue=ye,null):(ge.prepend([X,ye]),ee=0,X=0,P(G));if(0!==ee){if(F(ye,48,57))return X=ye,null;var Et=ee,tn=null;ee=0;var Kt=ye<127?64:65;return(F(ye,64,126)||F(ye,128,254))&&(tn=190*(Et-129)+(ye-Kt)),null===(Se=null===tn?null:de(tn,Ce("gb18030")))&&L(ye)&&ge.prepend(ye),null===Se?P(G):Se}return L(ye)?ye:128===ye?8364:F(ye,129,254)?(ee=ye,null):P(G)}}function mn(w,G){this.handler=function(X,ue){if(ue===b)return x;if(O(ue))return ue;if(58853===ue)return k(ue);if(G&&8364===ue)return 128;var ge=ve(ue,Ce("gb18030"));if(null!==ge){var Se=ge%190;return[T(ge/190)+129,Se+(Se<63?64:65)]}if(G)return k(ue);ge=function De(w){if(59335===w)return 7457;var ue,G=0,ee=0,X=Ce("gb18030-ranges");for(ue=0;ue<X.length;++ue){var ge=X[ue];if(!(ge[1]<=w))break;G=ge[1],ee=ge[0]}return ee+w-G}(ue);var Et=T(ge/10/126/10),tn=T((ge-=10*Et*126*10)/10/126),Kt=T((ge-=10*tn*126)/10);return[Et+129,tn+48,Kt+129,ge-10*Kt+48]}}function Ln(w){var G=w.fatal,ee=0;this.handler=function(X,ue){if(ue===b&&0!==ee)return ee=0,P(G);if(ue===b&&0===ee)return x;if(0!==ee){var ge=ee,ye=null;ee=0;var Se=ue<127?64:98;switch((F(ue,64,126)||F(ue,161,254))&&(ye=157*(ge-129)+(ue-Se)),ye){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var ke=null===ye?null:de(ye,Ce("big5"));return null===ke&&L(ue)&&X.prepend(ue),null===ke?P(G):ke}return L(ue)?ue:F(ue,129,254)?(ee=ue,null):P(G)}}function gt(w){this.handler=function(ee,X){if(X===b)return x;if(O(X))return X;var ue=function lt(w){var G=Ve=Ve||Ce("big5").map(function(ee,X){return X<5024?null:ee});return 9552===w||9566===w||9569===w||9578===w||21313===w||21317===w?G.lastIndexOf(w):ve(w,G)}(X);if(null===ue)return k(X);var ge=T(ue/157)+129;if(ge<161)return k(X);var ye=ue%157;return[ge,ye+(ye<63?64:98)]}}function Dt(w){var G=w.fatal,ee=!1,X=0;this.handler=function(ue,ge){if(ge===b&&0!==X)return X=0,P(G);if(ge===b&&0===X)return x;if(142===X&&F(ge,161,223))return X=0,65216+ge;if(143===X&&F(ge,161,254))return ee=!0,X=ge,null;if(0!==X){var ye=X;X=0;var Se=null;return F(ye,161,254)&&F(ge,161,254)&&(Se=de(94*(ye-161)+(ge-161),Ce(ee?"jis0212":"jis0208"))),ee=!1,F(ge,161,254)||ue.prepend(ge),null===Se?P(G):Se}return L(ge)?ge:142===ge||143===ge||F(ge,161,254)?(X=ge,null):P(G)}}function _n(w){this.handler=function(ee,X){if(X===b)return x;if(O(X))return X;if(165===X)return 92;if(8254===X)return 126;if(F(X,65377,65439))return[142,X-65377+161];8722===X&&(X=65293);var ue=ve(X,Ce("jis0208"));return null===ue?k(X):[T(ue/94)+161,ue%94+161]}}function jt(w){var G=w.fatal,X=0,ge=0,ye=!1;this.handler=function(Se,ke){switch(X){default:case 0:return 27===ke?(X=5,null):F(ke,0,127)&&14!==ke&&15!==ke&&27!==ke?(ye=!1,ke):ke===b?x:(ye=!1,P(G));case 1:return 27===ke?(X=5,null):92===ke?(ye=!1,165):126===ke?(ye=!1,8254):F(ke,0,127)&&14!==ke&&15!==ke&&27!==ke&&92!==ke&&126!==ke?(ye=!1,ke):ke===b?x:(ye=!1,P(G));case 2:return 27===ke?(X=5,null):F(ke,33,95)?(ye=!1,65344+ke):ke===b?x:(ye=!1,P(G));case 3:return 27===ke?(X=5,null):F(ke,33,126)?(ye=!1,ge=ke,X=4,null):ke===b?x:(ye=!1,P(G));case 4:if(27===ke)return X=5,P(G);if(F(ke,33,126)){X=3;var tn=de(94*(ge-33)+ke-33,Ce("jis0208"));return null===tn?P(G):tn}return ke===b?(X=3,Se.prepend(ke),P(G)):(X=3,P(G));case 5:return 36===ke||40===ke?(ge=ke,X=6,null):(Se.prepend(ke),ye=!1,X=0,P(G));case 6:var Kt=ge;ge=0;var $n=null;if(40===Kt&&66===ke&&($n=0),40===Kt&&74===ke&&($n=1),40===Kt&&73===ke&&($n=2),36===Kt&&(64===ke||66===ke)&&($n=3),null!==$n){X=X=$n;var Oi=ye;return ye=!0,Oi?P(G):null}return Se.prepend([Kt,ke]),ye=!1,X=0,P(G)}}}function Jn(w){var X=0;this.handler=function(ue,ge){if(ge===b&&0!==X)return ue.prepend(ge),X=0,[27,40,66];if(ge===b&&0===X)return x;if(!(0!==X&&1!==X||14!==ge&&15!==ge&&27!==ge))return k(65533);if(0===X&&O(ge))return ge;if(1===X&&(O(ge)&&92!==ge&&126!==ge||165==ge||8254==ge)){if(O(ge))return ge;if(165===ge)return 92;if(8254===ge)return 126}if(O(ge)&&0!==X)return ue.prepend(ge),X=0,[27,40,66];if((165===ge||8254===ge)&&1!==X)return ue.prepend(ge),X=1,[27,40,74];8722===ge&&(ge=65293);var ye=ve(ge,Ce("jis0208"));return null===ye?k(ge):2!==X?(ue.prepend(ge),X=2,[27,36,66]):[T(ye/94)+33,ye%94+33]}}function ri(w){var G=w.fatal,ee=0;this.handler=function(X,ue){if(ue===b&&0!==ee)return ee=0,P(G);if(ue===b&&0===ee)return x;if(0!==ee){var ge=ee,ye=null;ee=0;var Se=ue<127?64:65,ke=ge<160?129:193;if((F(ue,64,126)||F(ue,128,252))&&(ye=188*(ge-ke)+ue-Se),F(ye,8836,10715))return 48508+ye;var Et=null===ye?null:de(ye,Ce("jis0208"));return null===Et&&L(ue)&&X.prepend(ue),null===Et?P(G):Et}return L(ue)||128===ue?ue:F(ue,161,223)?65216+ue:F(ue,129,159)||F(ue,224,252)?(ee=ue,null):P(G)}}function V(w){this.handler=function(ee,X){if(X===b)return x;if(O(X)||128===X)return X;if(165===X)return 92;if(8254===X)return 126;if(F(X,65377,65439))return X-65377+161;8722===X&&(X=65293);var ue=function W(w){return(Re=Re||Ce("jis0208").map(function(ee,X){return F(X,8272,8835)?null:ee})).indexOf(w)}(X);if(null===ue)return k(X);var ge=T(ue/188),Se=ue%188;return[ge+(ge<31?129:193),Se+(Se<63?64:65)]}}function Oe(w){var G=w.fatal,ee=0;this.handler=function(X,ue){if(ue===b&&0!==ee)return ee=0,P(G);if(ue===b&&0===ee)return x;if(0!==ee){var ge=ee,ye=null;ee=0,F(ue,65,254)&&(ye=190*(ge-129)+(ue-65));var Se=null===ye?null:de(ye,Ce("euc-kr"));return null===ye&&L(ue)&&X.prepend(ue),null===Se?P(G):Se}return L(ue)?ue:F(ue,129,254)?(ee=ue,null):P(G)}}function Me(w){this.handler=function(ee,X){if(X===b)return x;if(O(X))return X;var ue=ve(X,Ce("euc-kr"));return null===ue?k(X):[T(ue/190)+129,ue%190+65]}}function he(w,G){var ee=w>>8,X=255&w;return G?[ee,X]:[X,ee]}function ce(w,G){var ee=G.fatal,X=null,ue=null;this.handler=function(ge,ye){if(ye===b&&(null!==X||null!==ue))return P(ee);if(ye===b&&null===X&&null===ue)return x;if(null===X)return X=ye,null;var Se;if(Se=w?(X<<8)+ye:(ye<<8)+X,X=null,null!==ue){var ke=ue;return ue=null,F(Se,56320,57343)?65536+1024*(ke-55296)+(Se-56320):(ge.prepend(he(Se,w)),P(ee))}return F(Se,55296,56319)?(ue=Se,null):F(Se,56320,57343)?P(ee):Se}}function _(w,G){this.handler=function(X,ue){if(ue===b)return x;if(F(ue,0,65535))return he(ue,w);var ge=he(55296+(ue-65536>>10),w),ye=he(56320+(ue-65536&1023),w);return ge.concat(ye)}}function m(w){this.handler=function(ee,X){return X===b?x:L(X)?X:63360+X-128}}function v(w){this.handler=function(ee,X){return X===b?x:O(X)?X:F(X,63360,63487)?X-63360+128:k(X)}}Object.defineProperty&&(Object.defineProperty(We.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(We.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(We.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),We.prototype.decode=function(G,ee){var X;X="object"==typeof G&&G instanceof ArrayBuffer?new Uint8Array(G):"object"==typeof G&&"buffer"in G&&G.buffer instanceof ArrayBuffer?new Uint8Array(G.buffer,G.byteOffset,G.byteLength):new Uint8Array(0),ee=R(ee),this._do_not_flush||(this._decoder=le[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(ee.stream);for(var ye,ue=new y(X),ge=[];;){var Se=ue.read();if(Se===b||(ye=this._decoder.handler(ue,Se))===x)break;null!==ye&&(Array.isArray(ye)?ge.push.apply(ge,ye):ge.push(ye))}if(!this._do_not_flush){do{if((ye=this._decoder.handler(ue,ue.read()))===x)break;null!==ye&&(Array.isArray(ye)?ge.push.apply(ge,ye):ge.push(ye))}while(!ue.endOfStream());this._decoder=null}return function ke(Et){return function U(w,G){return-1!==w.indexOf(G)}(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(Et.length>0&&65279===Et[0]?(this._BOMseen=!0,Et.shift()):Et.length>0&&(this._BOMseen=!0)),function I(w){for(var G="",ee=0;ee<w.length;++ee){var X=w[ee];X<=65535?G+=String.fromCharCode(X):(X-=65536,G+=String.fromCharCode(55296+(X>>10),56320+(1023&X)))}return G}(Et)}.call(this,ge)},Object.defineProperty&&Object.defineProperty(it.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),it.prototype.encode=function(G,ee){G=void 0===G?"":String(G),ee=R(ee),this._do_not_flush||(this._encoder=J[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(ee.stream);for(var ge,X=new y(function Y(w){for(var G=String(w),ee=G.length,X=0,ue=[];X<ee;){var ge=G.charCodeAt(X);if(ge<55296||ge>57343)ue.push(ge);else if(56320<=ge&&ge<=57343)ue.push(65533);else if(55296<=ge&&ge<=56319)if(X===ee-1)ue.push(65533);else{var ye=G.charCodeAt(X+1);56320<=ye&&ye<=57343?(ue.push(65536+((1023&ge)<<10)+(1023&ye)),X+=1):ue.push(65533)}X+=1}return ue}(G)),ue=[];;){var ye=X.read();if(ye===b||(ge=this._encoder.handler(X,ye))===x)break;Array.isArray(ge)?ue.push.apply(ue,ge):ue.push(ge)}if(!this._do_not_flush){for(;(ge=this._encoder.handler(X,X.read()))!==x;)Array.isArray(ge)?ue.push.apply(ue,ge):ue.push(ge);this._encoder=null}return new Uint8Array(ue)},J["UTF-8"]=function(w){return new we(w)},le["UTF-8"]=function(w){return new Te(w)},"encoding-indexes"in Q&&N.forEach(function(w){"Legacy single-byte encodings"===w.heading&&w.encodings.forEach(function(G){var ee=G.name,X=Ce(ee.toLowerCase());le[ee]=function(ue){return new pt(X,ue)},J[ee]=function(ue){return new Xe(X,ue)}})}),le.GBK=function(w){return new Pe(w)},J.GBK=function(w){return new mn(w,!0)},J.gb18030=function(w){return new mn(w)},le.gb18030=function(w){return new Pe(w)},J.Big5=function(w){return new gt(w)},le.Big5=function(w){return new Ln(w)},J["EUC-JP"]=function(w){return new _n(w)},le["EUC-JP"]=function(w){return new Dt(w)},J["ISO-2022-JP"]=function(w){return new Jn(w)},le["ISO-2022-JP"]=function(w){return new jt(w)},J.Shift_JIS=function(w){return new V(w)},le.Shift_JIS=function(w){return new ri(w)},J["EUC-KR"]=function(w){return new Me(w)},le["EUC-KR"]=function(w){return new Oe(w)},J["UTF-16BE"]=function(w){return new _(!0,w)},le["UTF-16BE"]=function(w){return new ce(!0,w)},J["UTF-16LE"]=function(w){return new _(!1,w)},le["UTF-16LE"]=function(w){return new ce(!1,w)},J["x-user-defined"]=function(w){return new v(w)},le["x-user-defined"]=function(w){return new m(w)},Q.TextEncoder||(Q.TextEncoder=it),Q.TextDecoder||(Q.TextDecoder=We),ot.exports&&(ot.exports={TextEncoder:Q.TextEncoder,TextDecoder:Q.TextDecoder,EncodingIndexes:Q["encoding-indexes"]})}(this||{})},7597:()=>{},7156:ot=>{function oe(Q,F,U,T,R,Y,I){try{var L=Q[Y](I),O=L.value}catch(b){return void U(b)}L.done?F(O):Promise.resolve(O).then(T,R)}ot.exports=function ie(Q){return function(){var F=this,U=arguments;return new Promise(function(T,R){var Y=Q.apply(F,U);function I(O){oe(Y,T,R,I,L,"next",O)}function L(O){oe(Y,T,R,I,L,"throw",O)}I(void 0)})}},ot.exports.__esModule=!0,ot.exports.default=ot.exports},6978:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>U});const Q={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class F extends Error{constructor(R){const Y=Q[R];super(Y),this.code=R,this.name="AssertionError",this.message=Y}}const U=F},2815:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>L});var Q=ie(6978),F=ie(3632),U=ie(9889),T=ie(8214);class Y extends T.ZP{constructor(b,y,x){super(b),this.element=y,this.index=x}}const L=class I extends F.Z{constructor(b,y){if(super(),this.unique_=!!(y=y||{}).unique,this.array_=b||[],this.unique_)for(let x=0,P=this.array_.length;x<P;++x)this.assertUnique_(this.array_[x],x);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(b){for(let y=0,x=b.length;y<x;++y)this.push(b[y]);return this}forEach(b){const y=this.array_;for(let x=0,P=y.length;x<P;++x)b(y[x],x,y)}getArray(){return this.array_}item(b){return this.array_[b]}getLength(){return this.get("length")}insertAt(b,y){if(b<0||b>this.getLength())throw new Error("Index out of bounds: "+b);this.unique_&&this.assertUnique_(y),this.array_.splice(b,0,y),this.updateLength_(),this.dispatchEvent(new Y(U.Z.ADD,y,b))}pop(){return this.removeAt(this.getLength()-1)}push(b){this.unique_&&this.assertUnique_(b);const y=this.getLength();return this.insertAt(y,b),this.getLength()}remove(b){const y=this.array_;for(let x=0,P=y.length;x<P;++x)if(y[x]===b)return this.removeAt(x)}removeAt(b){if(b<0||b>=this.getLength())return;const y=this.array_[b];return this.array_.splice(b,1),this.updateLength_(),this.dispatchEvent(new Y(U.Z.REMOVE,y,b)),y}setAt(b,y){if(b>=this.getLength())return void this.insertAt(b,y);if(b<0)throw new Error("Index out of bounds: "+b);this.unique_&&this.assertUnique_(y,b);const P=this.array_[b];this.array_[b]=y,this.dispatchEvent(new Y(U.Z.REMOVE,P,b)),this.dispatchEvent(new Y(U.Z.ADD,y,b))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(b,y){for(let x=0,P=this.array_.length;x<P;++x)if(this.array_[x]===b&&x!==y)throw new Q.Z(58)}}},9889:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={ADD:"add",REMOVE:"remove"}},625:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>F});const F=class Q{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},7656:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},3632:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>L});var Q=ie(8214),F=ie(4587),U=ie(4272),T=ie(119),R=ie(9466);class Y extends Q.ZP{constructor(b,y,x){super(b),this.key=y,this.oldValue=x}}const L=class I extends U.default{constructor(b){super(),(0,T.sq)(this),this.values_=null,void 0!==b&&this.setProperties(b)}get(b){let y;return this.values_&&this.values_.hasOwnProperty(b)&&(y=this.values_[b]),y}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(b,y){let x;x=`change:${b}`,this.hasListener(x)&&this.dispatchEvent(new Y(x,b,y)),x=F.Z.PROPERTYCHANGE,this.hasListener(x)&&this.dispatchEvent(new Y(x,b,y))}addChangeListener(b,y){this.addEventListener(`change:${b}`,y)}removeChangeListener(b,y){this.removeEventListener(`change:${b}`,y)}set(b,y,x){const P=this.values_||(this.values_={});if(x)P[b]=y;else{const k=P[b];P[b]=y,k!==y&&this.notify(b,k)}}setProperties(b,y){for(const x in b)this.set(x,b[x],y)}applyProperties(b){!b.values_||Object.assign(this.values_||(this.values_={}),b.values_)}unset(b,y){if(this.values_&&b in this.values_){const x=this.values_[b];delete this.values_[b],(0,R.x)(this.values_)&&(this.values_=null),y||this.notify(b,x)}}}},4587:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={PROPERTYCHANGE:"propertychange"}},4272:(ot,oe,ie)=>{"use strict";ie.r(oe),ie.d(oe,{default:()=>Y,unByKey:()=>R});var Q=ie(8007),F=ie(9972),U=ie(1729);function R(I){if(Array.isArray(I))for(let L=0,O=I.length;L<O;++L)(0,U.bN)(I[L]);else(0,U.bN)(I)}const Y=class T extends Q.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(F.Z.CHANGE)}getRevision(){return this.revision_}onInternal(L,O){if(Array.isArray(L)){const b=L.length,y=new Array(b);for(let x=0;x<b;++x)y[x]=(0,U.oL)(this,L[x],O);return y}return(0,U.oL)(this,L,O)}onceInternal(L,O){let b;if(Array.isArray(L)){const y=L.length;b=new Array(y);for(let x=0;x<y;++x)b[x]=(0,U.Vx)(this,L[x],O)}else b=(0,U.Vx)(this,L,O);return O.ol_key=b,b}unInternal(L,O){const b=O.ol_key;if(b)R(b);else if(Array.isArray(L))for(let y=0,x=L.length;y<x;++y)this.removeEventListener(L[y],O);else this.removeEventListener(L,O)}}},2456:(ot,oe,ie)=>{"use strict";function Q(b,y,x){let P,k;x=x||F;let C=0,z=b.length,K=!1;for(;C<z;)P=C+(z-C>>1),k=+x(b[P],y),k<0?C=P+1:(z=P,K=!k);return K?C:~C}function F(b,y){return b>y?1:b<y?-1:0}function U(b,y,x){const P=b.length;if(b[0]<=y)return 0;if(y<=b[P-1])return P-1;let k;if(x>0){for(k=1;k<P;++k)if(b[k]<y)return k-1}else if(x<0){for(k=1;k<P;++k)if(b[k]<=y)return k}else for(k=1;k<P;++k){if(b[k]==y)return k;if(b[k]<y)return"function"==typeof x?x(y,b[k-1],b[k])>0?k-1:k:b[k-1]-y<y-b[k]?k-1:k}return P-1}function T(b,y,x){for(;y<x;){const P=b[y];b[y]=b[x],b[x]=P,++y,--x}}function R(b,y){const x=Array.isArray(y)?y:[y],P=x.length;for(let k=0;k<P;k++)b[b.length]=x[k]}function I(b,y){const x=b.length;if(x!==y.length)return!1;for(let P=0;P<x;P++)if(b[P]!==y[P])return!1;return!0}function O(b,y,x){const P=y||F;return b.every(function(k,C){if(0===C)return!0;const z=P(b[C-1],k);return!(z>0||x&&0===z)})}ie.d(oe,{FZ:()=>T,fS:()=>I,h7:()=>U,j2:()=>F,l7:()=>R,pT:()=>O,ry:()=>Q})},1911:(ot,oe,ie)=>{"use strict";ie.d(oe,{h:()=>F});var Q=ie(6978);function F(U,T){if(!U)throw new Q.Z(T)}},6422:(ot,oe,ie)=>{"use strict";ie.r(oe),ie.d(oe,{default:()=>I});var Q=ie(3632),F=ie(7656),U=ie(1345),T=ie(1729),R=ie(1992);const I=class Y extends Q.Z{constructor(O){super();const b=O.element;b&&!O.target&&!b.style.pointerEvents&&(b.style.pointerEvents="auto"),this.element=b||null,this.target_=null,this.map_=null,this.listenerKeys=[],O.render&&(this.render=O.render),O.target&&this.setTarget(O.target)}disposeInternal(){(0,R.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(O){this.map_&&(0,R.ZF)(this.element);for(let b=0,y=this.listenerKeys.length;b<y;++b)(0,T.bN)(this.listenerKeys[b]);this.listenerKeys.length=0,this.map_=O,O&&((this.target_?this.target_:O.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==U.Zn&&this.listenerKeys.push((0,T.oL)(O,F.Z.POSTRENDER,this.render,this)),O.render())}render(O){}setTarget(O){this.target_="string"==typeof O?document.getElementById(O):O}}},1992:(ot,oe,ie)=>{"use strict";ie.d(oe,{$H:()=>Y,E4:()=>F,Pb:()=>R,ZF:()=>I,ep:()=>L,hF:()=>O,iO:()=>T,jy:()=>U});var Q=ie(9996);function F(b,y,x,P){let k;return k=x&&x.length?x.shift():Q.Id?new OffscreenCanvas(b||300,y||300):document.createElement("canvas"),b&&(k.width=b),y&&(k.height=y),k.getContext("2d",P)}function U(b){const y=b.canvas;y.width=1,y.height=1,b.clearRect(0,0,1,1)}function T(b){let y=b.offsetWidth;const x=getComputedStyle(b);return y+=parseInt(x.marginLeft,10)+parseInt(x.marginRight,10),y}function R(b){let y=b.offsetHeight;const x=getComputedStyle(b);return y+=parseInt(x.marginTop,10)+parseInt(x.marginBottom,10),y}function Y(b,y){const x=y.parentNode;x&&x.replaceChild(b,y)}function I(b){return b&&b.parentNode?b.parentNode.removeChild(b):null}function L(b){for(;b.lastChild;)b.removeChild(b.lastChild)}function O(b,y){const x=b.childNodes;for(let P=0;;++P){const k=x[P],C=y[P];if(!k&&!C)break;if(k!==C){if(!k){b.appendChild(C);continue}if(!C){b.removeChild(k),--P;continue}b.insertBefore(C,k)}}}},1729:(ot,oe,ie)=>{"use strict";ie.d(oe,{Vx:()=>U,bN:()=>T,oL:()=>F});var Q=ie(9466);function F(R,Y,I,L,O){if(L&&L!==R&&(I=I.bind(L)),O){const y=I;I=function(){R.removeEventListener(Y,I),y.apply(this,arguments)}}const b={target:R,type:Y,listener:I};return R.addEventListener(Y,I),b}function U(R,Y,I,L){return F(R,Y,I,L,!0)}function T(R){R&&R.target&&(R.target.removeEventListener(R.type,R.listener),(0,Q.Z)(R))}},8214:(ot,oe,ie)=>{"use strict";function F(R){R.stopPropagation()}ie.d(oe,{UW:()=>F,ZP:()=>T});const T=class Q{constructor(Y){this.type=Y,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},9972:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},8007:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Y});var Q=ie(625),F=ie(8214),U=ie(1345),T=ie(9466);const Y=class R extends Q.Z{constructor(L){super(),this.eventTarget_=L,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(L,O){if(!L||!O)return;const b=this.listeners_||(this.listeners_={}),y=b[L]||(b[L]=[]);y.includes(O)||y.push(O)}dispatchEvent(L){const O="string"==typeof L,b=O?L:L.type,y=this.listeners_&&this.listeners_[b];if(!y)return;const x=O?new F.ZP(L):L;x.target||(x.target=this.eventTarget_||this);const P=this.dispatching_||(this.dispatching_={}),k=this.pendingRemovals_||(this.pendingRemovals_={});let C;b in P||(P[b]=0,k[b]=0),++P[b];for(let z=0,K=y.length;z<K;++z)if(C="handleEvent"in y[z]?y[z].handleEvent(x):y[z].call(this,x),!1===C||x.propagationStopped){C=!1;break}if(0==--P[b]){let z=k[b];for(delete k[b];z--;)this.removeEventListener(b,U.Zn);delete P[b]}return C}disposeInternal(){this.listeners_&&(0,T.Z)(this.listeners_)}getListeners(L){return this.listeners_&&this.listeners_[L]||void 0}hasListener(L){return!!this.listeners_&&(L?L in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(L,O){const b=this.listeners_&&this.listeners_[L];if(b){const y=b.indexOf(O);-1!==y&&(this.pendingRemovals_&&L in this.pendingRemovals_?(b[y]=U.Zn,++this.pendingRemovals_[L]):(b.splice(y,1),0===b.length&&delete this.listeners_[L]))}}}},760:(ot,oe,ie)=>{"use strict";ie.d(oe,{Cf:()=>he,Cr:()=>pt,EO:()=>ri,Ed:()=>Pe,GN:()=>K,H6:()=>W,HK:()=>C,I7:()=>Oe,MV:()=>ce,Ne:()=>Me,T9:()=>P,Wj:()=>de,Xv:()=>Dt,YN:()=>k,b8:()=>L,bg:()=>Re,d9:()=>Y,dY:()=>we,dz:()=>_n,f3:()=>R,fS:()=>ne,g0:()=>We,hC:()=>lt,hI:()=>U,jE:()=>b,kK:()=>jt,l7:()=>le,lJ:()=>x,p8:()=>Te,pX:()=>y,qP:()=>Ce,qf:()=>I,qg:()=>yt,r4:()=>O,rL:()=>gt,w$:()=>Ve,xb:()=>Jn});var Q=ie(2401),F=ie(1911);function U(_){const m=[1/0,1/0,-1/0,-1/0];for(let v=0,w=_.length;v<w;++v)de(m,_[v]);return m}function R(_,m,v){return v?(v[0]=_[0]-m,v[1]=_[1]-m,v[2]=_[2]+m,v[3]=_[3]+m,v):[_[0]-m,_[1]-m,_[2]+m,_[3]+m]}function Y(_,m){return m?(m[0]=_[0],m[1]=_[1],m[2]=_[2],m[3]=_[3],m):_.slice()}function I(_,m,v){let w,G;return w=m<_[0]?_[0]-m:_[2]<m?m-_[2]:0,G=v<_[1]?_[1]-v:_[3]<v?v-_[3]:0,w*w+G*G}function L(_,m){return b(_,m[0],m[1])}function O(_,m){return _[0]<=m[0]&&m[2]<=_[2]&&_[1]<=m[1]&&m[3]<=_[3]}function b(_,m,v){return _[0]<=m&&m<=_[2]&&_[1]<=v&&v<=_[3]}function y(_,m){const X=m[0],ue=m[1];let ge=Q.Z.UNKNOWN;return X<_[0]?ge|=Q.Z.LEFT:X>_[2]&&(ge|=Q.Z.RIGHT),ue<_[1]?ge|=Q.Z.BELOW:ue>_[3]&&(ge|=Q.Z.ABOVE),ge===Q.Z.UNKNOWN&&(ge=Q.Z.INTERSECTING),ge}function x(){return[1/0,1/0,-1/0,-1/0]}function P(_,m,v,w,G){return G?(G[0]=_,G[1]=m,G[2]=v,G[3]=w,G):[_,m,v,w]}function k(_){return P(1/0,1/0,-1/0,-1/0,_)}function C(_,m){const v=_[0],w=_[1];return P(v,w,v,w,m)}function K(_,m,v,w,G){return Ce(k(G),_,m,v,w)}function ne(_,m){return _[0]==m[0]&&_[2]==m[2]&&_[1]==m[1]&&_[3]==m[3]}function le(_,m){return m[0]<_[0]&&(_[0]=m[0]),m[2]>_[2]&&(_[2]=m[2]),m[1]<_[1]&&(_[1]=m[1]),m[3]>_[3]&&(_[3]=m[3]),_}function de(_,m){m[0]<_[0]&&(_[0]=m[0]),m[0]>_[2]&&(_[2]=m[0]),m[1]<_[1]&&(_[1]=m[1]),m[1]>_[3]&&(_[3]=m[1])}function Ce(_,m,v,w,G){for(;v<w;v+=G)De(_,m[v],m[v+1]);return _}function De(_,m,v){_[0]=Math.min(_[0],m),_[1]=Math.min(_[1],v),_[2]=Math.max(_[2],m),_[3]=Math.max(_[3],v)}function W(_,m){let v;return v=m(lt(_)),!!(v||(v=m(Ve(_)),v)||(v=m(Dt(_)),v)||(v=m(gt(_)),v))&&v}function Re(_){let m=0;return Jn(_)||(m=_n(_)*pt(_)),m}function lt(_){return[_[0],_[1]]}function Ve(_){return[_[2],_[1]]}function yt(_){return[(_[0]+_[2])/2,(_[1]+_[3])/2]}function We(_,m){let v;return"bottom-left"===m?v=lt(_):"bottom-right"===m?v=Ve(_):"top-left"===m?v=gt(_):"top-right"===m?v=Dt(_):(0,F.h)(!1,13),v}function Te(_,m,v,w,G){const[ee,X,ue,ge,ye,Se,ke,Et]=we(_,m,v,w);return P(Math.min(ee,ue,ye,ke),Math.min(X,ge,Se,Et),Math.max(ee,ue,ye,ke),Math.max(X,ge,Se,Et),G)}function we(_,m,v,w){const G=m*w[0]/2,ee=m*w[1]/2,X=Math.cos(v),ue=Math.sin(v),ge=G*X,ye=G*ue,Se=ee*X,ke=ee*ue,Et=_[0],tn=_[1];return[Et-ge+ke,tn-ye-Se,Et-ge-ke,tn-ye+Se,Et+ge-ke,tn+ye+Se,Et+ge+ke,tn+ye-Se,Et-ge+ke,tn-ye-Se]}function pt(_){return _[3]-_[1]}function Pe(_,m,v){const w=v||[1/0,1/0,-1/0,-1/0];return jt(_,m)?(w[0]=_[0]>m[0]?_[0]:m[0],w[1]=_[1]>m[1]?_[1]:m[1],w[2]=_[2]<m[2]?_[2]:m[2],w[3]=_[3]<m[3]?_[3]:m[3]):k(w),w}function gt(_){return[_[0],_[3]]}function Dt(_){return[_[2],_[3]]}function _n(_){return _[2]-_[0]}function jt(_,m){return _[0]<=m[2]&&_[2]>=m[0]&&_[1]<=m[3]&&_[3]>=m[1]}function Jn(_){return _[2]<_[0]||_[3]<_[1]}function ri(_,m){return m?(m[0]=_[0],m[1]=_[1],m[2]=_[2],m[3]=_[3],m):_}function Oe(_,m,v){let w=!1;const G=y(_,m),ee=y(_,v);if(G===Q.Z.INTERSECTING||ee===Q.Z.INTERSECTING)w=!0;else{const X=_[0],ue=_[1],ge=_[2],ye=_[3],Et=v[0],tn=v[1],Kt=(tn-m[1])/(Et-m[0]);let $n,Oi;!!(ee&Q.Z.ABOVE)&&!(G&Q.Z.ABOVE)&&($n=Et-(tn-ye)/Kt,w=$n>=X&&$n<=ge),!w&&!!(ee&Q.Z.RIGHT)&&!(G&Q.Z.RIGHT)&&(Oi=tn-(Et-ge)*Kt,w=Oi>=ue&&Oi<=ye),!w&&!!(ee&Q.Z.BELOW)&&!(G&Q.Z.BELOW)&&($n=Et-(tn-ue)/Kt,w=$n>=X&&$n<=ge),!w&&ee&Q.Z.LEFT&&!(G&Q.Z.LEFT)&&(Oi=tn-(Et-X)*Kt,w=Oi>=ue&&Oi<=ye)}return w}function Me(_,m,v,w){let G=[];if(w>1){const ue=_[2]-_[0],ge=_[3]-_[1];for(let ye=0;ye<w;++ye)G.push(_[0]+ue*ye/w,_[1],_[2],_[1]+ge*ye/w,_[2]-ue*ye/w,_[3],_[0],_[3]-ge*ye/w)}else G=[_[0],_[1],_[2],_[1],_[2],_[3],_[0],_[3]];m(G,G,2);const ee=[],X=[];for(let ue=0,ge=G.length;ue<ge;ue+=2)ee.push(G[ue]),X.push(G[ue+1]);return function T(_,m,v){return P(Math.min.apply(null,_),Math.min.apply(null,m),Math.max.apply(null,_),Math.max.apply(null,m),v)}(ee,X,v)}function he(_,m){const v=m.getExtent(),w=yt(_);if(m.canWrapX()&&(w[0]<v[0]||w[0]>=v[2])){const G=_n(v),X=Math.floor((w[0]-v[0])/G)*G;_[0]-=X,_[2]-=X}return _}function ce(_,m){if(m.canWrapX()){const v=m.getExtent();if(!isFinite(_[0])||!isFinite(_[2]))return[[v[0],_[1],v[2],_[3]]];he(_,m);const w=_n(v);if(_n(_)>w)return[[v[0],_[1],v[2],_[3]]];if(_[0]<v[0])return[[_[0]+w,_[1],v[2],_[3]],[v[0],_[1],_[2],_[3]]];if(_[2]>v[2])return[[_[0],_[1],v[2],_[3]],[v[0],_[1],_[2]-w,_[3]]]}return[_]}},2401:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},1345:(ot,oe,ie)=>{"use strict";ie.d(oe,{Dv:()=>U,Zn:()=>T,qe:()=>R,uX:()=>F});var Q=ie(2456);function F(){return!0}function U(){return!1}function T(){}function R(I){let O,b,y,L=!1;return function(){const x=Array.prototype.slice.call(arguments);return(!L||this!==y||!(0,Q.fS)(x,b))&&(L=!0,y=this,b=x,O=I.apply(this,arguments)),O}}},9996:(ot,oe,ie)=>{"use strict";ie.d(oe,{G$:()=>R,Id:()=>L,MP:()=>I,Tp:()=>O,V:()=>F,bM:()=>b,tK:()=>Y});const Q=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",F=Q.includes("firefox"),R=(Q.includes("safari")&&!Q.includes("chrom")&&(Q.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Q)),Q.includes("webkit")&&!Q.includes("edge")),Y=Q.includes("macintosh"),I=typeof devicePixelRatio<"u"?devicePixelRatio:1,L=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,O=typeof Image<"u"&&Image.prototype.decode,b=function(){let y=!1;try{const x=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("_",null,x),window.removeEventListener("_",null,x)}catch{}return y}()},5560:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>I});var Q=ie(3632),F=ie(2683),U=ie(119),T=ie(1911),R=ie(2156);const I=class Y extends Q.Z{constructor(O){super(),this.background_=O.background;const b=Object.assign({},O);"object"==typeof O.properties&&(delete b.properties,Object.assign(b,O.properties)),b[F.Z.OPACITY]=void 0!==O.opacity?O.opacity:1,(0,T.h)("number"==typeof b[F.Z.OPACITY],64),b[F.Z.VISIBLE]=void 0===O.visible||O.visible,b[F.Z.Z_INDEX]=O.zIndex,b[F.Z.MAX_RESOLUTION]=void 0!==O.maxResolution?O.maxResolution:1/0,b[F.Z.MIN_RESOLUTION]=void 0!==O.minResolution?O.minResolution:0,b[F.Z.MIN_ZOOM]=void 0!==O.minZoom?O.minZoom:-1/0,b[F.Z.MAX_ZOOM]=void 0!==O.maxZoom?O.maxZoom:1/0,this.className_=void 0!==b.className?b.className:"ol-layer",delete b.className,this.setProperties(b),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(O){const b=this.state_||{layer:this,managed:void 0===O||O},y=this.getZIndex();return b.opacity=(0,R.uZ)(Math.round(100*this.getOpacity())/100,0,1),b.visible=this.getVisible(),b.extent=this.getExtent(),b.zIndex=void 0!==y||b.managed?y:1/0,b.maxResolution=this.getMaxResolution(),b.minResolution=Math.max(this.getMinResolution(),0),b.minZoom=this.getMinZoom(),b.maxZoom=this.getMaxZoom(),this.state_=b,b}getLayersArray(O){return(0,U.O3)()}getLayerStatesArray(O){return(0,U.O3)()}getExtent(){return this.get(F.Z.EXTENT)}getMaxResolution(){return this.get(F.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(F.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(F.Z.MIN_ZOOM)}getMaxZoom(){return this.get(F.Z.MAX_ZOOM)}getOpacity(){return this.get(F.Z.OPACITY)}getSourceState(){return(0,U.O3)()}getVisible(){return this.get(F.Z.VISIBLE)}getZIndex(){return this.get(F.Z.Z_INDEX)}setBackground(O){this.background_=O,this.changed()}setExtent(O){this.set(F.Z.EXTENT,O)}setMaxResolution(O){this.set(F.Z.MAX_RESOLUTION,O)}setMinResolution(O){this.set(F.Z.MIN_RESOLUTION,O)}setMaxZoom(O){this.set(F.Z.MAX_ZOOM,O)}setMinZoom(O){this.set(F.Z.MIN_ZOOM,O)}setOpacity(O){(0,T.h)("number"==typeof O,64),this.set(F.Z.OPACITY,O)}setVisible(O){this.set(F.Z.VISIBLE,O)}setZIndex(O){this.set(F.Z.Z_INDEX,O)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}},4973:(ot,oe,ie)=>{"use strict";ie.r(oe),ie.d(oe,{GroupEvent:()=>x,default:()=>C});var Q=ie(5560),F=ie(2815),U=ie(9889),T=ie(8214),R=ie(9972),Y=ie(4587),I=ie(1911),L=ie(9466),O=ie(760),b=ie(119),y=ie(1729);class x extends T.ZP{constructor(K,N){super(K),this.layer=N}}class k extends Q.Z{constructor(K){K=K||{};const N=Object.assign({},K);delete N.layers;let ne=K.layers;super(N),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),ne?Array.isArray(ne)?ne=new F.Z(ne.slice(),{unique:!0}):(0,I.h)("function"==typeof ne.getArray,43):ne=new F.Z(void 0,{unique:!0}),this.setLayers(ne)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(y.bN),this.layersListenerKeys_.length=0;const K=this.getLayers();this.layersListenerKeys_.push((0,y.oL)(K,U.Z.ADD,this.handleLayersAdd_,this),(0,y.oL)(K,U.Z.REMOVE,this.handleLayersRemove_,this));for(const ne in this.listenerKeys_)this.listenerKeys_[ne].forEach(y.bN);(0,L.Z)(this.listenerKeys_);const N=K.getArray();for(let ne=0,J=N.length;ne<J;ne++){const le=N[ne];this.registerLayerListeners_(le),this.dispatchEvent(new x("addlayer",le))}this.changed()}registerLayerListeners_(K){const N=[(0,y.oL)(K,Y.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,y.oL)(K,R.Z.CHANGE,this.handleLayerChange_,this)];K instanceof k&&N.push((0,y.oL)(K,"addlayer",this.handleLayerGroupAdd_,this),(0,y.oL)(K,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,b.sq)(K)]=N}handleLayerGroupAdd_(K){this.dispatchEvent(new x("addlayer",K.layer))}handleLayerGroupRemove_(K){this.dispatchEvent(new x("removelayer",K.layer))}handleLayersAdd_(K){const N=K.element;this.registerLayerListeners_(N),this.dispatchEvent(new x("addlayer",N)),this.changed()}handleLayersRemove_(K){const N=K.element,ne=(0,b.sq)(N);this.listenerKeys_[ne].forEach(y.bN),delete this.listenerKeys_[ne],this.dispatchEvent(new x("removelayer",N)),this.changed()}getLayers(){return this.get("layers")}setLayers(K){const N=this.getLayers();if(N){const ne=N.getArray();for(let J=0,le=ne.length;J<le;++J)this.dispatchEvent(new x("removelayer",ne[J]))}this.set("layers",K)}getLayersArray(K){return K=void 0!==K?K:[],this.getLayers().forEach(function(N){N.getLayersArray(K)}),K}getLayerStatesArray(K){const N=void 0!==K?K:[],ne=N.length;this.getLayers().forEach(function(de){de.getLayerStatesArray(N)});const J=this.getLayerState();let le=J.zIndex;!K&&void 0===J.zIndex&&(le=0);for(let de=ne,ve=N.length;de<ve;de++){const Ce=N[de];Ce.opacity*=J.opacity,Ce.visible=Ce.visible&&J.visible,Ce.maxResolution=Math.min(Ce.maxResolution,J.maxResolution),Ce.minResolution=Math.max(Ce.minResolution,J.minResolution),Ce.minZoom=Math.max(Ce.minZoom,J.minZoom),Ce.maxZoom=Math.min(Ce.maxZoom,J.maxZoom),void 0!==J.extent&&(Ce.extent=void 0!==Ce.extent?(0,O.Ed)(Ce.extent,J.extent):J.extent),void 0===Ce.zIndex&&(Ce.zIndex=le)}return N}getSourceState(){return"ready"}}const C=k},2683:(ot,oe,ie)=>{"use strict";ie.d(oe,{Z:()=>Q});const Q={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2156:(ot,oe,ie)=>{"use strict";function Q(P,k,C){return Math.min(Math.max(P,k),C)}function F(P,k,C,z,K,N){const ne=K-C,J=N-z;if(0!==ne||0!==J){const le=((P-C)*ne+(k-z)*J)/(ne*ne+J*J);le>1?(C=K,z=N):le>0&&(C+=ne*le,z+=J*le)}return U(P,k,C,z)}function U(P,k,C,z){const K=C-P,N=z-k;return K*K+N*N}function T(P){const k=P.length;for(let z=0;z<k;z++){let K=z,N=Math.abs(P[z][z]);for(let J=z+1;J<k;J++){const le=Math.abs(P[J][z]);le>N&&(N=le,K=J)}if(0===N)return null;const ne=P[K];P[K]=P[z],P[z]=ne;for(let J=z+1;J<k;J++){const le=-P[J][z]/P[z][z];for(let de=z;de<k+1;de++)z==de?P[J][de]=0:P[J][de]+=le*P[z][de]}}const C=new Array(k);for(let z=k-1;z>=0;z--){C[z]=P[z][k]/P[z][z];for(let K=z-1;K>=0;K--)P[K][k]-=P[K][z]*C[z]}return C}function Y(P){return P*Math.PI/180}function I(P,k){const C=P%k;return C*k<0?C+k:C}function L(P,k,C){return P+C*(k-P)}function O(P,k){const C=Math.pow(10,k);return Math.round(P*C)/C}function y(P,k){return Math.floor(O(P,k))}function x(P,k){return Math.ceil(O(P,k))}ie.d(oe,{$W:()=>I,FH:()=>O,GW:()=>y,SV:()=>T,Yr:()=>Y,bI:()=>U,mD:()=>x,rU:()=>F,t7:()=>L,uZ:()=>Q})},9466:(ot,oe,ie)=>{"use strict";function Q(U){for(const T in U)delete U[T]}function F(U){let T;for(T in U)return!1;return!T}ie.d(oe,{Z:()=>Q,x:()=>F})},119:(ot,oe,ie)=>{"use strict";function Q(){throw new Error("Unimplemented abstract method.")}ie.d(oe,{O3:()=>Q,sq:()=>U});let F=0;function U(R){return R.ol_uid||(R.ol_uid=String(++F))}}},ot=>{ot(ot.s=5218)}]);